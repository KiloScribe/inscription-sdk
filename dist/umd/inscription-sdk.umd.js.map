{"version":3,"file":"inscription-sdk.umd.js","sources":["../../node_modules/vite-plugin-node-polyfills/shims/buffer/dist/index.js","../../node_modules/vite-plugin-node-polyfills/shims/global/dist/index.js","../../node_modules/vite-plugin-node-polyfills/shims/process/dist/index.js","../../node_modules/axios/lib/helpers/bind.js","../../node_modules/axios/lib/utils.js","../../node_modules/axios/lib/core/AxiosError.js","../../node_modules/axios/lib/helpers/toFormData.js","../../node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../../node_modules/axios/lib/helpers/buildURL.js","../../node_modules/axios/lib/core/InterceptorManager.js","../../node_modules/axios/lib/defaults/transitional.js","../../node_modules/axios/lib/platform/browser/index.js","../../node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../../node_modules/axios/lib/platform/browser/classes/FormData.js","../../node_modules/axios/lib/platform/browser/classes/Blob.js","../../node_modules/axios/lib/platform/common/utils.js","../../node_modules/axios/lib/platform/index.js","../../node_modules/axios/lib/helpers/formDataToJSON.js","../../node_modules/axios/lib/defaults/index.js","../../node_modules/axios/lib/helpers/toURLEncodedForm.js","../../node_modules/axios/lib/helpers/parseHeaders.js","../../node_modules/axios/lib/core/AxiosHeaders.js","../../node_modules/axios/lib/core/transformData.js","../../node_modules/axios/lib/cancel/isCancel.js","../../node_modules/axios/lib/cancel/CanceledError.js","../../node_modules/axios/lib/core/settle.js","../../node_modules/axios/lib/helpers/progressEventReducer.js","../../node_modules/axios/lib/helpers/speedometer.js","../../node_modules/axios/lib/helpers/throttle.js","../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../node_modules/axios/lib/helpers/cookies.js","../../node_modules/axios/lib/core/buildFullPath.js","../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../node_modules/axios/lib/helpers/combineURLs.js","../../node_modules/axios/lib/core/mergeConfig.js","../../node_modules/axios/lib/helpers/resolveConfig.js","../../node_modules/axios/lib/adapters/xhr.js","../../node_modules/axios/lib/helpers/parseProtocol.js","../../node_modules/axios/lib/helpers/composeSignals.js","../../node_modules/axios/lib/helpers/trackStream.js","../../node_modules/axios/lib/adapters/fetch.js","../../node_modules/axios/lib/adapters/adapters.js","../../node_modules/axios/lib/helpers/null.js","../../node_modules/axios/lib/core/dispatchRequest.js","../../node_modules/axios/lib/env/data.js","../../node_modules/axios/lib/helpers/validator.js","../../node_modules/axios/lib/core/Axios.js","../../node_modules/axios/lib/helpers/HttpStatusCode.js","../../node_modules/axios/lib/axios.js","../../node_modules/axios/lib/cancel/CancelToken.js","../../node_modules/axios/lib/helpers/spread.js","../../node_modules/axios/lib/helpers/isAxiosError.js","../../node_modules/axios/index.js","../../src/logger.ts","../../src/types.ts","../../src/hedera/key-type-detector.ts","../../src/auth.ts","../../src/hedera/mirror-node.ts","../../src/client-auth.ts","../../node_modules/token-types/lib/index.js","../../node_modules/ieee754/index.js","../../node_modules/strtok3/lib/stream/Errors.js","../../node_modules/strtok3/lib/stream/AbstractStreamReader.js","../../node_modules/strtok3/lib/stream/WebStreamReader.js","../../node_modules/strtok3/lib/stream/WebStreamByobReader.js","../../node_modules/strtok3/lib/stream/WebStreamDefaultReader.js","../../node_modules/strtok3/lib/AbstractTokenizer.js","../../node_modules/strtok3/lib/ReadStreamTokenizer.js","../../node_modules/strtok3/lib/BufferTokenizer.js","../../node_modules/strtok3/lib/core.js","../../node_modules/strtok3/lib/stream/WebStreamReaderFactory.js","../../node_modules/fflate/esm/browser.js","../../node_modules/ms/index.js","../../node_modules/debug/src/browser.js","../../node_modules/debug/src/common.js","../../node_modules/@tokenizer/inflate/lib/ZipToken.js","../../node_modules/@tokenizer/inflate/lib/index.js","../../node_modules/uint8array-extras/index.js","../../node_modules/file-type/util.js","../../node_modules/file-type/core.js","../../node_modules/file-type/supported.js","../../node_modules/engine.io-parser/build/esm/commons.js","../../node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../../node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../../node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../../node_modules/engine.io-parser/build/esm/index.js","../../node_modules/@socket.io/component-emitter/lib/esm/index.js","../../node_modules/engine.io-client/build/esm/globals.js","../../node_modules/engine.io-client/build/esm/util.js","../../node_modules/engine.io-client/build/esm/transport.js","../../node_modules/engine.io-client/build/esm/contrib/parseqs.js","../../node_modules/engine.io-client/build/esm/transports/polling.js","../../node_modules/engine.io-client/build/esm/contrib/has-cors.js","../../node_modules/engine.io-client/build/esm/transports/polling-xhr.js","../../node_modules/engine.io-client/build/esm/transports/websocket.js","../../node_modules/engine.io-client/build/esm/transports/index.js","../../node_modules/engine.io-client/build/esm/transports/webtransport.js","../../node_modules/engine.io-client/build/esm/contrib/parseuri.js","../../node_modules/engine.io-client/build/esm/socket.js","../../node_modules/socket.io-parser/build/esm/is-binary.js","../../node_modules/socket.io-parser/build/esm/binary.js","../../node_modules/socket.io-parser/build/esm/index.js","../../node_modules/socket.io-client/build/esm/on.js","../../node_modules/socket.io-client/build/esm/socket.js","../../node_modules/socket.io-client/build/esm/contrib/backo2.js","../../node_modules/socket.io-client/build/esm/manager.js","../../node_modules/socket.io-client/build/esm/index.js","../../node_modules/socket.io-client/build/esm/url.js","../../src/inscription-sdk.ts","../../src/index.ts"],"sourcesContent":["var buffer = {};\n\nvar base64Js = {};\n\nbase64Js.byteLength = byteLength;\nbase64Js.toByteArray = toByteArray;\nbase64Js.fromByteArray = fromByteArray;\n\nvar lookup = [];\nvar revLookup = [];\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i];\n  revLookup[code.charCodeAt(i)] = i;\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62;\nrevLookup['_'.charCodeAt(0)] = 63;\n\nfunction getLens (b64) {\n  var len = b64.length;\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=');\n  if (validLen === -1) validLen = len;\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4);\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp;\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n\n  var curByte = 0;\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen;\n\n  var i;\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)];\n    arr[curByte++] = (tmp >> 16) & 0xFF;\n    arr[curByte++] = (tmp >> 8) & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4);\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2);\n    arr[curByte++] = (tmp >> 8) & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp;\n  var output = [];\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF);\n    output.push(tripletToBase64(tmp));\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp;\n  var len = uint8.length;\n  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n  var parts = [];\n  var maxChunkLength = 16383; // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)));\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1];\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    );\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    );\n  }\n\n  return parts.join('')\n}\n\nvar ieee754 = {};\n\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\n\nieee754.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = (nBytes * 8) - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? (nBytes - 1) : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n};\n\nieee754.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = (nBytes * 8) - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0);\n  var i = isLE ? 0 : (nBytes - 1);\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128;\n};\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n(function (exports) {\n\n\tconst base64 = base64Js;\n\tconst ieee754$1 = ieee754;\n\tconst customInspectSymbol =\n\t  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n\t    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n\t    : null;\n\n\texports.Buffer = Buffer;\n\texports.SlowBuffer = SlowBuffer;\n\texports.INSPECT_MAX_BYTES = 50;\n\n\tconst K_MAX_LENGTH = 0x7fffffff;\n\texports.kMaxLength = K_MAX_LENGTH;\n\tconst { Uint8Array: GlobalUint8Array, ArrayBuffer: GlobalArrayBuffer, SharedArrayBuffer: GlobalSharedArrayBuffer } = globalThis;\n\n\t/**\n\t * If `Buffer.TYPED_ARRAY_SUPPORT`:\n\t *   === true    Use Uint8Array implementation (fastest)\n\t *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n\t *               implementation (most compatible, even IE6)\n\t *\n\t * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n\t * Opera 11.6+, iOS 4.2+.\n\t *\n\t * We report that the browser does not support typed arrays if the are not subclassable\n\t * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n\t * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n\t * for __proto__ and has a buggy typed array implementation.\n\t */\n\tBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport();\n\n\tif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n\t    typeof console.error === 'function') {\n\t  console.error(\n\t    'This browser lacks typed array (Uint8Array) support which is required by ' +\n\t    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n\t  );\n\t}\n\n\tfunction typedArraySupport () {\n\t  // Can typed array instances can be augmented?\n\t  try {\n\t    const arr = new GlobalUint8Array(1);\n\t    const proto = { foo: function () { return 42 } };\n\t    Object.setPrototypeOf(proto, GlobalUint8Array.prototype);\n\t    Object.setPrototypeOf(arr, proto);\n\t    return arr.foo() === 42\n\t  } catch (e) {\n\t    return false\n\t  }\n\t}\n\n\tObject.defineProperty(Buffer.prototype, 'parent', {\n\t  enumerable: true,\n\t  get: function () {\n\t    if (!Buffer.isBuffer(this)) return undefined\n\t    return this.buffer\n\t  }\n\t});\n\n\tObject.defineProperty(Buffer.prototype, 'offset', {\n\t  enumerable: true,\n\t  get: function () {\n\t    if (!Buffer.isBuffer(this)) return undefined\n\t    return this.byteOffset\n\t  }\n\t});\n\n\tfunction createBuffer (length) {\n\t  if (length > K_MAX_LENGTH) {\n\t    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n\t  }\n\t  // Return an augmented `Uint8Array` instance\n\t  const buf = new GlobalUint8Array(length);\n\t  Object.setPrototypeOf(buf, Buffer.prototype);\n\t  return buf\n\t}\n\n\t/**\n\t * The Buffer constructor returns instances of `Uint8Array` that have their\n\t * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n\t * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n\t * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n\t * returns a single octet.\n\t *\n\t * The `Uint8Array` prototype remains unmodified.\n\t */\n\n\tfunction Buffer (arg, encodingOrOffset, length) {\n\t  // Common case.\n\t  if (typeof arg === 'number') {\n\t    if (typeof encodingOrOffset === 'string') {\n\t      throw new TypeError(\n\t        'The \"string\" argument must be of type string. Received type number'\n\t      )\n\t    }\n\t    return allocUnsafe(arg)\n\t  }\n\t  return from(arg, encodingOrOffset, length)\n\t}\n\n\tBuffer.poolSize = 8192; // not used by this implementation\n\n\tfunction from (value, encodingOrOffset, length) {\n\t  if (typeof value === 'string') {\n\t    return fromString(value, encodingOrOffset)\n\t  }\n\n\t  if (GlobalArrayBuffer.isView(value)) {\n\t    return fromArrayView(value)\n\t  }\n\n\t  if (value == null) {\n\t    throw new TypeError(\n\t      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n\t      'or Array-like Object. Received type ' + (typeof value)\n\t    )\n\t  }\n\n\t  if (isInstance(value, GlobalArrayBuffer) ||\n\t      (value && isInstance(value.buffer, GlobalArrayBuffer))) {\n\t    return fromArrayBuffer(value, encodingOrOffset, length)\n\t  }\n\n\t  if (typeof GlobalSharedArrayBuffer !== 'undefined' &&\n\t      (isInstance(value, GlobalSharedArrayBuffer) ||\n\t      (value && isInstance(value.buffer, GlobalSharedArrayBuffer)))) {\n\t    return fromArrayBuffer(value, encodingOrOffset, length)\n\t  }\n\n\t  if (typeof value === 'number') {\n\t    throw new TypeError(\n\t      'The \"value\" argument must not be of type number. Received type number'\n\t    )\n\t  }\n\n\t  const valueOf = value.valueOf && value.valueOf();\n\t  if (valueOf != null && valueOf !== value) {\n\t    return Buffer.from(valueOf, encodingOrOffset, length)\n\t  }\n\n\t  const b = fromObject(value);\n\t  if (b) return b\n\n\t  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n\t      typeof value[Symbol.toPrimitive] === 'function') {\n\t    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n\t  }\n\n\t  throw new TypeError(\n\t    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n\t    'or Array-like Object. Received type ' + (typeof value)\n\t  )\n\t}\n\n\t/**\n\t * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n\t * if value is a number.\n\t * Buffer.from(str[, encoding])\n\t * Buffer.from(array)\n\t * Buffer.from(buffer)\n\t * Buffer.from(arrayBuffer[, byteOffset[, length]])\n\t **/\n\tBuffer.from = function (value, encodingOrOffset, length) {\n\t  return from(value, encodingOrOffset, length)\n\t};\n\n\t// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n\t// https://github.com/feross/buffer/pull/148\n\tObject.setPrototypeOf(Buffer.prototype, GlobalUint8Array.prototype);\n\tObject.setPrototypeOf(Buffer, GlobalUint8Array);\n\n\tfunction assertSize (size) {\n\t  if (typeof size !== 'number') {\n\t    throw new TypeError('\"size\" argument must be of type number')\n\t  } else if (size < 0) {\n\t    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n\t  }\n\t}\n\n\tfunction alloc (size, fill, encoding) {\n\t  assertSize(size);\n\t  if (size <= 0) {\n\t    return createBuffer(size)\n\t  }\n\t  if (fill !== undefined) {\n\t    // Only pay attention to encoding if it's a string. This\n\t    // prevents accidentally sending in a number that would\n\t    // be interpreted as a start offset.\n\t    return typeof encoding === 'string'\n\t      ? createBuffer(size).fill(fill, encoding)\n\t      : createBuffer(size).fill(fill)\n\t  }\n\t  return createBuffer(size)\n\t}\n\n\t/**\n\t * Creates a new filled Buffer instance.\n\t * alloc(size[, fill[, encoding]])\n\t **/\n\tBuffer.alloc = function (size, fill, encoding) {\n\t  return alloc(size, fill, encoding)\n\t};\n\n\tfunction allocUnsafe (size) {\n\t  assertSize(size);\n\t  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n\t}\n\n\t/**\n\t * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n\t * */\n\tBuffer.allocUnsafe = function (size) {\n\t  return allocUnsafe(size)\n\t};\n\t/**\n\t * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n\t */\n\tBuffer.allocUnsafeSlow = function (size) {\n\t  return allocUnsafe(size)\n\t};\n\n\tfunction fromString (string, encoding) {\n\t  if (typeof encoding !== 'string' || encoding === '') {\n\t    encoding = 'utf8';\n\t  }\n\n\t  if (!Buffer.isEncoding(encoding)) {\n\t    throw new TypeError('Unknown encoding: ' + encoding)\n\t  }\n\n\t  const length = byteLength(string, encoding) | 0;\n\t  let buf = createBuffer(length);\n\n\t  const actual = buf.write(string, encoding);\n\n\t  if (actual !== length) {\n\t    // Writing a hex string, for example, that contains invalid characters will\n\t    // cause everything after the first invalid character to be ignored. (e.g.\n\t    // 'abxxcd' will be treated as 'ab')\n\t    buf = buf.slice(0, actual);\n\t  }\n\n\t  return buf\n\t}\n\n\tfunction fromArrayLike (array) {\n\t  const length = array.length < 0 ? 0 : checked(array.length) | 0;\n\t  const buf = createBuffer(length);\n\t  for (let i = 0; i < length; i += 1) {\n\t    buf[i] = array[i] & 255;\n\t  }\n\t  return buf\n\t}\n\n\tfunction fromArrayView (arrayView) {\n\t  if (isInstance(arrayView, GlobalUint8Array)) {\n\t    const copy = new GlobalUint8Array(arrayView);\n\t    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n\t  }\n\t  return fromArrayLike(arrayView)\n\t}\n\n\tfunction fromArrayBuffer (array, byteOffset, length) {\n\t  if (byteOffset < 0 || array.byteLength < byteOffset) {\n\t    throw new RangeError('\"offset\" is outside of buffer bounds')\n\t  }\n\n\t  if (array.byteLength < byteOffset + (length || 0)) {\n\t    throw new RangeError('\"length\" is outside of buffer bounds')\n\t  }\n\n\t  let buf;\n\t  if (byteOffset === undefined && length === undefined) {\n\t    buf = new GlobalUint8Array(array);\n\t  } else if (length === undefined) {\n\t    buf = new GlobalUint8Array(array, byteOffset);\n\t  } else {\n\t    buf = new GlobalUint8Array(array, byteOffset, length);\n\t  }\n\n\t  // Return an augmented `Uint8Array` instance\n\t  Object.setPrototypeOf(buf, Buffer.prototype);\n\n\t  return buf\n\t}\n\n\tfunction fromObject (obj) {\n\t  if (Buffer.isBuffer(obj)) {\n\t    const len = checked(obj.length) | 0;\n\t    const buf = createBuffer(len);\n\n\t    if (buf.length === 0) {\n\t      return buf\n\t    }\n\n\t    obj.copy(buf, 0, 0, len);\n\t    return buf\n\t  }\n\n\t  if (obj.length !== undefined) {\n\t    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n\t      return createBuffer(0)\n\t    }\n\t    return fromArrayLike(obj)\n\t  }\n\n\t  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n\t    return fromArrayLike(obj.data)\n\t  }\n\t}\n\n\tfunction checked (length) {\n\t  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n\t  // length is NaN (which is otherwise coerced to zero.)\n\t  if (length >= K_MAX_LENGTH) {\n\t    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n\t                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n\t  }\n\t  return length | 0\n\t}\n\n\tfunction SlowBuffer (length) {\n\t  if (+length != length) { // eslint-disable-line eqeqeq\n\t    length = 0;\n\t  }\n\t  return Buffer.alloc(+length)\n\t}\n\n\tBuffer.isBuffer = function isBuffer (b) {\n\t  return b != null && b._isBuffer === true &&\n\t    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n\t};\n\n\tBuffer.compare = function compare (a, b) {\n\t  if (isInstance(a, GlobalUint8Array)) a = Buffer.from(a, a.offset, a.byteLength);\n\t  if (isInstance(b, GlobalUint8Array)) b = Buffer.from(b, b.offset, b.byteLength);\n\t  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n\t    throw new TypeError(\n\t      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n\t    )\n\t  }\n\n\t  if (a === b) return 0\n\n\t  let x = a.length;\n\t  let y = b.length;\n\n\t  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n\t    if (a[i] !== b[i]) {\n\t      x = a[i];\n\t      y = b[i];\n\t      break\n\t    }\n\t  }\n\n\t  if (x < y) return -1\n\t  if (y < x) return 1\n\t  return 0\n\t};\n\n\tBuffer.isEncoding = function isEncoding (encoding) {\n\t  switch (String(encoding).toLowerCase()) {\n\t    case 'hex':\n\t    case 'utf8':\n\t    case 'utf-8':\n\t    case 'ascii':\n\t    case 'latin1':\n\t    case 'binary':\n\t    case 'base64':\n\t    case 'ucs2':\n\t    case 'ucs-2':\n\t    case 'utf16le':\n\t    case 'utf-16le':\n\t      return true\n\t    default:\n\t      return false\n\t  }\n\t};\n\n\tBuffer.concat = function concat (list, length) {\n\t  if (!Array.isArray(list)) {\n\t    throw new TypeError('\"list\" argument must be an Array of Buffers')\n\t  }\n\n\t  if (list.length === 0) {\n\t    return Buffer.alloc(0)\n\t  }\n\n\t  let i;\n\t  if (length === undefined) {\n\t    length = 0;\n\t    for (i = 0; i < list.length; ++i) {\n\t      length += list[i].length;\n\t    }\n\t  }\n\n\t  const buffer = Buffer.allocUnsafe(length);\n\t  let pos = 0;\n\t  for (i = 0; i < list.length; ++i) {\n\t    let buf = list[i];\n\t    if (isInstance(buf, GlobalUint8Array)) {\n\t      if (pos + buf.length > buffer.length) {\n\t        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf);\n\t        buf.copy(buffer, pos);\n\t      } else {\n\t        GlobalUint8Array.prototype.set.call(\n\t          buffer,\n\t          buf,\n\t          pos\n\t        );\n\t      }\n\t    } else if (!Buffer.isBuffer(buf)) {\n\t      throw new TypeError('\"list\" argument must be an Array of Buffers')\n\t    } else {\n\t      buf.copy(buffer, pos);\n\t    }\n\t    pos += buf.length;\n\t  }\n\t  return buffer\n\t};\n\n\tfunction byteLength (string, encoding) {\n\t  if (Buffer.isBuffer(string)) {\n\t    return string.length\n\t  }\n\t  if (GlobalArrayBuffer.isView(string) || isInstance(string, GlobalArrayBuffer)) {\n\t    return string.byteLength\n\t  }\n\t  if (typeof string !== 'string') {\n\t    throw new TypeError(\n\t      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n\t      'Received type ' + typeof string\n\t    )\n\t  }\n\n\t  const len = string.length;\n\t  const mustMatch = (arguments.length > 2 && arguments[2] === true);\n\t  if (!mustMatch && len === 0) return 0\n\n\t  // Use a for loop to avoid recursion\n\t  let loweredCase = false;\n\t  for (;;) {\n\t    switch (encoding) {\n\t      case 'ascii':\n\t      case 'latin1':\n\t      case 'binary':\n\t        return len\n\t      case 'utf8':\n\t      case 'utf-8':\n\t        return utf8ToBytes(string).length\n\t      case 'ucs2':\n\t      case 'ucs-2':\n\t      case 'utf16le':\n\t      case 'utf-16le':\n\t        return len * 2\n\t      case 'hex':\n\t        return len >>> 1\n\t      case 'base64':\n\t        return base64ToBytes(string).length\n\t      default:\n\t        if (loweredCase) {\n\t          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n\t        }\n\t        encoding = ('' + encoding).toLowerCase();\n\t        loweredCase = true;\n\t    }\n\t  }\n\t}\n\tBuffer.byteLength = byteLength;\n\n\tfunction slowToString (encoding, start, end) {\n\t  let loweredCase = false;\n\n\t  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n\t  // property of a typed array.\n\n\t  // This behaves neither like String nor Uint8Array in that we set start/end\n\t  // to their upper/lower bounds if the value passed is out of range.\n\t  // undefined is handled specially as per ECMA-262 6th Edition,\n\t  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n\t  if (start === undefined || start < 0) {\n\t    start = 0;\n\t  }\n\t  // Return early if start > this.length. Done here to prevent potential uint32\n\t  // coercion fail below.\n\t  if (start > this.length) {\n\t    return ''\n\t  }\n\n\t  if (end === undefined || end > this.length) {\n\t    end = this.length;\n\t  }\n\n\t  if (end <= 0) {\n\t    return ''\n\t  }\n\n\t  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n\t  end >>>= 0;\n\t  start >>>= 0;\n\n\t  if (end <= start) {\n\t    return ''\n\t  }\n\n\t  if (!encoding) encoding = 'utf8';\n\n\t  while (true) {\n\t    switch (encoding) {\n\t      case 'hex':\n\t        return hexSlice(this, start, end)\n\n\t      case 'utf8':\n\t      case 'utf-8':\n\t        return utf8Slice(this, start, end)\n\n\t      case 'ascii':\n\t        return asciiSlice(this, start, end)\n\n\t      case 'latin1':\n\t      case 'binary':\n\t        return latin1Slice(this, start, end)\n\n\t      case 'base64':\n\t        return base64Slice(this, start, end)\n\n\t      case 'ucs2':\n\t      case 'ucs-2':\n\t      case 'utf16le':\n\t      case 'utf-16le':\n\t        return utf16leSlice(this, start, end)\n\n\t      default:\n\t        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n\t        encoding = (encoding + '').toLowerCase();\n\t        loweredCase = true;\n\t    }\n\t  }\n\t}\n\n\t// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n\t// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n\t// reliably in a browserify context because there could be multiple different\n\t// copies of the 'buffer' package in use. This method works even for Buffer\n\t// instances that were created from another copy of the `buffer` package.\n\t// See: https://github.com/feross/buffer/issues/154\n\tBuffer.prototype._isBuffer = true;\n\n\tfunction swap (b, n, m) {\n\t  const i = b[n];\n\t  b[n] = b[m];\n\t  b[m] = i;\n\t}\n\n\tBuffer.prototype.swap16 = function swap16 () {\n\t  const len = this.length;\n\t  if (len % 2 !== 0) {\n\t    throw new RangeError('Buffer size must be a multiple of 16-bits')\n\t  }\n\t  for (let i = 0; i < len; i += 2) {\n\t    swap(this, i, i + 1);\n\t  }\n\t  return this\n\t};\n\n\tBuffer.prototype.swap32 = function swap32 () {\n\t  const len = this.length;\n\t  if (len % 4 !== 0) {\n\t    throw new RangeError('Buffer size must be a multiple of 32-bits')\n\t  }\n\t  for (let i = 0; i < len; i += 4) {\n\t    swap(this, i, i + 3);\n\t    swap(this, i + 1, i + 2);\n\t  }\n\t  return this\n\t};\n\n\tBuffer.prototype.swap64 = function swap64 () {\n\t  const len = this.length;\n\t  if (len % 8 !== 0) {\n\t    throw new RangeError('Buffer size must be a multiple of 64-bits')\n\t  }\n\t  for (let i = 0; i < len; i += 8) {\n\t    swap(this, i, i + 7);\n\t    swap(this, i + 1, i + 6);\n\t    swap(this, i + 2, i + 5);\n\t    swap(this, i + 3, i + 4);\n\t  }\n\t  return this\n\t};\n\n\tBuffer.prototype.toString = function toString () {\n\t  const length = this.length;\n\t  if (length === 0) return ''\n\t  if (arguments.length === 0) return utf8Slice(this, 0, length)\n\t  return slowToString.apply(this, arguments)\n\t};\n\n\tBuffer.prototype.toLocaleString = Buffer.prototype.toString;\n\n\tBuffer.prototype.equals = function equals (b) {\n\t  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n\t  if (this === b) return true\n\t  return Buffer.compare(this, b) === 0\n\t};\n\n\tBuffer.prototype.inspect = function inspect () {\n\t  let str = '';\n\t  const max = exports.INSPECT_MAX_BYTES;\n\t  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim();\n\t  if (this.length > max) str += ' ... ';\n\t  return '<Buffer ' + str + '>'\n\t};\n\tif (customInspectSymbol) {\n\t  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect;\n\t}\n\n\tBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n\t  if (isInstance(target, GlobalUint8Array)) {\n\t    target = Buffer.from(target, target.offset, target.byteLength);\n\t  }\n\t  if (!Buffer.isBuffer(target)) {\n\t    throw new TypeError(\n\t      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n\t      'Received type ' + (typeof target)\n\t    )\n\t  }\n\n\t  if (start === undefined) {\n\t    start = 0;\n\t  }\n\t  if (end === undefined) {\n\t    end = target ? target.length : 0;\n\t  }\n\t  if (thisStart === undefined) {\n\t    thisStart = 0;\n\t  }\n\t  if (thisEnd === undefined) {\n\t    thisEnd = this.length;\n\t  }\n\n\t  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n\t    throw new RangeError('out of range index')\n\t  }\n\n\t  if (thisStart >= thisEnd && start >= end) {\n\t    return 0\n\t  }\n\t  if (thisStart >= thisEnd) {\n\t    return -1\n\t  }\n\t  if (start >= end) {\n\t    return 1\n\t  }\n\n\t  start >>>= 0;\n\t  end >>>= 0;\n\t  thisStart >>>= 0;\n\t  thisEnd >>>= 0;\n\n\t  if (this === target) return 0\n\n\t  let x = thisEnd - thisStart;\n\t  let y = end - start;\n\t  const len = Math.min(x, y);\n\n\t  const thisCopy = this.slice(thisStart, thisEnd);\n\t  const targetCopy = target.slice(start, end);\n\n\t  for (let i = 0; i < len; ++i) {\n\t    if (thisCopy[i] !== targetCopy[i]) {\n\t      x = thisCopy[i];\n\t      y = targetCopy[i];\n\t      break\n\t    }\n\t  }\n\n\t  if (x < y) return -1\n\t  if (y < x) return 1\n\t  return 0\n\t};\n\n\t// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n\t// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n\t//\n\t// Arguments:\n\t// - buffer - a Buffer to search\n\t// - val - a string, Buffer, or number\n\t// - byteOffset - an index into `buffer`; will be clamped to an int32\n\t// - encoding - an optional encoding, relevant is val is a string\n\t// - dir - true for indexOf, false for lastIndexOf\n\tfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n\t  // Empty buffer means no match\n\t  if (buffer.length === 0) return -1\n\n\t  // Normalize byteOffset\n\t  if (typeof byteOffset === 'string') {\n\t    encoding = byteOffset;\n\t    byteOffset = 0;\n\t  } else if (byteOffset > 0x7fffffff) {\n\t    byteOffset = 0x7fffffff;\n\t  } else if (byteOffset < -0x80000000) {\n\t    byteOffset = -0x80000000;\n\t  }\n\t  byteOffset = +byteOffset; // Coerce to Number.\n\t  if (numberIsNaN(byteOffset)) {\n\t    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n\t    byteOffset = dir ? 0 : (buffer.length - 1);\n\t  }\n\n\t  // Normalize byteOffset: negative offsets start from the end of the buffer\n\t  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n\t  if (byteOffset >= buffer.length) {\n\t    if (dir) return -1\n\t    else byteOffset = buffer.length - 1;\n\t  } else if (byteOffset < 0) {\n\t    if (dir) byteOffset = 0;\n\t    else return -1\n\t  }\n\n\t  // Normalize val\n\t  if (typeof val === 'string') {\n\t    val = Buffer.from(val, encoding);\n\t  }\n\n\t  // Finally, search either indexOf (if dir is true) or lastIndexOf\n\t  if (Buffer.isBuffer(val)) {\n\t    // Special case: looking for empty string/buffer always fails\n\t    if (val.length === 0) {\n\t      return -1\n\t    }\n\t    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n\t  } else if (typeof val === 'number') {\n\t    val = val & 0xFF; // Search for a byte value [0-255]\n\t    if (typeof GlobalUint8Array.prototype.indexOf === 'function') {\n\t      if (dir) {\n\t        return GlobalUint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n\t      } else {\n\t        return GlobalUint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n\t      }\n\t    }\n\t    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n\t  }\n\n\t  throw new TypeError('val must be string, number or Buffer')\n\t}\n\n\tfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n\t  let indexSize = 1;\n\t  let arrLength = arr.length;\n\t  let valLength = val.length;\n\n\t  if (encoding !== undefined) {\n\t    encoding = String(encoding).toLowerCase();\n\t    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n\t        encoding === 'utf16le' || encoding === 'utf-16le') {\n\t      if (arr.length < 2 || val.length < 2) {\n\t        return -1\n\t      }\n\t      indexSize = 2;\n\t      arrLength /= 2;\n\t      valLength /= 2;\n\t      byteOffset /= 2;\n\t    }\n\t  }\n\n\t  function read (buf, i) {\n\t    if (indexSize === 1) {\n\t      return buf[i]\n\t    } else {\n\t      return buf.readUInt16BE(i * indexSize)\n\t    }\n\t  }\n\n\t  let i;\n\t  if (dir) {\n\t    let foundIndex = -1;\n\t    for (i = byteOffset; i < arrLength; i++) {\n\t      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n\t        if (foundIndex === -1) foundIndex = i;\n\t        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n\t      } else {\n\t        if (foundIndex !== -1) i -= i - foundIndex;\n\t        foundIndex = -1;\n\t      }\n\t    }\n\t  } else {\n\t    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n\t    for (i = byteOffset; i >= 0; i--) {\n\t      let found = true;\n\t      for (let j = 0; j < valLength; j++) {\n\t        if (read(arr, i + j) !== read(val, j)) {\n\t          found = false;\n\t          break\n\t        }\n\t      }\n\t      if (found) return i\n\t    }\n\t  }\n\n\t  return -1\n\t}\n\n\tBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n\t  return this.indexOf(val, byteOffset, encoding) !== -1\n\t};\n\n\tBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n\t  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n\t};\n\n\tBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n\t  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n\t};\n\n\tfunction hexWrite (buf, string, offset, length) {\n\t  offset = Number(offset) || 0;\n\t  const remaining = buf.length - offset;\n\t  if (!length) {\n\t    length = remaining;\n\t  } else {\n\t    length = Number(length);\n\t    if (length > remaining) {\n\t      length = remaining;\n\t    }\n\t  }\n\n\t  const strLen = string.length;\n\n\t  if (length > strLen / 2) {\n\t    length = strLen / 2;\n\t  }\n\t  let i;\n\t  for (i = 0; i < length; ++i) {\n\t    const parsed = parseInt(string.substr(i * 2, 2), 16);\n\t    if (numberIsNaN(parsed)) return i\n\t    buf[offset + i] = parsed;\n\t  }\n\t  return i\n\t}\n\n\tfunction utf8Write (buf, string, offset, length) {\n\t  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n\t}\n\n\tfunction asciiWrite (buf, string, offset, length) {\n\t  return blitBuffer(asciiToBytes(string), buf, offset, length)\n\t}\n\n\tfunction base64Write (buf, string, offset, length) {\n\t  return blitBuffer(base64ToBytes(string), buf, offset, length)\n\t}\n\n\tfunction ucs2Write (buf, string, offset, length) {\n\t  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n\t}\n\n\tBuffer.prototype.write = function write (string, offset, length, encoding) {\n\t  // Buffer#write(string)\n\t  if (offset === undefined) {\n\t    encoding = 'utf8';\n\t    length = this.length;\n\t    offset = 0;\n\t  // Buffer#write(string, encoding)\n\t  } else if (length === undefined && typeof offset === 'string') {\n\t    encoding = offset;\n\t    length = this.length;\n\t    offset = 0;\n\t  // Buffer#write(string, offset[, length][, encoding])\n\t  } else if (isFinite(offset)) {\n\t    offset = offset >>> 0;\n\t    if (isFinite(length)) {\n\t      length = length >>> 0;\n\t      if (encoding === undefined) encoding = 'utf8';\n\t    } else {\n\t      encoding = length;\n\t      length = undefined;\n\t    }\n\t  } else {\n\t    throw new Error(\n\t      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n\t    )\n\t  }\n\n\t  const remaining = this.length - offset;\n\t  if (length === undefined || length > remaining) length = remaining;\n\n\t  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n\t    throw new RangeError('Attempt to write outside buffer bounds')\n\t  }\n\n\t  if (!encoding) encoding = 'utf8';\n\n\t  let loweredCase = false;\n\t  for (;;) {\n\t    switch (encoding) {\n\t      case 'hex':\n\t        return hexWrite(this, string, offset, length)\n\n\t      case 'utf8':\n\t      case 'utf-8':\n\t        return utf8Write(this, string, offset, length)\n\n\t      case 'ascii':\n\t      case 'latin1':\n\t      case 'binary':\n\t        return asciiWrite(this, string, offset, length)\n\n\t      case 'base64':\n\t        // Warning: maxLength not taken into account in base64Write\n\t        return base64Write(this, string, offset, length)\n\n\t      case 'ucs2':\n\t      case 'ucs-2':\n\t      case 'utf16le':\n\t      case 'utf-16le':\n\t        return ucs2Write(this, string, offset, length)\n\n\t      default:\n\t        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n\t        encoding = ('' + encoding).toLowerCase();\n\t        loweredCase = true;\n\t    }\n\t  }\n\t};\n\n\tBuffer.prototype.toJSON = function toJSON () {\n\t  return {\n\t    type: 'Buffer',\n\t    data: Array.prototype.slice.call(this._arr || this, 0)\n\t  }\n\t};\n\n\tfunction base64Slice (buf, start, end) {\n\t  if (start === 0 && end === buf.length) {\n\t    return base64.fromByteArray(buf)\n\t  } else {\n\t    return base64.fromByteArray(buf.slice(start, end))\n\t  }\n\t}\n\n\tfunction utf8Slice (buf, start, end) {\n\t  end = Math.min(buf.length, end);\n\t  const res = [];\n\n\t  let i = start;\n\t  while (i < end) {\n\t    const firstByte = buf[i];\n\t    let codePoint = null;\n\t    let bytesPerSequence = (firstByte > 0xEF)\n\t      ? 4\n\t      : (firstByte > 0xDF)\n\t          ? 3\n\t          : (firstByte > 0xBF)\n\t              ? 2\n\t              : 1;\n\n\t    if (i + bytesPerSequence <= end) {\n\t      let secondByte, thirdByte, fourthByte, tempCodePoint;\n\n\t      switch (bytesPerSequence) {\n\t        case 1:\n\t          if (firstByte < 0x80) {\n\t            codePoint = firstByte;\n\t          }\n\t          break\n\t        case 2:\n\t          secondByte = buf[i + 1];\n\t          if ((secondByte & 0xC0) === 0x80) {\n\t            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F);\n\t            if (tempCodePoint > 0x7F) {\n\t              codePoint = tempCodePoint;\n\t            }\n\t          }\n\t          break\n\t        case 3:\n\t          secondByte = buf[i + 1];\n\t          thirdByte = buf[i + 2];\n\t          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n\t            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F);\n\t            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n\t              codePoint = tempCodePoint;\n\t            }\n\t          }\n\t          break\n\t        case 4:\n\t          secondByte = buf[i + 1];\n\t          thirdByte = buf[i + 2];\n\t          fourthByte = buf[i + 3];\n\t          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n\t            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F);\n\t            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n\t              codePoint = tempCodePoint;\n\t            }\n\t          }\n\t      }\n\t    }\n\n\t    if (codePoint === null) {\n\t      // we did not generate a valid codePoint so insert a\n\t      // replacement char (U+FFFD) and advance only 1 byte\n\t      codePoint = 0xFFFD;\n\t      bytesPerSequence = 1;\n\t    } else if (codePoint > 0xFFFF) {\n\t      // encode to utf16 (surrogate pair dance)\n\t      codePoint -= 0x10000;\n\t      res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n\t      codePoint = 0xDC00 | codePoint & 0x3FF;\n\t    }\n\n\t    res.push(codePoint);\n\t    i += bytesPerSequence;\n\t  }\n\n\t  return decodeCodePointsArray(res)\n\t}\n\n\t// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n\t// the lowest limit is Chrome, with 0x10000 args.\n\t// We go 1 magnitude less, for safety\n\tconst MAX_ARGUMENTS_LENGTH = 0x1000;\n\n\tfunction decodeCodePointsArray (codePoints) {\n\t  const len = codePoints.length;\n\t  if (len <= MAX_ARGUMENTS_LENGTH) {\n\t    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n\t  }\n\n\t  // Decode in chunks to avoid \"call stack size exceeded\".\n\t  let res = '';\n\t  let i = 0;\n\t  while (i < len) {\n\t    res += String.fromCharCode.apply(\n\t      String,\n\t      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n\t    );\n\t  }\n\t  return res\n\t}\n\n\tfunction asciiSlice (buf, start, end) {\n\t  let ret = '';\n\t  end = Math.min(buf.length, end);\n\n\t  for (let i = start; i < end; ++i) {\n\t    ret += String.fromCharCode(buf[i] & 0x7F);\n\t  }\n\t  return ret\n\t}\n\n\tfunction latin1Slice (buf, start, end) {\n\t  let ret = '';\n\t  end = Math.min(buf.length, end);\n\n\t  for (let i = start; i < end; ++i) {\n\t    ret += String.fromCharCode(buf[i]);\n\t  }\n\t  return ret\n\t}\n\n\tfunction hexSlice (buf, start, end) {\n\t  const len = buf.length;\n\n\t  if (!start || start < 0) start = 0;\n\t  if (!end || end < 0 || end > len) end = len;\n\n\t  let out = '';\n\t  for (let i = start; i < end; ++i) {\n\t    out += hexSliceLookupTable[buf[i]];\n\t  }\n\t  return out\n\t}\n\n\tfunction utf16leSlice (buf, start, end) {\n\t  const bytes = buf.slice(start, end);\n\t  let res = '';\n\t  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n\t  for (let i = 0; i < bytes.length - 1; i += 2) {\n\t    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256));\n\t  }\n\t  return res\n\t}\n\n\tBuffer.prototype.slice = function slice (start, end) {\n\t  const len = this.length;\n\t  start = ~~start;\n\t  end = end === undefined ? len : ~~end;\n\n\t  if (start < 0) {\n\t    start += len;\n\t    if (start < 0) start = 0;\n\t  } else if (start > len) {\n\t    start = len;\n\t  }\n\n\t  if (end < 0) {\n\t    end += len;\n\t    if (end < 0) end = 0;\n\t  } else if (end > len) {\n\t    end = len;\n\t  }\n\n\t  if (end < start) end = start;\n\n\t  const newBuf = this.subarray(start, end);\n\t  // Return an augmented `Uint8Array` instance\n\t  Object.setPrototypeOf(newBuf, Buffer.prototype);\n\n\t  return newBuf\n\t};\n\n\t/*\n\t * Need to make sure that buffer isn't trying to write out of bounds.\n\t */\n\tfunction checkOffset (offset, ext, length) {\n\t  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n\t  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n\t}\n\n\tBuffer.prototype.readUintLE =\n\tBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n\t  let val = this[offset];\n\t  let mul = 1;\n\t  let i = 0;\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    val += this[offset + i] * mul;\n\t  }\n\n\t  return val\n\t};\n\n\tBuffer.prototype.readUintBE =\n\tBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) {\n\t    checkOffset(offset, byteLength, this.length);\n\t  }\n\n\t  let val = this[offset + --byteLength];\n\t  let mul = 1;\n\t  while (byteLength > 0 && (mul *= 0x100)) {\n\t    val += this[offset + --byteLength] * mul;\n\t  }\n\n\t  return val\n\t};\n\n\tBuffer.prototype.readUint8 =\n\tBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 1, this.length);\n\t  return this[offset]\n\t};\n\n\tBuffer.prototype.readUint16LE =\n\tBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 2, this.length);\n\t  return this[offset] | (this[offset + 1] << 8)\n\t};\n\n\tBuffer.prototype.readUint16BE =\n\tBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 2, this.length);\n\t  return (this[offset] << 8) | this[offset + 1]\n\t};\n\n\tBuffer.prototype.readUint32LE =\n\tBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\n\t  return ((this[offset]) |\n\t      (this[offset + 1] << 8) |\n\t      (this[offset + 2] << 16)) +\n\t      (this[offset + 3] * 0x1000000)\n\t};\n\n\tBuffer.prototype.readUint32BE =\n\tBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\n\t  return (this[offset] * 0x1000000) +\n\t    ((this[offset + 1] << 16) |\n\t    (this[offset + 2] << 8) |\n\t    this[offset + 3])\n\t};\n\n\tBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n\t  offset = offset >>> 0;\n\t  validateNumber(offset, 'offset');\n\t  const first = this[offset];\n\t  const last = this[offset + 7];\n\t  if (first === undefined || last === undefined) {\n\t    boundsError(offset, this.length - 8);\n\t  }\n\n\t  const lo = first +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 24;\n\n\t  const hi = this[++offset] +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset] * 2 ** 16 +\n\t    last * 2 ** 24;\n\n\t  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n\t});\n\n\tBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n\t  offset = offset >>> 0;\n\t  validateNumber(offset, 'offset');\n\t  const first = this[offset];\n\t  const last = this[offset + 7];\n\t  if (first === undefined || last === undefined) {\n\t    boundsError(offset, this.length - 8);\n\t  }\n\n\t  const hi = first * 2 ** 24 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset];\n\n\t  const lo = this[++offset] * 2 ** 24 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 8 +\n\t    last;\n\n\t  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n\t});\n\n\tBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n\t  let val = this[offset];\n\t  let mul = 1;\n\t  let i = 0;\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    val += this[offset + i] * mul;\n\t  }\n\t  mul *= 0x80;\n\n\t  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n\t  return val\n\t};\n\n\tBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n\t  let i = byteLength;\n\t  let mul = 1;\n\t  let val = this[offset + --i];\n\t  while (i > 0 && (mul *= 0x100)) {\n\t    val += this[offset + --i] * mul;\n\t  }\n\t  mul *= 0x80;\n\n\t  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n\t  return val\n\t};\n\n\tBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 1, this.length);\n\t  if (!(this[offset] & 0x80)) return (this[offset])\n\t  return ((0xff - this[offset] + 1) * -1)\n\t};\n\n\tBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 2, this.length);\n\t  const val = this[offset] | (this[offset + 1] << 8);\n\t  return (val & 0x8000) ? val | 0xFFFF0000 : val\n\t};\n\n\tBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 2, this.length);\n\t  const val = this[offset + 1] | (this[offset] << 8);\n\t  return (val & 0x8000) ? val | 0xFFFF0000 : val\n\t};\n\n\tBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\n\t  return (this[offset]) |\n\t    (this[offset + 1] << 8) |\n\t    (this[offset + 2] << 16) |\n\t    (this[offset + 3] << 24)\n\t};\n\n\tBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\n\t  return (this[offset] << 24) |\n\t    (this[offset + 1] << 16) |\n\t    (this[offset + 2] << 8) |\n\t    (this[offset + 3])\n\t};\n\n\tBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n\t  offset = offset >>> 0;\n\t  validateNumber(offset, 'offset');\n\t  const first = this[offset];\n\t  const last = this[offset + 7];\n\t  if (first === undefined || last === undefined) {\n\t    boundsError(offset, this.length - 8);\n\t  }\n\n\t  const val = this[offset + 4] +\n\t    this[offset + 5] * 2 ** 8 +\n\t    this[offset + 6] * 2 ** 16 +\n\t    (last << 24); // Overflow\n\n\t  return (BigInt(val) << BigInt(32)) +\n\t    BigInt(first +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 24)\n\t});\n\n\tBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n\t  offset = offset >>> 0;\n\t  validateNumber(offset, 'offset');\n\t  const first = this[offset];\n\t  const last = this[offset + 7];\n\t  if (first === undefined || last === undefined) {\n\t    boundsError(offset, this.length - 8);\n\t  }\n\n\t  const val = (first << 24) + // Overflow\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset];\n\n\t  return (BigInt(val) << BigInt(32)) +\n\t    BigInt(this[++offset] * 2 ** 24 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 8 +\n\t    last)\n\t});\n\n\tBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\t  return ieee754$1.read(this, offset, true, 23, 4)\n\t};\n\n\tBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\t  return ieee754$1.read(this, offset, false, 23, 4)\n\t};\n\n\tBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 8, this.length);\n\t  return ieee754$1.read(this, offset, true, 52, 8)\n\t};\n\n\tBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 8, this.length);\n\t  return ieee754$1.read(this, offset, false, 52, 8)\n\t};\n\n\tfunction checkInt (buf, value, offset, ext, max, min) {\n\t  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n\t  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n\t  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n\t}\n\n\tBuffer.prototype.writeUintLE =\n\tBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) {\n\t    const maxBytes = Math.pow(2, 8 * byteLength) - 1;\n\t    checkInt(this, value, offset, byteLength, maxBytes, 0);\n\t  }\n\n\t  let mul = 1;\n\t  let i = 0;\n\t  this[offset] = value & 0xFF;\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    this[offset + i] = (value / mul) & 0xFF;\n\t  }\n\n\t  return offset + byteLength\n\t};\n\n\tBuffer.prototype.writeUintBE =\n\tBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) {\n\t    const maxBytes = Math.pow(2, 8 * byteLength) - 1;\n\t    checkInt(this, value, offset, byteLength, maxBytes, 0);\n\t  }\n\n\t  let i = byteLength - 1;\n\t  let mul = 1;\n\t  this[offset + i] = value & 0xFF;\n\t  while (--i >= 0 && (mul *= 0x100)) {\n\t    this[offset + i] = (value / mul) & 0xFF;\n\t  }\n\n\t  return offset + byteLength\n\t};\n\n\tBuffer.prototype.writeUint8 =\n\tBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n\t  this[offset] = (value & 0xff);\n\t  return offset + 1\n\t};\n\n\tBuffer.prototype.writeUint16LE =\n\tBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\t  this[offset] = (value & 0xff);\n\t  this[offset + 1] = (value >>> 8);\n\t  return offset + 2\n\t};\n\n\tBuffer.prototype.writeUint16BE =\n\tBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\t  this[offset] = (value >>> 8);\n\t  this[offset + 1] = (value & 0xff);\n\t  return offset + 2\n\t};\n\n\tBuffer.prototype.writeUint32LE =\n\tBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\t  this[offset + 3] = (value >>> 24);\n\t  this[offset + 2] = (value >>> 16);\n\t  this[offset + 1] = (value >>> 8);\n\t  this[offset] = (value & 0xff);\n\t  return offset + 4\n\t};\n\n\tBuffer.prototype.writeUint32BE =\n\tBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\t  this[offset] = (value >>> 24);\n\t  this[offset + 1] = (value >>> 16);\n\t  this[offset + 2] = (value >>> 8);\n\t  this[offset + 3] = (value & 0xff);\n\t  return offset + 4\n\t};\n\n\tfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n\t  checkIntBI(value, min, max, buf, offset, 7);\n\n\t  let lo = Number(value & BigInt(0xffffffff));\n\t  buf[offset++] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset++] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset++] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset++] = lo;\n\t  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff));\n\t  buf[offset++] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset++] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset++] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset++] = hi;\n\t  return offset\n\t}\n\n\tfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n\t  checkIntBI(value, min, max, buf, offset, 7);\n\n\t  let lo = Number(value & BigInt(0xffffffff));\n\t  buf[offset + 7] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset + 6] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset + 5] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset + 4] = lo;\n\t  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff));\n\t  buf[offset + 3] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset + 2] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset + 1] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset] = hi;\n\t  return offset + 8\n\t}\n\n\tBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n\t  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n\t});\n\n\tBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n\t  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n\t});\n\n\tBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) {\n\t    const limit = Math.pow(2, (8 * byteLength) - 1);\n\n\t    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n\t  }\n\n\t  let i = 0;\n\t  let mul = 1;\n\t  let sub = 0;\n\t  this[offset] = value & 0xFF;\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n\t      sub = 1;\n\t    }\n\t    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;\n\t  }\n\n\t  return offset + byteLength\n\t};\n\n\tBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) {\n\t    const limit = Math.pow(2, (8 * byteLength) - 1);\n\n\t    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n\t  }\n\n\t  let i = byteLength - 1;\n\t  let mul = 1;\n\t  let sub = 0;\n\t  this[offset + i] = value & 0xFF;\n\t  while (--i >= 0 && (mul *= 0x100)) {\n\t    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n\t      sub = 1;\n\t    }\n\t    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;\n\t  }\n\n\t  return offset + byteLength\n\t};\n\n\tBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n\t  if (value < 0) value = 0xff + value + 1;\n\t  this[offset] = (value & 0xff);\n\t  return offset + 1\n\t};\n\n\tBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\t  this[offset] = (value & 0xff);\n\t  this[offset + 1] = (value >>> 8);\n\t  return offset + 2\n\t};\n\n\tBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\t  this[offset] = (value >>> 8);\n\t  this[offset + 1] = (value & 0xff);\n\t  return offset + 2\n\t};\n\n\tBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\t  this[offset] = (value & 0xff);\n\t  this[offset + 1] = (value >>> 8);\n\t  this[offset + 2] = (value >>> 16);\n\t  this[offset + 3] = (value >>> 24);\n\t  return offset + 4\n\t};\n\n\tBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\t  if (value < 0) value = 0xffffffff + value + 1;\n\t  this[offset] = (value >>> 24);\n\t  this[offset + 1] = (value >>> 16);\n\t  this[offset + 2] = (value >>> 8);\n\t  this[offset + 3] = (value & 0xff);\n\t  return offset + 4\n\t};\n\n\tBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n\t  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n\t});\n\n\tBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n\t  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n\t});\n\n\tfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n\t  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n\t  if (offset < 0) throw new RangeError('Index out of range')\n\t}\n\n\tfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) {\n\t    checkIEEE754(buf, value, offset, 4);\n\t  }\n\t  ieee754$1.write(buf, value, offset, littleEndian, 23, 4);\n\t  return offset + 4\n\t}\n\n\tBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n\t  return writeFloat(this, value, offset, true, noAssert)\n\t};\n\n\tBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n\t  return writeFloat(this, value, offset, false, noAssert)\n\t};\n\n\tfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) {\n\t    checkIEEE754(buf, value, offset, 8);\n\t  }\n\t  ieee754$1.write(buf, value, offset, littleEndian, 52, 8);\n\t  return offset + 8\n\t}\n\n\tBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n\t  return writeDouble(this, value, offset, true, noAssert)\n\t};\n\n\tBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n\t  return writeDouble(this, value, offset, false, noAssert)\n\t};\n\n\t// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n\tBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n\t  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n\t  if (!start) start = 0;\n\t  if (!end && end !== 0) end = this.length;\n\t  if (targetStart >= target.length) targetStart = target.length;\n\t  if (!targetStart) targetStart = 0;\n\t  if (end > 0 && end < start) end = start;\n\n\t  // Copy 0 bytes; we're done\n\t  if (end === start) return 0\n\t  if (target.length === 0 || this.length === 0) return 0\n\n\t  // Fatal error conditions\n\t  if (targetStart < 0) {\n\t    throw new RangeError('targetStart out of bounds')\n\t  }\n\t  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n\t  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n\t  // Are we oob?\n\t  if (end > this.length) end = this.length;\n\t  if (target.length - targetStart < end - start) {\n\t    end = target.length - targetStart + start;\n\t  }\n\n\t  const len = end - start;\n\n\t  if (this === target && typeof GlobalUint8Array.prototype.copyWithin === 'function') {\n\t    // Use built-in when available, missing from IE11\n\t    this.copyWithin(targetStart, start, end);\n\t  } else {\n\t    GlobalUint8Array.prototype.set.call(\n\t      target,\n\t      this.subarray(start, end),\n\t      targetStart\n\t    );\n\t  }\n\n\t  return len\n\t};\n\n\t// Usage:\n\t//    buffer.fill(number[, offset[, end]])\n\t//    buffer.fill(buffer[, offset[, end]])\n\t//    buffer.fill(string[, offset[, end]][, encoding])\n\tBuffer.prototype.fill = function fill (val, start, end, encoding) {\n\t  // Handle string cases:\n\t  if (typeof val === 'string') {\n\t    if (typeof start === 'string') {\n\t      encoding = start;\n\t      start = 0;\n\t      end = this.length;\n\t    } else if (typeof end === 'string') {\n\t      encoding = end;\n\t      end = this.length;\n\t    }\n\t    if (encoding !== undefined && typeof encoding !== 'string') {\n\t      throw new TypeError('encoding must be a string')\n\t    }\n\t    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n\t      throw new TypeError('Unknown encoding: ' + encoding)\n\t    }\n\t    if (val.length === 1) {\n\t      const code = val.charCodeAt(0);\n\t      if ((encoding === 'utf8' && code < 128) ||\n\t          encoding === 'latin1') {\n\t        // Fast path: If `val` fits into a single byte, use that numeric value.\n\t        val = code;\n\t      }\n\t    }\n\t  } else if (typeof val === 'number') {\n\t    val = val & 255;\n\t  } else if (typeof val === 'boolean') {\n\t    val = Number(val);\n\t  }\n\n\t  // Invalid ranges are not set to a default, so can range check early.\n\t  if (start < 0 || this.length < start || this.length < end) {\n\t    throw new RangeError('Out of range index')\n\t  }\n\n\t  if (end <= start) {\n\t    return this\n\t  }\n\n\t  start = start >>> 0;\n\t  end = end === undefined ? this.length : end >>> 0;\n\n\t  if (!val) val = 0;\n\n\t  let i;\n\t  if (typeof val === 'number') {\n\t    for (i = start; i < end; ++i) {\n\t      this[i] = val;\n\t    }\n\t  } else {\n\t    const bytes = Buffer.isBuffer(val)\n\t      ? val\n\t      : Buffer.from(val, encoding);\n\t    const len = bytes.length;\n\t    if (len === 0) {\n\t      throw new TypeError('The value \"' + val +\n\t        '\" is invalid for argument \"value\"')\n\t    }\n\t    for (i = 0; i < end - start; ++i) {\n\t      this[i + start] = bytes[i % len];\n\t    }\n\t  }\n\n\t  return this\n\t};\n\n\t// CUSTOM ERRORS\n\t// =============\n\n\t// Simplified versions from Node, changed for Buffer-only usage\n\tconst errors = {};\n\tfunction E (sym, getMessage, Base) {\n\t  errors[sym] = class NodeError extends Base {\n\t    constructor () {\n\t      super();\n\n\t      Object.defineProperty(this, 'message', {\n\t        value: getMessage.apply(this, arguments),\n\t        writable: true,\n\t        configurable: true\n\t      });\n\n\t      // Add the error code to the name to include it in the stack trace.\n\t      this.name = `${this.name} [${sym}]`;\n\t      // Access the stack to generate the error message including the error code\n\t      // from the name.\n\t      this.stack; // eslint-disable-line no-unused-expressions\n\t      // Reset the name to the actual name.\n\t      delete this.name;\n\t    }\n\n\t    get code () {\n\t      return sym\n\t    }\n\n\t    set code (value) {\n\t      Object.defineProperty(this, 'code', {\n\t        configurable: true,\n\t        enumerable: true,\n\t        value,\n\t        writable: true\n\t      });\n\t    }\n\n\t    toString () {\n\t      return `${this.name} [${sym}]: ${this.message}`\n\t    }\n\t  };\n\t}\n\n\tE('ERR_BUFFER_OUT_OF_BOUNDS',\n\t  function (name) {\n\t    if (name) {\n\t      return `${name} is outside of buffer bounds`\n\t    }\n\n\t    return 'Attempt to access memory outside buffer bounds'\n\t  }, RangeError);\n\tE('ERR_INVALID_ARG_TYPE',\n\t  function (name, actual) {\n\t    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n\t  }, TypeError);\n\tE('ERR_OUT_OF_RANGE',\n\t  function (str, range, input) {\n\t    let msg = `The value of \"${str}\" is out of range.`;\n\t    let received = input;\n\t    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n\t      received = addNumericalSeparator(String(input));\n\t    } else if (typeof input === 'bigint') {\n\t      received = String(input);\n\t      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n\t        received = addNumericalSeparator(received);\n\t      }\n\t      received += 'n';\n\t    }\n\t    msg += ` It must be ${range}. Received ${received}`;\n\t    return msg\n\t  }, RangeError);\n\n\tfunction addNumericalSeparator (val) {\n\t  let res = '';\n\t  let i = val.length;\n\t  const start = val[0] === '-' ? 1 : 0;\n\t  for (; i >= start + 4; i -= 3) {\n\t    res = `_${val.slice(i - 3, i)}${res}`;\n\t  }\n\t  return `${val.slice(0, i)}${res}`\n\t}\n\n\t// CHECK FUNCTIONS\n\t// ===============\n\n\tfunction checkBounds (buf, offset, byteLength) {\n\t  validateNumber(offset, 'offset');\n\t  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n\t    boundsError(offset, buf.length - (byteLength + 1));\n\t  }\n\t}\n\n\tfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n\t  if (value > max || value < min) {\n\t    const n = typeof min === 'bigint' ? 'n' : '';\n\t    let range;\n\t    if (byteLength > 3) {\n\t      if (min === 0 || min === BigInt(0)) {\n\t        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`;\n\t      } else {\n\t        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n\t                `${(byteLength + 1) * 8 - 1}${n}`;\n\t      }\n\t    } else {\n\t      range = `>= ${min}${n} and <= ${max}${n}`;\n\t    }\n\t    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n\t  }\n\t  checkBounds(buf, offset, byteLength);\n\t}\n\n\tfunction validateNumber (value, name) {\n\t  if (typeof value !== 'number') {\n\t    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n\t  }\n\t}\n\n\tfunction boundsError (value, length, type) {\n\t  if (Math.floor(value) !== value) {\n\t    validateNumber(value, type);\n\t    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n\t  }\n\n\t  if (length < 0) {\n\t    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n\t  }\n\n\t  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n\t                                    `>= ${type ? 1 : 0} and <= ${length}`,\n\t                                    value)\n\t}\n\n\t// HELPER FUNCTIONS\n\t// ================\n\n\tconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g;\n\n\tfunction base64clean (str) {\n\t  // Node takes equal signs as end of the Base64 encoding\n\t  str = str.split('=')[0];\n\t  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n\t  str = str.trim().replace(INVALID_BASE64_RE, '');\n\t  // Node converts strings with length < 2 to ''\n\t  if (str.length < 2) return ''\n\t  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n\t  while (str.length % 4 !== 0) {\n\t    str = str + '=';\n\t  }\n\t  return str\n\t}\n\n\tfunction utf8ToBytes (string, units) {\n\t  units = units || Infinity;\n\t  let codePoint;\n\t  const length = string.length;\n\t  let leadSurrogate = null;\n\t  const bytes = [];\n\n\t  for (let i = 0; i < length; ++i) {\n\t    codePoint = string.charCodeAt(i);\n\n\t    // is surrogate component\n\t    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n\t      // last char was a lead\n\t      if (!leadSurrogate) {\n\t        // no lead yet\n\t        if (codePoint > 0xDBFF) {\n\t          // unexpected trail\n\t          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t          continue\n\t        } else if (i + 1 === length) {\n\t          // unpaired lead\n\t          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t          continue\n\t        }\n\n\t        // valid lead\n\t        leadSurrogate = codePoint;\n\n\t        continue\n\t      }\n\n\t      // 2 leads in a row\n\t      if (codePoint < 0xDC00) {\n\t        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t        leadSurrogate = codePoint;\n\t        continue\n\t      }\n\n\t      // valid surrogate pair\n\t      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n\t    } else if (leadSurrogate) {\n\t      // valid bmp char, but last char was a lead\n\t      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t    }\n\n\t    leadSurrogate = null;\n\n\t    // encode utf8\n\t    if (codePoint < 0x80) {\n\t      if ((units -= 1) < 0) break\n\t      bytes.push(codePoint);\n\t    } else if (codePoint < 0x800) {\n\t      if ((units -= 2) < 0) break\n\t      bytes.push(\n\t        codePoint >> 0x6 | 0xC0,\n\t        codePoint & 0x3F | 0x80\n\t      );\n\t    } else if (codePoint < 0x10000) {\n\t      if ((units -= 3) < 0) break\n\t      bytes.push(\n\t        codePoint >> 0xC | 0xE0,\n\t        codePoint >> 0x6 & 0x3F | 0x80,\n\t        codePoint & 0x3F | 0x80\n\t      );\n\t    } else if (codePoint < 0x110000) {\n\t      if ((units -= 4) < 0) break\n\t      bytes.push(\n\t        codePoint >> 0x12 | 0xF0,\n\t        codePoint >> 0xC & 0x3F | 0x80,\n\t        codePoint >> 0x6 & 0x3F | 0x80,\n\t        codePoint & 0x3F | 0x80\n\t      );\n\t    } else {\n\t      throw new Error('Invalid code point')\n\t    }\n\t  }\n\n\t  return bytes\n\t}\n\n\tfunction asciiToBytes (str) {\n\t  const byteArray = [];\n\t  for (let i = 0; i < str.length; ++i) {\n\t    // Node's code seems to be doing this and not & 0x7F..\n\t    byteArray.push(str.charCodeAt(i) & 0xFF);\n\t  }\n\t  return byteArray\n\t}\n\n\tfunction utf16leToBytes (str, units) {\n\t  let c, hi, lo;\n\t  const byteArray = [];\n\t  for (let i = 0; i < str.length; ++i) {\n\t    if ((units -= 2) < 0) break\n\n\t    c = str.charCodeAt(i);\n\t    hi = c >> 8;\n\t    lo = c % 256;\n\t    byteArray.push(lo);\n\t    byteArray.push(hi);\n\t  }\n\n\t  return byteArray\n\t}\n\n\tfunction base64ToBytes (str) {\n\t  return base64.toByteArray(base64clean(str))\n\t}\n\n\tfunction blitBuffer (src, dst, offset, length) {\n\t  let i;\n\t  for (i = 0; i < length; ++i) {\n\t    if ((i + offset >= dst.length) || (i >= src.length)) break\n\t    dst[i + offset] = src[i];\n\t  }\n\t  return i\n\t}\n\n\t// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n\t// the `instanceof` check but they should be treated as of that type.\n\t// See: https://github.com/feross/buffer/issues/166\n\tfunction isInstance (obj, type) {\n\t  return obj instanceof type ||\n\t    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n\t      obj.constructor.name === type.name)\n\t}\n\tfunction numberIsNaN (obj) {\n\t  // For IE11 support\n\t  return obj !== obj // eslint-disable-line no-self-compare\n\t}\n\n\t// Create lookup table for `toString('hex')`\n\t// See: https://github.com/feross/buffer/issues/219\n\tconst hexSliceLookupTable = (function () {\n\t  const alphabet = '0123456789abcdef';\n\t  const table = new Array(256);\n\t  for (let i = 0; i < 16; ++i) {\n\t    const i16 = i * 16;\n\t    for (let j = 0; j < 16; ++j) {\n\t      table[i16 + j] = alphabet[i] + alphabet[j];\n\t    }\n\t  }\n\t  return table\n\t})();\n\n\t// Return not function with Error if BigInt not supported\n\tfunction defineBigIntMethod (fn) {\n\t  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n\t}\n\n\tfunction BufferBigIntNotDefined () {\n\t  throw new Error('BigInt not supported')\n\t} \n} (buffer));\n\nconst Buffer = buffer.Buffer;\n\nconst Blob = buffer.Blob;\nconst BlobOptions = buffer.BlobOptions;\nconst Buffer$1 = buffer.Buffer;\nconst File = buffer.File;\nconst FileOptions = buffer.FileOptions;\nconst INSPECT_MAX_BYTES = buffer.INSPECT_MAX_BYTES;\nconst SlowBuffer = buffer.SlowBuffer;\nconst TranscodeEncoding = buffer.TranscodeEncoding;\nconst atob = buffer.atob;\nconst btoa = buffer.btoa;\nconst constants = buffer.constants;\nconst isAscii = buffer.isAscii;\nconst isUtf8 = buffer.isUtf8;\nconst kMaxLength = buffer.kMaxLength;\nconst kStringMaxLength = buffer.kStringMaxLength;\nconst resolveObjectURL = buffer.resolveObjectURL;\nconst transcode = buffer.transcode;\nexport { Blob, BlobOptions, Buffer$1 as Buffer, File, FileOptions, INSPECT_MAX_BYTES, SlowBuffer, TranscodeEncoding, atob, btoa, constants, Buffer as default, isAscii, isUtf8, kMaxLength, kStringMaxLength, resolveObjectURL, transcode };\n//# sourceMappingURL=index.js.map\n","const global = globalThis || void 0 || self;\n\nexport { global as default, global };\n//# sourceMappingURL=index.js.map\n","function getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nvar browser = {exports: {}};\n\n// shim for using process in browser\nvar process = browser.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ());\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] };\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\nvar browserExports = browser.exports;\nconst process$1 = /*@__PURE__*/getDefaultExportFromCjs(browserExports);\n\nexport { process$1 as default, process$1 as process };\n//# sourceMappingURL=index.js.map\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n}\n\n/**\n * Determine if a value is an empty object (safely handles Buffers)\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an empty object, otherwise false\n */\nconst isEmptyObject = (val) => {\n  // Early return for non-objects or Buffers to prevent RangeError\n  if (!isObject(val) || isBuffer(val)) {\n    return false;\n  }\n  \n  try {\n    return Object.keys(val).length === 0 && Object.getPrototypeOf(val) === Object.prototype;\n  } catch (e) {\n    // Fallback for any other objects that might cause RangeError with Object.keys()\n    return false;\n  }\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Buffer check\n    if (isBuffer(obj)) {\n      return;\n    }\n\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  if (isBuffer(obj)){\n    return null;\n  }\n\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      //Buffer check\n      if (isBuffer(source)) {\n        return source;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction(thing[iterator]);\n\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isEmptyObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils.isBoolean(value)) {\n      return value.toString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), {\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    },\n    ...options\n  });\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isObject(header) && utils.isIterable(header)) {\n      let obj = {}, dest, key;\n      for (const entry of header) {\n        if (!utils.isArray(entry)) {\n          throw TypeError('Object iterator must return a key-value pair');\n        }\n\n        obj[key = entry[0]] = (dest = obj[key]) ?\n          (utils.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]]) : entry[1];\n      }\n\n      setHeaders(obj, valueOrRewrite)\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  getSetCookie() {\n    return this.get(\"set-cookie\") || [];\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn(...args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils.forEach(Object.keys({...config1, ...config2}), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n}\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n}\n\nexport default isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader)\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request, fetchOptions);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      })\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\n\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.11.0\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig || {};\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) {\n      // do nothing\n    } else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift(...requestInterceptorChain);\n      chain.push(...responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","import axios from './lib/axios.js';\n\n// This module is intended to unwrap Axios default export as named.\n// Keep top-level export same with static properties\n// so that it can keep same with es module or cjs\nconst {\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n} = axios;\n\nexport {\n  axios as default,\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n}\n","export class Logger {\n  private static instance: Logger;\n  private isProduction: boolean;\n\n  private constructor() {\n    this.isProduction = process.env.NODE_ENV === 'production';\n  }\n\n  static getInstance(): Logger {\n    if (!Logger.instance) {\n      Logger.instance = new Logger();\n    }\n    return Logger.instance;\n  }\n\n  debug(message: string, ...args: unknown[]): void {\n    if (!this.isProduction) {\n      console.debug(message, ...args);\n    }\n  }\n\n  info(message: string, ...args: unknown[]): void {\n    if (!this.isProduction) {\n      console.info(message, ...args);\n    }\n  }\n\n  warn(message: string, ...args: unknown[]): void {\n    console.warn(message, ...args);\n  }\n\n  error(message: string, ...args: unknown[]): void {\n    console.error(message, ...args);\n  }\n}\n","import { PrivateKey } from '@hashgraph/sdk';\n\nexport type Network = 'mainnet' | 'testnet';\n\nexport type InscriptionMode =\n  | 'file'\n  | 'upload'\n  | 'hashinal'\n  | 'hashinal-collection';\n\nexport interface MetadataObject {\n  [key: string]: unknown;\n}\n\nexport type FileInput =\n  | {\n      type: 'url';\n      url: string;\n      fileName?: string;\n      mimeType?: string;\n    }\n  | {\n      type: 'base64';\n      base64: string;\n      fileName: string;\n      mimeType?: string;\n    };\n\nexport interface StartInscriptionRequest {\n  file: FileInput;\n  holderId: string;\n  ttl?: number;\n  mode: InscriptionMode;\n  network?: Network;\n  creator?: string;\n  description?: string;\n  fileStandard?: string;\n  onlyJSONCollection?: boolean;\n  jsonFileURL?: string;\n  metadataObject?: MetadataObject;\n}\n\nexport interface InscriptionResult {\n  jobId: string;\n  transactionId: string;\n  topicId?: string;\n  topic_id?: string;\n  status?: string;\n  completed?: boolean;\n}\n\nexport interface ImageJobResponse {\n  id: string;\n  status: string;\n  completed: boolean;\n  hash?: string;\n  jsonHash?: string;\n  name?: string;\n  tx_id: string;\n  jsonName?: string;\n  gcpFileName?: string;\n  messages?: number;\n  maxMessages?: number;\n  confirmedMessages?: boolean;\n  fileUrl?: string;\n  jsonFileUrl?: string;\n  error?: string;\n  transactionId?: string;\n  transactionBytes?: string;\n  topic_id: string;\n  jsonTopicId: string;\n  registryTopicId: string;\n  fileStandard?: 1 | 2 | 6;\n  mode?: InscriptionMode;\n}\n\nexport interface RetrievedInscriptionResult extends ImageJobResponse {\n  jobId: string;\n}\n\nexport interface InscriptionSDKConfig {\n  apiKey: string;\n  network: Network;\n  wsBaseUrl?: string;\n  connectionMode?: 'http' | 'websocket' | 'auto';\n}\n\nexport interface HederaClientConfig {\n  accountId: string;\n  privateKey: string | PrivateKey;\n  network: Network;\n}\n\nexport interface FileMetadata {\n  size: number;\n  mimeType: string;\n}\n\nexport interface InscriptionNumbersParams {\n  ht_id?: string;\n  sn?: number;\n  inscriptionNumber?: number;\n  sort?: 'asc' | 'desc';\n  random?: boolean;\n  limit?: number;\n}\n\nexport interface InscriptionJson {\n  name: string;\n  creator: string;\n  description: string;\n  image: string;\n  type: string;\n  properties: {\n    compiler: string;\n  };\n  format: string;\n}\n\nexport interface InscriptionNumberDetails {\n  sn: number;\n  t_id: string;\n  account_id: number;\n  created_timestamp: string;\n  treasury_account_id: string;\n  ht_id: number;\n  image: string;\n  inscription_number: number;\n  json: InscriptionJson;\n  mimetype: string;\n  op: string;\n  p: string;\n}\n\nexport class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'ValidationError';\n  }\n}\n\nexport interface HolderInscriptionsParams {\n  holderId: string;\n  includeCollections?: boolean;\n}\n\nexport type HolderInscriptionsResponse = ImageJobResponse[];\n","import { PrivateKey } from '@hashgraph/sdk';\n\nexport type DetectedKeyType = 'ed25519' | 'ecdsa';\n\nexport interface KeyDetectionResult {\n  detectedType: DetectedKeyType;\n  privateKey: PrivateKey;\n}\n\nexport function detectKeyTypeFromString(\n  privateKeyString: string\n): KeyDetectionResult {\n  try {\n    const privateKey = PrivateKey.fromStringECDSA(privateKeyString);\n    return { detectedType: 'ecdsa', privateKey };\n  } catch (ecdsaError) {\n    try {\n      const privateKey = PrivateKey.fromStringED25519(privateKeyString);\n      return { detectedType: 'ed25519', privateKey };\n    } catch {\n      throw new Error(\n        `Failed to parse private key as either ECDSA or ED25519: ${String(\n          ecdsaError\n        )}`\n      );\n    }\n  }\n}\n\n","import { PrivateKey } from '@hashgraph/sdk';\nimport axios from 'axios';\nimport { Buffer } from 'buffer';\nimport { detectKeyTypeFromString } from './hedera/key-type-detector';\n\nexport interface AuthConfig {\n  accountId: string;\n  privateKey: string | PrivateKey;\n  network?: 'mainnet' | 'testnet';\n  baseUrl?: string;\n}\n\nexport interface AuthResult {\n  apiKey: string;\n}\n\nexport class Auth {\n  private readonly accountId: string;\n  private readonly privateKey: PrivateKey;\n  private readonly baseUrl: string;\n  private readonly network: string;\n\n  constructor(config: AuthConfig) {\n    this.accountId = config.accountId;\n\n    // Handle both string and PrivateKey object inputs\n    if (typeof config.privateKey === 'string') {\n      // Use the key type detector to properly parse the string\n      const keyDetection = detectKeyTypeFromString(config.privateKey);\n      this.privateKey = keyDetection.privateKey;\n    } else {\n      // Already a PrivateKey object, use as-is\n      this.privateKey = config.privateKey;\n    }\n\n    this.network = config.network || 'mainnet';\n    this.baseUrl = config.baseUrl || 'https://kiloscribe.com';\n  }\n\n  async authenticate(): Promise<AuthResult> {\n    const requestSignatureResponse = await axios.get(\n      `${this.baseUrl}/api/auth/request-signature`,\n      {\n        headers: {\n          'x-session': this.accountId,\n        },\n      }\n    );\n\n    if (!requestSignatureResponse.data?.message) {\n      throw new Error('Failed to get signature message');\n    }\n\n    const message = requestSignatureResponse.data.message;\n    const signature = await this.signMessage(message);\n\n    const authResponse = await axios.post(\n      `${this.baseUrl}/api/auth/authenticate`,\n      {\n        authData: {\n          id: this.accountId,\n          signature,\n          data: message,\n          network: this.network,\n        },\n        include: 'apiKey',\n      }\n    );\n\n    if (!authResponse.data?.user?.sessionToken) {\n      throw new Error('Authentication failed');\n    }\n\n    return {\n      apiKey: authResponse.data.apiKey,\n    };\n  }\n\n  private async signMessage(message: string): Promise<string> {\n    const messageBytes = new TextEncoder().encode(message);\n    const signatureBytes = await this.privateKey.sign(messageBytes);\n    return Buffer.from(signatureBytes).toString('hex');\n  }\n}\n","import axios from 'axios';\nimport type { Network } from '../types';\n\nexport interface MirrorNodeAccountKey {\n  _type: string;\n  key: string;\n}\n\nexport interface MirrorNodeAccountResponse {\n  key?: MirrorNodeAccountKey;\n}\n\nexport class HederaMirrorNode {\n  private readonly baseUrl: string;\n\n  constructor(network: Network, baseUrl?: string) {\n    this.baseUrl = baseUrl ?? getDefaultMirrorNodeBaseUrl(network);\n  }\n\n  async requestAccount(accountId: string): Promise<MirrorNodeAccountResponse> {\n    const response = await axios.get<MirrorNodeAccountResponse>(\n      `${this.baseUrl}/api/v1/accounts/${accountId}`\n    );\n    return response.data;\n  }\n}\n\nfunction getDefaultMirrorNodeBaseUrl(network: Network): string {\n  return network === 'mainnet'\n    ? 'https://mainnet-public.mirrornode.hedera.com'\n    : 'https://testnet.mirrornode.hedera.com';\n}\n\n","import { DAppSigner } from '@hashgraph/hedera-wallet-connect';\nimport axios from 'axios';\nimport { Logger } from './logger';\nimport { Buffer } from 'buffer';\n\nexport interface AuthConfig {\n  accountId: string;\n  signer: DAppSigner;\n  network?: 'mainnet' | 'testnet';\n  baseUrl?: string;\n  logger: Logger;\n}\n\nexport interface AuthResult {\n  apiKey: string;\n}\n\nexport class ClientAuth {\n  private readonly accountId: string;\n  private readonly signer: DAppSigner;\n  private readonly baseUrl: string;\n  private readonly network: string;\n  private readonly logger: Logger;\n\n  constructor(config: AuthConfig) {\n    this.accountId = config.accountId;\n    this.signer = config.signer;\n    this.network = config.network || 'mainnet';\n    this.baseUrl = config.baseUrl || 'https://kiloscribe.com';\n    this.logger = config.logger;\n  }\n\n  async authenticate(): Promise<AuthResult> {\n    const requestSignatureResponse = await axios.get(\n      `${this.baseUrl}/api/auth/request-signature`,\n      {\n        headers: {\n          'x-session': this.accountId,\n        },\n      }\n    );\n\n    if (!requestSignatureResponse.data?.message) {\n      throw new Error('Failed to get signature message');\n    }\n\n    const message = requestSignatureResponse.data.message;\n\n    const signature = await this.signMessage(JSON.stringify(message));\n\n    const authResponse = await axios.post(\n      `${this.baseUrl}/api/auth/authenticate`,\n      {\n        authData: {\n          id: this.accountId,\n          signature,\n          data: message,\n          network: this.network,\n        },\n        include: 'apiKey',\n      }\n    );\n\n    if (!authResponse.data?.user?.sessionToken) {\n      throw new Error('Authentication failed');\n    }\n\n    return {\n      apiKey: authResponse.data.apiKey,\n    };\n  }\n\n  private async signMessage(message: string): Promise<string> {\n    try {\n      const messageBytes = new TextEncoder().encode(message);\n      this.logger.debug(`signing message`);\n      const signatureBytes = await this.signer.sign([messageBytes], {\n        encoding: 'utf-8',\n      });\n      return Buffer.from(signatureBytes?.[0].signature).toString('hex');\n    } catch (e) {\n      this.logger.error(`Failed to sign message`, e);\n      throw new Error('Failed to sign message');\n    }\n  }\n}\n","import * as ieee754 from 'ieee754';\n// Primitive types\nfunction dv(array) {\n    return new DataView(array.buffer, array.byteOffset);\n}\n/**\n * 8-bit unsigned integer\n */\nexport const UINT8 = {\n    len: 1,\n    get(array, offset) {\n        return dv(array).getUint8(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint8(offset, value);\n        return offset + 1;\n    }\n};\n/**\n * 16-bit unsigned integer, Little Endian byte order\n */\nexport const UINT16_LE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getUint16(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setUint16(offset, value, true);\n        return offset + 2;\n    }\n};\n/**\n * 16-bit unsigned integer, Big Endian byte order\n */\nexport const UINT16_BE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getUint16(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint16(offset, value);\n        return offset + 2;\n    }\n};\n/**\n * 24-bit unsigned integer, Little Endian byte order\n */\nexport const UINT24_LE = {\n    len: 3,\n    get(array, offset) {\n        const dataView = dv(array);\n        return dataView.getUint8(offset) + (dataView.getUint16(offset + 1, true) << 8);\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint8(offset, value & 0xff);\n        dataView.setUint16(offset + 1, value >> 8, true);\n        return offset + 3;\n    }\n};\n/**\n * 24-bit unsigned integer, Big Endian byte order\n */\nexport const UINT24_BE = {\n    len: 3,\n    get(array, offset) {\n        const dataView = dv(array);\n        return (dataView.getUint16(offset) << 8) + dataView.getUint8(offset + 2);\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint16(offset, value >> 8);\n        dataView.setUint8(offset + 2, value & 0xff);\n        return offset + 3;\n    }\n};\n/**\n * 32-bit unsigned integer, Little Endian byte order\n */\nexport const UINT32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getUint32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setUint32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * 32-bit unsigned integer, Big Endian byte order\n */\nexport const UINT32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getUint32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * 8-bit signed integer\n */\nexport const INT8 = {\n    len: 1,\n    get(array, offset) {\n        return dv(array).getInt8(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt8(offset, value);\n        return offset + 1;\n    }\n};\n/**\n * 16-bit signed integer, Big Endian byte order\n */\nexport const INT16_BE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getInt16(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt16(offset, value);\n        return offset + 2;\n    }\n};\n/**\n * 16-bit signed integer, Little Endian byte order\n */\nexport const INT16_LE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getInt16(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setInt16(offset, value, true);\n        return offset + 2;\n    }\n};\n/**\n * 24-bit signed integer, Little Endian byte order\n */\nexport const INT24_LE = {\n    len: 3,\n    get(array, offset) {\n        const unsigned = UINT24_LE.get(array, offset);\n        return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint8(offset, value & 0xff);\n        dataView.setUint16(offset + 1, value >> 8, true);\n        return offset + 3;\n    }\n};\n/**\n * 24-bit signed integer, Big Endian byte order\n */\nexport const INT24_BE = {\n    len: 3,\n    get(array, offset) {\n        const unsigned = UINT24_BE.get(array, offset);\n        return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint16(offset, value >> 8);\n        dataView.setUint8(offset + 2, value & 0xff);\n        return offset + 3;\n    }\n};\n/**\n * 32-bit signed integer, Big Endian byte order\n */\nexport const INT32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getInt32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * 32-bit signed integer, Big Endian byte order\n */\nexport const INT32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getInt32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setInt32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * 64-bit unsigned integer, Little Endian byte order\n */\nexport const UINT64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigUint64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setBigUint64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit signed integer, Little Endian byte order\n */\nexport const INT64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigInt64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setBigInt64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit unsigned integer, Big Endian byte order\n */\nexport const UINT64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigUint64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setBigUint64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit signed integer, Big Endian byte order\n */\nexport const INT64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigInt64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setBigInt64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 16-bit (half precision) float, big endian\n */\nexport const Float16_BE = {\n    len: 2,\n    get(dataView, offset) {\n        return ieee754.read(dataView, offset, false, 10, this.len);\n    },\n    put(dataView, offset, value) {\n        ieee754.write(dataView, value, offset, false, 10, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 16-bit (half precision) float, little endian\n */\nexport const Float16_LE = {\n    len: 2,\n    get(array, offset) {\n        return ieee754.read(array, offset, true, 10, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, true, 10, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 32-bit (single precision) float, big endian\n */\nexport const Float32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getFloat32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * IEEE 754 32-bit (single precision) float, little endian\n */\nexport const Float32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getFloat32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * IEEE 754 64-bit (double precision) float, big endian\n */\nexport const Float64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getFloat64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 64-bit (double precision) float, little endian\n */\nexport const Float64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getFloat64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 80-bit (extended precision) float, big endian\n */\nexport const Float80_BE = {\n    len: 10,\n    get(array, offset) {\n        return ieee754.read(array, offset, false, 63, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, false, 63, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 80-bit (extended precision) float, little endian\n */\nexport const Float80_LE = {\n    len: 10,\n    get(array, offset) {\n        return ieee754.read(array, offset, true, 63, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, true, 63, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * Ignore a given number of bytes\n */\nexport class IgnoreType {\n    /**\n     * @param len number of bytes to ignore\n     */\n    constructor(len) {\n        this.len = len;\n    }\n    // ToDo: don't read, but skip data\n    get(_array, _off) {\n    }\n}\nexport class Uint8ArrayType {\n    constructor(len) {\n        this.len = len;\n    }\n    get(array, offset) {\n        return array.subarray(offset, offset + this.len);\n    }\n}\n/**\n * Consume a fixed number of bytes from the stream and return a string with a specified encoding.\n * Supports all encodings supported by TextDecoder, plus 'windows-1252'.\n */\nexport class StringType {\n    constructor(len, encoding) {\n        this.len = len;\n        if (encoding && encoding.toLowerCase() === 'windows-1252') {\n            this.decoder = StringType.decodeWindows1252;\n        }\n        else {\n            const textDecoder = new TextDecoder(encoding);\n            this.decoder = (bytes) => textDecoder.decode(bytes);\n        }\n    }\n    get(data, offset = 0) {\n        const bytes = data.subarray(offset, offset + this.len);\n        return this.decoder(bytes);\n    }\n    static decodeWindows1252(bytes) {\n        let result = '';\n        for (let i = 0; i < bytes.length; i++) {\n            const byte = bytes[i];\n            result += byte < 0x80 || byte >= 0xA0\n                ? String.fromCharCode(byte)\n                : StringType.win1252Map[byte - 0x80];\n        }\n        return result;\n    }\n}\nStringType.win1252Map = '\\u20AC\\u0081\\u201A\\u0192\\u201E\\u2026\\u2020\\u2021\\u02C6\\u2030\\u0160\\u2039\\u0152\\u008D\\u017D\\u008F\\u0090\\u2018\\u2019\\u201C\\u201D\\u2022\\u2013\\u2014\\u02DC\\u2122\\u0161\\u203A\\u0153\\u009D\\u017E\\u0178';\n/**\n * ANSI Latin 1 String using Windows-1252 (Code Page 1252)\n * Windows-1252 is a superset of ISO 8859-1 / Latin-1.\n */\nexport class AnsiStringType extends StringType {\n    constructor(len) {\n        super(len, 'windows-1252');\n    }\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","export const defaultMessages = 'End-Of-Stream';\n/**\n * Thrown on read operation of the end of file or stream has been reached\n */\nexport class EndOfStreamError extends Error {\n    constructor() {\n        super(defaultMessages);\n        this.name = \"EndOfStreamError\";\n    }\n}\nexport class AbortError extends Error {\n    constructor(message = \"The operation was aborted\") {\n        super(message);\n        this.name = \"AbortError\";\n    }\n}\n","import { EndOfStreamError, AbortError } from \"./Errors.js\";\nexport class AbstractStreamReader {\n    constructor() {\n        this.endOfStream = false;\n        this.interrupted = false;\n        /**\n         * Store peeked data\n         * @type {Array}\n         */\n        this.peekQueue = [];\n    }\n    async peek(uint8Array, mayBeLess = false) {\n        const bytesRead = await this.read(uint8Array, mayBeLess);\n        this.peekQueue.push(uint8Array.subarray(0, bytesRead)); // Put read data back to peek buffer\n        return bytesRead;\n    }\n    async read(buffer, mayBeLess = false) {\n        if (buffer.length === 0) {\n            return 0;\n        }\n        let bytesRead = this.readFromPeekBuffer(buffer);\n        if (!this.endOfStream) {\n            bytesRead += await this.readRemainderFromStream(buffer.subarray(bytesRead), mayBeLess);\n        }\n        if (bytesRead === 0 && !mayBeLess) {\n            throw new EndOfStreamError();\n        }\n        return bytesRead;\n    }\n    /**\n     * Read chunk from stream\n     * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in\n     * @returns Number of bytes read\n     */\n    readFromPeekBuffer(buffer) {\n        let remaining = buffer.length;\n        let bytesRead = 0;\n        // consume peeked data first\n        while (this.peekQueue.length > 0 && remaining > 0) {\n            const peekData = this.peekQueue.pop(); // Front of queue\n            if (!peekData)\n                throw new Error('peekData should be defined');\n            const lenCopy = Math.min(peekData.length, remaining);\n            buffer.set(peekData.subarray(0, lenCopy), bytesRead);\n            bytesRead += lenCopy;\n            remaining -= lenCopy;\n            if (lenCopy < peekData.length) {\n                // remainder back to queue\n                this.peekQueue.push(peekData.subarray(lenCopy));\n            }\n        }\n        return bytesRead;\n    }\n    async readRemainderFromStream(buffer, mayBeLess) {\n        let bytesRead = 0;\n        // Continue reading from stream if required\n        while (bytesRead < buffer.length && !this.endOfStream) {\n            if (this.interrupted) {\n                throw new AbortError();\n            }\n            const chunkLen = await this.readFromStream(buffer.subarray(bytesRead), mayBeLess);\n            if (chunkLen === 0)\n                break;\n            bytesRead += chunkLen;\n        }\n        if (!mayBeLess && bytesRead < buffer.length) {\n            throw new EndOfStreamError();\n        }\n        return bytesRead;\n    }\n}\n","import { AbstractStreamReader } from \"./AbstractStreamReader.js\";\nexport class WebStreamReader extends AbstractStreamReader {\n    constructor(reader) {\n        super();\n        this.reader = reader;\n    }\n    async abort() {\n        return this.close();\n    }\n    async close() {\n        this.reader.releaseLock();\n    }\n}\n","import { WebStreamReader } from './WebStreamReader.js';\n/**\n * Read from a WebStream using a BYOB reader\n * Reference: https://nodejs.org/api/webstreams.html#class-readablestreambyobreader\n */\nexport class WebStreamByobReader extends WebStreamReader {\n    /**\n     * Read from stream\n     * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in\n     * @param mayBeLess - If true, may fill the buffer partially\n     * @protected Bytes read\n     */\n    async readFromStream(buffer, mayBeLess) {\n        if (buffer.length === 0)\n            return 0;\n        // @ts-ignore\n        const result = await this.reader.read(new Uint8Array(buffer.length), { min: mayBeLess ? undefined : buffer.length });\n        if (result.done) {\n            this.endOfStream = result.done;\n        }\n        if (result.value) {\n            buffer.set(result.value);\n            return result.value.length;\n        }\n        return 0;\n    }\n}\n","import { EndOfStreamError } from './Errors.js';\nimport { AbstractStreamReader } from \"./AbstractStreamReader.js\";\nexport class WebStreamDefaultReader extends AbstractStreamReader {\n    constructor(reader) {\n        super();\n        this.reader = reader;\n        this.buffer = null; // Internal buffer to store excess data\n    }\n    /**\n     * Copy chunk to target, and store the remainder in this.buffer\n     */\n    writeChunk(target, chunk) {\n        const written = Math.min(chunk.length, target.length);\n        target.set(chunk.subarray(0, written));\n        // Adjust the remainder of the buffer\n        if (written < chunk.length) {\n            this.buffer = chunk.subarray(written);\n        }\n        else {\n            this.buffer = null;\n        }\n        return written;\n    }\n    /**\n     * Read from stream\n     * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in\n     * @param mayBeLess - If true, may fill the buffer partially\n     * @protected Bytes read\n     */\n    async readFromStream(buffer, mayBeLess) {\n        if (buffer.length === 0)\n            return 0;\n        let totalBytesRead = 0;\n        // Serve from the internal buffer first\n        if (this.buffer) {\n            totalBytesRead += this.writeChunk(buffer, this.buffer);\n        }\n        // Continue reading from the stream if more data is needed\n        while (totalBytesRead < buffer.length && !this.endOfStream) {\n            const result = await this.reader.read();\n            if (result.done) {\n                this.endOfStream = true;\n                break;\n            }\n            if (result.value) {\n                totalBytesRead += this.writeChunk(buffer.subarray(totalBytesRead), result.value);\n            }\n        }\n        if (!mayBeLess && totalBytesRead === 0 && this.endOfStream) {\n            throw new EndOfStreamError();\n        }\n        return totalBytesRead;\n    }\n    abort() {\n        this.interrupted = true;\n        return this.reader.cancel();\n    }\n    async close() {\n        await this.abort();\n        this.reader.releaseLock();\n    }\n}\n","import { EndOfStreamError } from './stream/index.js';\n/**\n * Core tokenizer\n */\nexport class AbstractTokenizer {\n    /**\n     * Constructor\n     * @param options Tokenizer options\n     * @protected\n     */\n    constructor(options) {\n        this.numBuffer = new Uint8Array(8);\n        /**\n         * Tokenizer-stream position\n         */\n        this.position = 0;\n        this.onClose = options?.onClose;\n        if (options?.abortSignal) {\n            options.abortSignal.addEventListener('abort', () => {\n                this.abort();\n            });\n        }\n    }\n    /**\n     * Read a token from the tokenizer-stream\n     * @param token - The token to read\n     * @param position - If provided, the desired position in the tokenizer-stream\n     * @returns Promise with token data\n     */\n    async readToken(token, position = this.position) {\n        const uint8Array = new Uint8Array(token.len);\n        const len = await this.readBuffer(uint8Array, { position });\n        if (len < token.len)\n            throw new EndOfStreamError();\n        return token.get(uint8Array, 0);\n    }\n    /**\n     * Peek a token from the tokenizer-stream.\n     * @param token - Token to peek from the tokenizer-stream.\n     * @param position - Offset where to begin reading within the file. If position is null, data will be read from the current file position.\n     * @returns Promise with token data\n     */\n    async peekToken(token, position = this.position) {\n        const uint8Array = new Uint8Array(token.len);\n        const len = await this.peekBuffer(uint8Array, { position });\n        if (len < token.len)\n            throw new EndOfStreamError();\n        return token.get(uint8Array, 0);\n    }\n    /**\n     * Read a numeric token from the stream\n     * @param token - Numeric token\n     * @returns Promise with number\n     */\n    async readNumber(token) {\n        const len = await this.readBuffer(this.numBuffer, { length: token.len });\n        if (len < token.len)\n            throw new EndOfStreamError();\n        return token.get(this.numBuffer, 0);\n    }\n    /**\n     * Read a numeric token from the stream\n     * @param token - Numeric token\n     * @returns Promise with number\n     */\n    async peekNumber(token) {\n        const len = await this.peekBuffer(this.numBuffer, { length: token.len });\n        if (len < token.len)\n            throw new EndOfStreamError();\n        return token.get(this.numBuffer, 0);\n    }\n    /**\n     * Ignore number of bytes, advances the pointer in under tokenizer-stream.\n     * @param length - Number of bytes to ignore\n     * @return resolves the number of bytes ignored, equals length if this available, otherwise the number of bytes available\n     */\n    async ignore(length) {\n        if (this.fileInfo.size !== undefined) {\n            const bytesLeft = this.fileInfo.size - this.position;\n            if (length > bytesLeft) {\n                this.position += bytesLeft;\n                return bytesLeft;\n            }\n        }\n        this.position += length;\n        return length;\n    }\n    async close() {\n        await this.abort();\n        await this.onClose?.();\n    }\n    normalizeOptions(uint8Array, options) {\n        if (!this.supportsRandomAccess() && options && options.position !== undefined && options.position < this.position) {\n            throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\n        }\n        return {\n            ...{\n                mayBeLess: false,\n                offset: 0,\n                length: uint8Array.length,\n                position: this.position\n            }, ...options\n        };\n    }\n    abort() {\n        return Promise.resolve(); // Ignore abort signal\n    }\n}\n","import { AbstractTokenizer } from './AbstractTokenizer.js';\nimport { EndOfStreamError } from './stream/index.js';\nconst maxBufferSize = 256000;\nexport class ReadStreamTokenizer extends AbstractTokenizer {\n    /**\n     * Constructor\n     * @param streamReader stream-reader to read from\n     * @param options Tokenizer options\n     */\n    constructor(streamReader, options) {\n        super(options);\n        this.streamReader = streamReader;\n        this.fileInfo = options?.fileInfo ?? {};\n    }\n    /**\n     * Read buffer from tokenizer\n     * @param uint8Array - Target Uint8Array to fill with data read from the tokenizer-stream\n     * @param options - Read behaviour options\n     * @returns Promise with number of bytes read\n     */\n    async readBuffer(uint8Array, options) {\n        const normOptions = this.normalizeOptions(uint8Array, options);\n        const skipBytes = normOptions.position - this.position;\n        if (skipBytes > 0) {\n            await this.ignore(skipBytes);\n            return this.readBuffer(uint8Array, options);\n        }\n        if (skipBytes < 0) {\n            throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\n        }\n        if (normOptions.length === 0) {\n            return 0;\n        }\n        const bytesRead = await this.streamReader.read(uint8Array.subarray(0, normOptions.length), normOptions.mayBeLess);\n        this.position += bytesRead;\n        if ((!options || !options.mayBeLess) && bytesRead < normOptions.length) {\n            throw new EndOfStreamError();\n        }\n        return bytesRead;\n    }\n    /**\n     * Peek (read ahead) buffer from tokenizer\n     * @param uint8Array - Uint8Array (or Buffer) to write data to\n     * @param options - Read behaviour options\n     * @returns Promise with number of bytes peeked\n     */\n    async peekBuffer(uint8Array, options) {\n        const normOptions = this.normalizeOptions(uint8Array, options);\n        let bytesRead = 0;\n        if (normOptions.position) {\n            const skipBytes = normOptions.position - this.position;\n            if (skipBytes > 0) {\n                const skipBuffer = new Uint8Array(normOptions.length + skipBytes);\n                bytesRead = await this.peekBuffer(skipBuffer, { mayBeLess: normOptions.mayBeLess });\n                uint8Array.set(skipBuffer.subarray(skipBytes));\n                return bytesRead - skipBytes;\n            }\n            if (skipBytes < 0) {\n                throw new Error('Cannot peek from a negative offset in a stream');\n            }\n        }\n        if (normOptions.length > 0) {\n            try {\n                bytesRead = await this.streamReader.peek(uint8Array.subarray(0, normOptions.length), normOptions.mayBeLess);\n            }\n            catch (err) {\n                if (options?.mayBeLess && err instanceof EndOfStreamError) {\n                    return 0;\n                }\n                throw err;\n            }\n            if ((!normOptions.mayBeLess) && bytesRead < normOptions.length) {\n                throw new EndOfStreamError();\n            }\n        }\n        return bytesRead;\n    }\n    async ignore(length) {\n        // debug(`ignore ${this.position}...${this.position + length - 1}`);\n        const bufSize = Math.min(maxBufferSize, length);\n        const buf = new Uint8Array(bufSize);\n        let totBytesRead = 0;\n        while (totBytesRead < length) {\n            const remaining = length - totBytesRead;\n            const bytesRead = await this.readBuffer(buf, { length: Math.min(bufSize, remaining) });\n            if (bytesRead < 0) {\n                return bytesRead;\n            }\n            totBytesRead += bytesRead;\n        }\n        return totBytesRead;\n    }\n    abort() {\n        return this.streamReader.abort();\n    }\n    async close() {\n        return this.streamReader.close();\n    }\n    supportsRandomAccess() {\n        return false;\n    }\n}\n","import { EndOfStreamError } from './stream/index.js';\nimport { AbstractTokenizer } from './AbstractTokenizer.js';\nexport class BufferTokenizer extends AbstractTokenizer {\n    /**\n     * Construct BufferTokenizer\n     * @param uint8Array - Uint8Array to tokenize\n     * @param options Tokenizer options\n     */\n    constructor(uint8Array, options) {\n        super(options);\n        this.uint8Array = uint8Array;\n        this.fileInfo = { ...options?.fileInfo ?? {}, ...{ size: uint8Array.length } };\n    }\n    /**\n     * Read buffer from tokenizer\n     * @param uint8Array - Uint8Array to tokenize\n     * @param options - Read behaviour options\n     * @returns {Promise<number>}\n     */\n    async readBuffer(uint8Array, options) {\n        if (options?.position) {\n            this.position = options.position;\n        }\n        const bytesRead = await this.peekBuffer(uint8Array, options);\n        this.position += bytesRead;\n        return bytesRead;\n    }\n    /**\n     * Peek (read ahead) buffer from tokenizer\n     * @param uint8Array\n     * @param options - Read behaviour options\n     * @returns {Promise<number>}\n     */\n    async peekBuffer(uint8Array, options) {\n        const normOptions = this.normalizeOptions(uint8Array, options);\n        const bytes2read = Math.min(this.uint8Array.length - normOptions.position, normOptions.length);\n        if ((!normOptions.mayBeLess) && bytes2read < normOptions.length) {\n            throw new EndOfStreamError();\n        }\n        uint8Array.set(this.uint8Array.subarray(normOptions.position, normOptions.position + bytes2read));\n        return bytes2read;\n    }\n    close() {\n        return super.close();\n    }\n    supportsRandomAccess() {\n        return true;\n    }\n    setPosition(position) {\n        this.position = position;\n    }\n}\n","import { StreamReader, makeWebStreamReader } from './stream/index.js';\nimport { ReadStreamTokenizer } from './ReadStreamTokenizer.js';\nimport { BufferTokenizer } from './BufferTokenizer.js';\nimport { BlobTokenizer } from './BlobTokenizer.js';\nexport { EndOfStreamError, AbortError } from './stream/index.js';\nexport { AbstractTokenizer } from './AbstractTokenizer.js';\n/**\n * Construct ReadStreamTokenizer from given Stream.\n * Will set fileSize, if provided given Stream has set the .path property/\n * @param stream - Read from Node.js Stream.Readable\n * @param options - Tokenizer options\n * @returns ReadStreamTokenizer\n */\nexport function fromStream(stream, options) {\n    const streamReader = new StreamReader(stream);\n    const _options = options ?? {};\n    const chainedClose = _options.onClose;\n    _options.onClose = async () => {\n        await streamReader.close();\n        if (chainedClose) {\n            return chainedClose();\n        }\n    };\n    return new ReadStreamTokenizer(streamReader, _options);\n}\n/**\n * Construct ReadStreamTokenizer from given ReadableStream (WebStream API).\n * Will set fileSize, if provided given Stream has set the .path property/\n * @param webStream - Read from Node.js Stream.Readable (must be a byte stream)\n * @param options - Tokenizer options\n * @returns ReadStreamTokenizer\n */\nexport function fromWebStream(webStream, options) {\n    const webStreamReader = makeWebStreamReader(webStream);\n    const _options = options ?? {};\n    const chainedClose = _options.onClose;\n    _options.onClose = async () => {\n        await webStreamReader.close();\n        if (chainedClose) {\n            return chainedClose();\n        }\n    };\n    return new ReadStreamTokenizer(webStreamReader, _options);\n}\n/**\n * Construct ReadStreamTokenizer from given Buffer.\n * @param uint8Array - Uint8Array to tokenize\n * @param options - Tokenizer options\n * @returns BufferTokenizer\n */\nexport function fromBuffer(uint8Array, options) {\n    return new BufferTokenizer(uint8Array, options);\n}\n/**\n * Construct ReadStreamTokenizer from given Blob.\n * @param blob - Uint8Array to tokenize\n * @param options - Tokenizer options\n * @returns BufferTokenizer\n */\nexport function fromBlob(blob, options) {\n    return new BlobTokenizer(blob, options);\n}\n","import { WebStreamByobReader } from './WebStreamByobReader.js';\nimport { WebStreamDefaultReader } from './WebStreamDefaultReader.js';\nexport function makeWebStreamReader(stream) {\n    try {\n        const reader = stream.getReader({ mode: \"byob\" });\n        if (reader instanceof ReadableStreamDefaultReader) {\n            // Fallback to default reader in case `mode: byob` is ignored\n            return new WebStreamDefaultReader(reader);\n        }\n        return new WebStreamByobReader(reader);\n    }\n    catch (error) {\n        if (error instanceof TypeError) {\n            // Fallback to default reader in case `mode: byob` rejected by a `TypeError`\n            return new WebStreamDefaultReader(stream.getReader());\n        }\n        throw error;\n    }\n}\n","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = (function (c, id, msg, transfer, cb) {\n    var w = new Worker(ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([\n        c + ';addEventListener(\"error\",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'\n    ], { type: 'text/javascript' }))));\n    w.onmessage = function (e) {\n        var d = e.data, ed = d.$e$;\n        if (ed) {\n            var err = new Error(ed[0]);\n            err['code'] = ed[1];\n            err.stack = ed[2];\n            cb(err, null);\n        }\n        else\n            cb(null, d);\n    };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, i32 = Int32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new i32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return { b: b, r: r };\n};\nvar _a = freb(fleb, 2), fl = _a.b, revfl = _a.r;\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b.b, revfd = _b.r;\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >> 8) | ((x & 0x00FF) << 8)) >> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i) {\n        if (cd[i])\n            ++l[cd[i] - 1];\n    }\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 1; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i) {\n            if (cd[i]) {\n                co[i] = rev[le[cd[i] - 1]++] >> (15 - cd[i]);\n            }\n        }\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p + 7) / 8) | 0; };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    return new u8(v.subarray(s, e));\n};\n/**\n * Codes for errors generated within this library\n */\nexport var FlateErrorCode = {\n    UnexpectedEOF: 0,\n    InvalidBlockType: 1,\n    InvalidLengthLiteral: 2,\n    InvalidDistance: 3,\n    StreamFinished: 4,\n    NoStreamHandler: 5,\n    InvalidHeader: 6,\n    NoCallback: 7,\n    InvalidUTF8: 8,\n    ExtraFieldTooLong: 9,\n    InvalidDate: 10,\n    FilenameTooLong: 11,\n    StreamFinishing: 12,\n    InvalidZipData: 13,\n    UnknownCompressionMethod: 14\n};\n// error codes\nvar ec = [\n    'unexpected EOF',\n    'invalid block type',\n    'invalid length/literal',\n    'invalid distance',\n    'stream finished',\n    'no stream handler',\n    ,\n    'no callback',\n    'invalid UTF-8 data',\n    'extra field too long',\n    'date not in range 1980-2099',\n    'filename too long',\n    'stream finishing',\n    'invalid zip data'\n    // determined by unknown compression method\n];\n;\nvar err = function (ind, msg, nt) {\n    var e = new Error(msg || ec[ind]);\n    e.code = ind;\n    if (Error.captureStackTrace)\n        Error.captureStackTrace(e, err);\n    if (!nt)\n        throw e;\n    return e;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, st, buf, dict) {\n    // source length       dict length\n    var sl = dat.length, dl = dict ? dict.length : 0;\n    if (!sl || st.f && !st.l)\n        return buf || new u8(0);\n    var noBuf = !buf;\n    // have to estimate size\n    var resize = noBuf || st.i != 2;\n    // no state\n    var noSt = st.i;\n    // Assumes roughly 33% compression ratio average\n    if (noBuf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                // ensure size\n                if (resize)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8, st.f = final;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                err(1);\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17\n        if (resize)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var lpos = pos;\n        for (;; lpos = pos) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >> 4;\n            pos += c & 15;\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n            if (!c)\n                err(2);\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lpos = pos, lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >> 4;\n                if (!d)\n                    err(3);\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n                }\n                if (pos > tbts) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                if (resize)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                if (bt < dt) {\n                    var shift = dl - dt, dend = Math.min(dt, end);\n                    if (shift + bt < 0)\n                        err(3);\n                    for (; bt < dend; ++bt)\n                        buf[bt] = dict[shift + bt];\n                }\n                for (; bt < end; ++bt)\n                    buf[bt] = buf[bt - dt];\n            }\n        }\n        st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    // don't reallocate for streams or user buffers\n    return bt != buf.length && noBuf ? slc(buf, 0, bt) : buf.subarray(0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n    d[o + 2] |= v >> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return { t: et, l: 0 };\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return { t: v, l: 1 };\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return { t: new u8(tr), l: mbt };\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return { c: cl.subarray(0, cli), n: s };\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a.t, mlb = _a.l;\n    var _b = hTree(df, 15), ddt = _b.t, mdb = _b.l;\n    var _c = lc(dlt), lclt = _c.c, nlc = _c.n;\n    var _d = lc(ddt), lcdt = _d.c, ndc = _d.n;\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        ++lcfreq[lclt[i] & 31];\n    for (var i = 0; i < lcdt.length; ++i)\n        ++lcfreq[lcdt[i] & 31];\n    var _e = hTree(lcfreq, 7), lct = _e.t, mlcb = _e.l;\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + 2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18];\n    if (bs >= 0 && flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >> 5) & 127), p += clct[i] >> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        var sym = syms[i];\n        if (sym > 255) {\n            var len = (sym >> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (sym >> 23) & 31), p += fleb[len];\n            var dst = sym & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (sym >> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[sym]), p += ll[sym];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new i32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, st) {\n    var s = st.z || dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var lst = st.l;\n    var pos = (st.r || 0) & 7;\n    if (lvl) {\n        if (pos)\n            w[0] = st.r >> 3;\n        var opt = deo[lvl - 1];\n        var n = opt >> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = st.p || new u16(32768), head = st.h || new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new i32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index          l/lind  waitdx          blkpos\n        var lc_1 = 0, eb = 0, i = st.i || 0, li = 0, wi = st.w || 0, bs = 0;\n        for (; i + 2 < s; ++i) {\n            // hash value\n            var hv = hsh(i);\n            // index mod 32768    previous index mod\n            var imod = i & 32767, pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && (rem > 423 || !lst)) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = imod - pimod & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = i - dif + j & 32767;\n                                    var pti = prev[ti];\n                                    var cd = ti - pti & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += imod - pimod & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one int32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        for (i = Math.max(i, wi); i < s; ++i) {\n            syms[li++] = dat[i];\n            ++lf[dat[i]];\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        if (!lst) {\n            st.r = (pos & 7) | w[(pos / 8) | 0] << 3;\n            // shft(pos) now 1 less if pos & 7 != 0\n            pos -= 7;\n            st.h = head, st.p = prev, st.i = i, st.w = wi;\n        }\n    }\n    else {\n        for (var i = st.w || 0; i < s + lst; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e >= s) {\n                // write final block\n                w[(pos / 8) | 0] = lst;\n                e = s;\n            }\n            pos = wfblk(w, pos + 1, dat.subarray(i, e));\n        }\n        st.i = s;\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new Int32Array(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && -306674912) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = -1;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return ~c; }\n    };\n};\n// Adler32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length | 0;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 2655, l);\n                for (; i < e; ++i)\n                    m += n += d[i];\n                n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n            }\n            a = n, b = m;\n        },\n        d: function () {\n            a %= 65521, b %= 65521;\n            return (a & 255) << 24 | (a & 0xFF00) << 8 | (b & 255) << 8 | (b >> 8);\n        }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    if (!st) {\n        st = { l: 1 };\n        if (opt.dictionary) {\n            var dict = opt.dictionary.subarray(-32768);\n            var newDat = new u8(dict.length + dat.length);\n            newDat.set(dict);\n            newDat.set(dat, dict.length);\n            dat = newDat;\n            st.w = dict.length;\n        }\n    }\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? (st.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 20) : (12 + opt.mem), pre, post, st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/\\s+/g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return fnStr;\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k].buffer) {\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n        }\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            fnStr = wcln(fns[i], fnStr, td_1);\n        ch[id] = { c: wcln(fns[m], fnStr, td_1), e: td_1 };\n    }\n    var td = mrg({}, ch[id].e);\n    return wk(ch[id].c + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, i32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, ec, hMap, max, bits, bits16, shft, slc, err, inflt, inflateSync, pbf, gopt]; };\nvar bDflt = function () { return [u8, u16, i32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zls]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get opts\nvar gopt = function (o) { return o && {\n    out: o.size && new u8(o.size),\n    dictionary: o.dictionary\n}; };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) {\n        if (ev.data.length) {\n            strm.push(ev.data[0], ev.data[1]);\n            postMessage([ev.data[0].length]);\n        }\n        else\n            strm.flush();\n    };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id, flush, ext) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else if (!Array.isArray(dat))\n            ext(dat);\n        else if (dat.length == 1) {\n            strm.queuedSize -= dat[0];\n            if (strm.ondrain)\n                strm.ondrain(dat[0]);\n        }\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.queuedSize = 0;\n    strm.push = function (d, f) {\n        if (!strm.ondata)\n            err(5);\n        if (t)\n            strm.ondata(err(4, 0, 1), null, !!f);\n        strm.queuedSize += d.length;\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n    if (flush) {\n        strm.flush = function () { w.postMessage([]); };\n    }\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };\nvar b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        err(6, 'invalid gzip data');\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += (d[10] | d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16 | d[l - 1] << 24) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + (o.filename ? o.filename.length + 1 : 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (o.dictionary && 32);\n    c[1] |= 31 - ((c[0] << 8) | c[1]) % 31;\n    if (o.dictionary) {\n        var h = adler();\n        h.p(o.dictionary);\n        wbytes(c, 2, h.d());\n    }\n};\n// zlib start\nvar zls = function (d, dict) {\n    if ((d[0] & 15) != 8 || (d[0] >> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        err(6, 'invalid zlib data');\n    if ((d[1] >> 5 & 1) == +!dict)\n        err(6, 'invalid zlib data: ' + (d[1] & 32 ? 'need' : 'unexpected') + ' dictionary');\n    return (d[1] >> 3 & 4) + 2;\n};\nfunction StrmOpt(opts, cb) {\n    if (typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n        this.s = { l: 0, i: 32768, w: 32768, z: 32768 };\n        // Buffer length must always be 0 mod 32768 for index calculations to be correct when modifying head and prev\n        // 98304 = 32768 (lookback) + 65536 (common chunk size)\n        this.b = new u8(98304);\n        if (this.o.dictionary) {\n            var dict = this.o.dictionary.subarray(-32768);\n            this.b.set(dict, 32768 - dict.length);\n            this.s.i = 32768 - dict.length;\n        }\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, this.s), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.s.l)\n            err(4);\n        var endLen = chunk.length + this.s.z;\n        if (endLen > this.b.length) {\n            if (endLen > 2 * this.b.length - 32768) {\n                var newBuf = new u8(endLen & -32768);\n                newBuf.set(this.b.subarray(0, this.s.z));\n                this.b = newBuf;\n            }\n            var split = this.b.length - this.s.z;\n            this.b.set(chunk.subarray(0, split), this.s.z);\n            this.s.z = this.b.length;\n            this.p(this.b, false);\n            this.b.set(this.b.subarray(-32768));\n            this.b.set(chunk.subarray(split), 32768);\n            this.s.z = chunk.length - split + 32768;\n            this.s.i = 32766, this.s.w = 32768;\n        }\n        else {\n            this.b.set(chunk, this.s.z);\n            this.s.z += chunk.length;\n        }\n        this.s.l = final & 1;\n        if (this.s.z > this.s.w + 8191 || final) {\n            this.p(this.b, final || false);\n            this.s.w = this.s.i, this.s.i -= 2;\n        }\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * deflated output for small inputs.\n     */\n    Deflate.prototype.flush = function () {\n        if (!this.ondata)\n            err(5);\n        if (this.s.l)\n            err(4);\n        this.p(this.b, false);\n        this.s.w = this.s.i, this.s.i -= 2;\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6, 1);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    function Inflate(opts, cb) {\n        // no StrmOpt here to avoid adding to workerizer\n        if (typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        var dict = opts && opts.dictionary && opts.dictionary.subarray(-32768);\n        this.s = { i: 0, b: dict ? dict.length : 0 };\n        this.o = new u8(32768);\n        this.p = new u8(0);\n        if (dict)\n            this.o.set(dict);\n    }\n    Inflate.prototype.e = function (c) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        if (!this.p.length)\n            this.p = c;\n        else if (c.length) {\n            var n = new u8(this.p.length + c.length);\n            n.set(this.p), n.set(c, this.p.length), this.p = n;\n        }\n    };\n    Inflate.prototype.c = function (final) {\n        this.s.i = +(this.d = final || false);\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.s, this.o);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) | 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    function AsyncInflate(opts, cb) {\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Inflate(ev.data);\n            onmessage = astrm(strm);\n        }, 7, 0);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gopt(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, opts) {\n    return inflt(data, { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        this.l += chunk.length;\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, this.s);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * GZIPped output for small inputs.\n     */\n    Gzip.prototype.flush = function () {\n        Deflate.prototype.flush.call(this);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8, 1);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming single or multi-member GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    function Gunzip(opts, cb) {\n        this.v = 1;\n        this.r = 0;\n        Inflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        this.r += chunk.length;\n        if (this.v) {\n            var p = this.p.subarray(this.v - 1);\n            var s = p.length > 3 ? gzs(p) : 4;\n            if (s > p.length) {\n                if (!final)\n                    return;\n            }\n            else if (this.v > 1 && this.onmember) {\n                this.onmember(this.r - p.length);\n            }\n            this.p = p.subarray(s), this.v = 0;\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n        // process concatenated GZIP\n        if (this.s.f && !this.s.l && !final) {\n            this.v = shft(this.s.p) + 9;\n            this.s = { i: 0 };\n            this.o = new u8(0);\n            this.push(new u8(0), final);\n        }\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming single or multi-member GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    function AsyncGunzip(opts, cb) {\n        var _this = this;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gunzip(ev.data);\n            strm.onmember = function (offset) { return postMessage(offset); };\n            onmessage = astrm(strm);\n        }, 9, 0, function (offset) { return _this.onmember && _this.onmember(offset); });\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0], ev.data[1])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, opts) {\n    var st = gzs(data);\n    if (st + 8 > data.length)\n        err(6, 'invalid gzip data');\n    return inflt(data.subarray(st, -8), { i: 2 }, opts && opts.out || new u8(gzl(data)), opts && opts.dictionary);\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && (this.o.dictionary ? 6 : 2), f && 4, this.s);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * zlibbed output for small inputs.\n     */\n    Zlib.prototype.flush = function () {\n        Deflate.prototype.flush.call(this);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10, 1);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, opts.dictionary ? 6 : 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    function Unzlib(opts, cb) {\n        Inflate.call(this, opts, cb);\n        this.v = opts && opts.dictionary ? 2 : 1;\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 6 && !final)\n                return;\n            this.p = this.p.subarray(zls(this.p, this.v - 1)), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                err(6, 'invalid zlib data');\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    function AsyncUnzlib(opts, cb) {\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Unzlib(ev.data);\n            onmessage = astrm(strm);\n        }, 11, 0);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gopt(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, opts) {\n    return inflt(data.subarray(zls(data, opts && opts.dictionary), -4), { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    function Decompress(opts, cb) {\n        this.o = StrmOpt.call(this, opts, cb) || {};\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n    }\n    // init substream\n    // overriden by AsyncDecompress\n    Decompress.prototype.i = function () {\n        var _this = this;\n        this.s.ondata = function (dat, final) {\n            _this.ondata(dat, final);\n        };\n    };\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(this.o)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(this.o)\n                        : new this.Z(this.o);\n                this.i();\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    function AsyncDecompress(opts, cb) {\n        Decompress.call(this, opts, cb);\n        this.queuedSize = 0;\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n    }\n    AsyncDecompress.prototype.i = function () {\n        var _this = this;\n        this.s.ondata = function (err, dat, final) {\n            _this.ondata(err, dat, final);\n        };\n        this.s.ondrain = function (size) {\n            _this.queuedSize -= size;\n            if (_this.ondrain)\n                _this.ondrain(size);\n        };\n    };\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        this.queuedSize += chunk.length;\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, opts) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, opts)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, opts)\n            : unzlibSync(data, opts);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k, op = o;\n        if (Array.isArray(val))\n            op = mrg(o, val[1]), val = val[0];\n        if (val instanceof u8)\n            t[n] = [val, op];\n        else {\n            t[n += '/'] = [new u8(0), op];\n            fltn(val, n, t, o);\n        }\n    }\n};\n// text encoder\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/ new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/ new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n    td.decode(et, { stream: true });\n    tds = 1;\n}\ncatch (e) { }\n// decode UTF8\nvar dutf8 = function (d) {\n    for (var r = '', i = 0;;) {\n        var c = d[i++];\n        var eb = (c > 127) + (c > 223) + (c > 239);\n        if (i + eb > d.length)\n            return { s: r, r: slc(d, i - 1) };\n        if (!eb)\n            r += String.fromCharCode(c);\n        else if (eb == 3) {\n            c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n        }\n        else if (eb & 1)\n            r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));\n        else\n            r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));\n    }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is decoded\n     */\n    function DecodeUTF8(cb) {\n        this.ondata = cb;\n        if (tds)\n            this.t = new TextDecoder();\n        else\n            this.p = et;\n    }\n    /**\n     * Pushes a chunk to be decoded from UTF-8 binary\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    DecodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        final = !!final;\n        if (this.t) {\n            this.ondata(this.t.decode(chunk, { stream: true }), final);\n            if (final) {\n                if (this.t.decode().length)\n                    err(8);\n                this.t = null;\n            }\n            return;\n        }\n        if (!this.p)\n            err(4);\n        var dat = new u8(this.p.length + chunk.length);\n        dat.set(this.p);\n        dat.set(chunk, this.p.length);\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (final) {\n            if (r.length)\n                err(8);\n            this.p = null;\n        }\n        else\n            this.p = r;\n        this.ondata(s, final);\n    };\n    return DecodeUTF8;\n}());\nexport { DecodeUTF8 };\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is encoded\n     */\n    function EncodeUTF8(cb) {\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be encoded to UTF-8\n     * @param chunk The string data to push\n     * @param final Whether this is the last chunk\n     */\n    EncodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        this.ondata(strToU8(chunk), this.d = final || false);\n    };\n    return EncodeUTF8;\n}());\nexport { EncodeUTF8 };\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    if (latin1) {\n        var ar_1 = new u8(str.length);\n        for (var i = 0; i < str.length; ++i)\n            ar_1[i] = str.charCodeAt(i);\n        return ar_1;\n    }\n    if (te)\n        return te.encode(str);\n    var l = str.length;\n    var ar = new u8(str.length + (str.length >> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >> 18)), w(128 | ((c >> 12) & 63)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >> 12)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    if (latin1) {\n        var r = '';\n        for (var i = 0; i < dat.length; i += 16384)\n            r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n        return r;\n    }\n    else if (td) {\n        return td.decode(dat);\n    }\n    else {\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (r.length)\n            err(8);\n        return s;\n    }\n}\n;\n// deflate bit flag\nvar dbf = function (l) { return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0; };\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n    var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n    var le = 0;\n    if (ex) {\n        for (var k in ex) {\n            var l = ex[k].length;\n            if (l > 65535)\n                err(9);\n            le += l + 4;\n        }\n    }\n    return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n    var fl = fn.length, ex = f.extra, col = co && co.length;\n    var exl = exfl(ex);\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b++] = 20, d[b++] = f.os;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (f.flag << 1) | (c < 0 && 8), d[b++] = u && 8;\n    d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n    var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        err(10);\n    wbytes(d, b, (y << 25) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >> 1)), b += 4;\n    if (c != -1) {\n        wbytes(d, b, f.crc);\n        wbytes(d, b + 4, c < 0 ? -c - 2 : c);\n        wbytes(d, b + 8, f.size);\n    }\n    wbytes(d, b + 12, fl);\n    wbytes(d, b + 14, exl), b += 16;\n    if (ce != null) {\n        wbytes(d, b, col);\n        wbytes(d, b + 6, f.attrs);\n        wbytes(d, b + 10, ce), b += 14;\n    }\n    d.set(fn, b);\n    b += fl;\n    if (exl) {\n        for (var k in ex) {\n            var exf = ex[k], l = exf.length;\n            wbytes(d, b, +k);\n            wbytes(d, b + 2, l);\n            d.set(exf, b + 4), b += 4 + l;\n        }\n    }\n    if (col)\n        d.set(co, b), b += col;\n    return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/ (function () {\n    /**\n     * Creates a pass-through stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     */\n    function ZipPassThrough(filename) {\n        this.filename = filename;\n        this.c = crc();\n        this.size = 0;\n        this.compression = 0;\n    }\n    /**\n     * Processes a chunk and pushes to the output stream. You can override this\n     * method in a subclass for custom behavior, but by default this passes\n     * the data through. You must call this.ondata(err, chunk, final) at some\n     * point in this method.\n     * @param chunk The chunk to process\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.process = function (chunk, final) {\n        this.ondata(null, chunk, final);\n    };\n    /**\n     * Pushes a chunk to be added. If you are subclassing this with a custom\n     * compression algorithm, note that you must push data from the source\n     * file only, pre-compression.\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        this.c.p(chunk);\n        this.size += chunk.length;\n        if (final)\n            this.crc = this.c.d();\n        this.process(chunk, final || false);\n    };\n    return ZipPassThrough;\n}());\nexport { ZipPassThrough };\n// I don't extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function ZipDeflate(filename, opts) {\n        var _this = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new Deflate(opts, function (dat, final) {\n            _this.ondata(null, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n    }\n    ZipDeflate.prototype.process = function (chunk, final) {\n        try {\n            this.d.push(chunk, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return ZipDeflate;\n}());\nexport { ZipDeflate };\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function AsyncZipDeflate(filename, opts) {\n        var _this = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new AsyncDeflate(opts, function (err, dat, final) {\n            _this.ondata(err, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n        this.terminate = this.d.terminate;\n    }\n    AsyncZipDeflate.prototype.process = function (chunk, final) {\n        this.d.push(chunk, final);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return AsyncZipDeflate;\n}());\nexport { AsyncZipDeflate };\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an empty ZIP archive to which files can be added\n     * @param cb The callback to call whenever data for the generated ZIP archive\n     *           is available\n     */\n    function Zip(cb) {\n        this.ondata = cb;\n        this.u = [];\n        this.d = 1;\n    }\n    /**\n     * Adds a file to the ZIP archive\n     * @param file The file stream to add\n     */\n    Zip.prototype.add = function (file) {\n        var _this = this;\n        if (!this.ondata)\n            err(5);\n        // finishing or finished\n        if (this.d & 2)\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, false);\n        else {\n            var f = strToU8(file.filename), fl_1 = f.length;\n            var com = file.comment, o = com && strToU8(com);\n            var u = fl_1 != file.filename.length || (o && (com.length != o.length));\n            var hl_1 = fl_1 + exfl(file.extra) + 30;\n            if (fl_1 > 65535)\n                this.ondata(err(11, 0, 1), null, false);\n            var header = new u8(hl_1);\n            wzh(header, 0, file, f, u, -1);\n            var chks_1 = [header];\n            var pAll_1 = function () {\n                for (var _i = 0, chks_2 = chks_1; _i < chks_2.length; _i++) {\n                    var chk = chks_2[_i];\n                    _this.ondata(null, chk, false);\n                }\n                chks_1 = [];\n            };\n            var tr_1 = this.d;\n            this.d = 0;\n            var ind_1 = this.u.length;\n            var uf_1 = mrg(file, {\n                f: f,\n                u: u,\n                o: o,\n                t: function () {\n                    if (file.terminate)\n                        file.terminate();\n                },\n                r: function () {\n                    pAll_1();\n                    if (tr_1) {\n                        var nxt = _this.u[ind_1 + 1];\n                        if (nxt)\n                            nxt.r();\n                        else\n                            _this.d = 1;\n                    }\n                    tr_1 = 1;\n                }\n            });\n            var cl_1 = 0;\n            file.ondata = function (err, dat, final) {\n                if (err) {\n                    _this.ondata(err, dat, final);\n                    _this.terminate();\n                }\n                else {\n                    cl_1 += dat.length;\n                    chks_1.push(dat);\n                    if (final) {\n                        var dd = new u8(16);\n                        wbytes(dd, 0, 0x8074B50);\n                        wbytes(dd, 4, file.crc);\n                        wbytes(dd, 8, cl_1);\n                        wbytes(dd, 12, file.size);\n                        chks_1.push(dd);\n                        uf_1.c = cl_1, uf_1.b = hl_1 + cl_1 + 16, uf_1.crc = file.crc, uf_1.size = file.size;\n                        if (tr_1)\n                            uf_1.r();\n                        tr_1 = 1;\n                    }\n                    else if (tr_1)\n                        pAll_1();\n                }\n            };\n            this.u.push(uf_1);\n        }\n    };\n    /**\n     * Ends the process of adding files and prepares to emit the final chunks.\n     * This *must* be called after adding all desired files for the resulting\n     * ZIP file to work properly.\n     */\n    Zip.prototype.end = function () {\n        var _this = this;\n        if (this.d & 2) {\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, true);\n            return;\n        }\n        if (this.d)\n            this.e();\n        else\n            this.u.push({\n                r: function () {\n                    if (!(_this.d & 1))\n                        return;\n                    _this.u.splice(-1, 1);\n                    _this.e();\n                },\n                t: function () { }\n            });\n        this.d = 3;\n    };\n    Zip.prototype.e = function () {\n        var bt = 0, l = 0, tl = 0;\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n        }\n        var out = new u8(tl + 22);\n        for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n            var f = _c[_b];\n            wzh(out, bt, f, f.f, f.u, -f.c - 2, l, f.o);\n            bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n        }\n        wzf(out, bt, this.u.length, tl, l);\n        this.ondata(null, out, true);\n        this.d = 2;\n    };\n    /**\n     * A method to terminate any internal workers used by the stream. Subsequent\n     * calls to add() will fail.\n     */\n    Zip.prototype.terminate = function () {\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            f.t();\n        }\n        this.d = 2;\n    };\n    return Zip;\n}());\nexport { Zip };\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                var l = f.c.length;\n                wzh(out, tot, f, f.f, f.u, l);\n                var badd = 30 + f.f.length + exfl(f.extra);\n                var loc = tot + badd;\n                out.set(f.c, loc);\n                wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n            }\n            catch (e) {\n                return cbd(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cbd(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), size = file.length;\n        c.p(file);\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        var compression = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cbd(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = mrg(p, {\n                    size: size,\n                    crc: c.d(),\n                    c: d,\n                    f: f,\n                    m: m,\n                    u: s != fn.length || (m && (com.length != ms)),\n                    compression: compression\n                });\n                o += 30 + s + exl + l;\n                tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (s > 65535)\n            cbl(err(11, 0, 1), null);\n        if (!compression)\n            cbl(null, file);\n        else if (size < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var compression = p.level == 0 ? 0 : 8;\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        if (s > 65535)\n            err(11);\n        var d = compression ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push(mrg(p, {\n            size: file.length,\n            crc: c.d(),\n            c: d,\n            f: f,\n            m: m,\n            u: s != fn.length || (m && (com.length != ms)),\n            o: o,\n            compression: compression\n        }));\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f, f.f, f.u, f.c.length);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        out.set(f.c, f.o + badd);\n        wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/ (function () {\n    function UnzipPassThrough() {\n    }\n    UnzipPassThrough.prototype.push = function (data, final) {\n        this.ondata(null, data, final);\n    };\n    UnzipPassThrough.compression = 0;\n    return UnzipPassThrough;\n}());\nexport { UnzipPassThrough };\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function UnzipInflate() {\n        var _this = this;\n        this.i = new Inflate(function (dat, final) {\n            _this.ondata(null, dat, final);\n        });\n    }\n    UnzipInflate.prototype.push = function (data, final) {\n        try {\n            this.i.push(data, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    UnzipInflate.compression = 8;\n    return UnzipInflate;\n}());\nexport { UnzipInflate };\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function AsyncUnzipInflate(_, sz) {\n        var _this = this;\n        if (sz < 320000) {\n            this.i = new Inflate(function (dat, final) {\n                _this.ondata(null, dat, final);\n            });\n        }\n        else {\n            this.i = new AsyncInflate(function (err, dat, final) {\n                _this.ondata(err, dat, final);\n            });\n            this.terminate = this.i.terminate;\n        }\n    }\n    AsyncUnzipInflate.prototype.push = function (data, final) {\n        if (this.i.terminate)\n            data = slc(data, 0);\n        this.i.push(data, final);\n    };\n    AsyncUnzipInflate.compression = 8;\n    return AsyncUnzipInflate;\n}());\nexport { AsyncUnzipInflate };\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a ZIP decompression stream\n     * @param cb The callback to call whenever a file in the ZIP archive is found\n     */\n    function Unzip(cb) {\n        this.onfile = cb;\n        this.k = [];\n        this.o = {\n            0: UnzipPassThrough\n        };\n        this.p = et;\n    }\n    /**\n     * Pushes a chunk to be unzipped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzip.prototype.push = function (chunk, final) {\n        var _this = this;\n        if (!this.onfile)\n            err(5);\n        if (!this.p)\n            err(4);\n        if (this.c > 0) {\n            var len = Math.min(this.c, chunk.length);\n            var toAdd = chunk.subarray(0, len);\n            this.c -= len;\n            if (this.d)\n                this.d.push(toAdd, !this.c);\n            else\n                this.k[0].push(toAdd);\n            chunk = chunk.subarray(len);\n            if (chunk.length)\n                return this.push(chunk, final);\n        }\n        else {\n            var f = 0, i = 0, is = void 0, buf = void 0;\n            if (!this.p.length)\n                buf = chunk;\n            else if (!chunk.length)\n                buf = this.p;\n            else {\n                buf = new u8(this.p.length + chunk.length);\n                buf.set(this.p), buf.set(chunk, this.p.length);\n            }\n            var l = buf.length, oc = this.c, add = oc && this.d;\n            var _loop_2 = function () {\n                var _a;\n                var sig = b4(buf, i);\n                if (sig == 0x4034B50) {\n                    f = 1, is = i;\n                    this_1.d = null;\n                    this_1.c = 0;\n                    var bf = b2(buf, i + 6), cmp_1 = b2(buf, i + 8), u = bf & 2048, dd = bf & 8, fnl = b2(buf, i + 26), es = b2(buf, i + 28);\n                    if (l > i + 30 + fnl + es) {\n                        var chks_3 = [];\n                        this_1.k.unshift(chks_3);\n                        f = 2;\n                        var sc_1 = b4(buf, i + 18), su_1 = b4(buf, i + 22);\n                        var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n                        if (sc_1 == 4294967295) {\n                            _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n                        }\n                        else if (dd)\n                            sc_1 = -1;\n                        i += es;\n                        this_1.c = sc_1;\n                        var d_1;\n                        var file_1 = {\n                            name: fn_1,\n                            compression: cmp_1,\n                            start: function () {\n                                if (!file_1.ondata)\n                                    err(5);\n                                if (!sc_1)\n                                    file_1.ondata(null, et, true);\n                                else {\n                                    var ctr = _this.o[cmp_1];\n                                    if (!ctr)\n                                        file_1.ondata(err(14, 'unknown compression type ' + cmp_1, 1), null, false);\n                                    d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                                    d_1.ondata = function (err, dat, final) { file_1.ondata(err, dat, final); };\n                                    for (var _i = 0, chks_4 = chks_3; _i < chks_4.length; _i++) {\n                                        var dat = chks_4[_i];\n                                        d_1.push(dat, false);\n                                    }\n                                    if (_this.k[0] == chks_3 && _this.c)\n                                        _this.d = d_1;\n                                    else\n                                        d_1.push(et, true);\n                                }\n                            },\n                            terminate: function () {\n                                if (d_1 && d_1.terminate)\n                                    d_1.terminate();\n                            }\n                        };\n                        if (sc_1 >= 0)\n                            file_1.size = sc_1, file_1.originalSize = su_1;\n                        this_1.onfile(file_1);\n                    }\n                    return \"break\";\n                }\n                else if (oc) {\n                    if (sig == 0x8074B50) {\n                        is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                    else if (sig == 0x2014B50) {\n                        is = i -= 4, f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                }\n            };\n            var this_1 = this;\n            for (; i < l - 4; ++i) {\n                var state_1 = _loop_2();\n                if (state_1 === \"break\")\n                    break;\n            }\n            this.p = et;\n            if (oc < 0) {\n                var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n                if (add)\n                    add.push(dat, !!f);\n                else\n                    this.k[+(f == 2)].push(dat);\n            }\n            if (f & 2)\n                return this.push(buf.subarray(i), final);\n            this.p = buf.subarray(i);\n        }\n        if (final) {\n            if (this.c)\n                err(13);\n            this.p = null;\n        }\n    };\n    /**\n     * Registers a decoder with the stream, allowing for files compressed with\n     * the compression type provided to be expanded correctly\n     * @param decoder The decoder constructor\n     */\n    Unzip.prototype.register = function (decoder) {\n        this.o[decoder.compression] = decoder;\n    };\n    return Unzip;\n}());\nexport { Unzip };\nvar mt = typeof queueMicrotask == 'function' ? queueMicrotask : typeof setTimeout == 'function' ? setTimeout : function (fn) { fn(); };\nexport function unzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cbd(err(13, 0, 1), null);\n            return tAll;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (lft) {\n        var c = lft;\n        var o = b4(data, e + 16);\n        var z = o == 4294967295 || c == 65535;\n        if (z) {\n            var ze = b4(data, e - 12);\n            z = b4(data, ze) == 0x6064B50;\n            if (z) {\n                c = lft = b4(data, ze + 32);\n                o = b4(data, ze + 48);\n            }\n        }\n        var fltr = opts && opts.filter;\n        var _loop_3 = function (i) {\n            var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n            o = no;\n            var cbl = function (e, d) {\n                if (e) {\n                    tAll();\n                    cbd(e, null);\n                }\n                else {\n                    if (d)\n                        files[fn] = d;\n                    if (!--lft)\n                        cbd(null, files);\n                }\n            };\n            if (!fltr || fltr({\n                name: fn,\n                size: sc,\n                originalSize: su,\n                compression: c_1\n            })) {\n                if (!c_1)\n                    cbl(null, slc(data, b, b + sc));\n                else if (c_1 == 8) {\n                    var infl = data.subarray(b, b + sc);\n                    // Synchronously decompress under 512KB, or barely-compressed data\n                    if (su < 524288 || sc > 0.8 * su) {\n                        try {\n                            cbl(null, inflateSync(infl, { out: new u8(su) }));\n                        }\n                        catch (e) {\n                            cbl(e, null);\n                        }\n                    }\n                    else\n                        term.push(inflate(infl, { size: su }, cbl));\n                }\n                else\n                    cbl(err(14, 'unknown compression type ' + c_1, 1), null);\n            }\n            else\n                cbl(null, null);\n        };\n        for (var i = 0; i < c; ++i) {\n            _loop_3(i);\n        }\n    }\n    else\n        cbd(null, {});\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @param opts The ZIP extraction options\n * @returns The decompressed files\n */\nexport function unzipSync(data, opts) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            err(13);\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295 || c == 65535;\n    if (z) {\n        var ze = b4(data, e - 12);\n        z = b4(data, ze) == 0x6064B50;\n        if (z) {\n            c = b4(data, ze + 32);\n            o = b4(data, ze + 48);\n        }\n    }\n    var fltr = opts && opts.filter;\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!fltr || fltr({\n            name: fn,\n            size: sc,\n            originalSize: su,\n            compression: c_2\n        })) {\n            if (!c_2)\n                files[fn] = slc(data, b, b + sc);\n            else if (c_2 == 8)\n                files[fn] = inflateSync(data.subarray(b, b + sc), { out: new u8(su) });\n            else\n                err(14, 'unknown compression type ' + c_2);\n        }\n    }\n    return files;\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG') ;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(/\\s+/g, ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Ref https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT\n */\nimport { UINT16_LE, UINT32_LE } from \"token-types\";\nexport const Signature = {\n    LocalFileHeader: 0x04034b50,\n    DataDescriptor: 0x08074b50,\n    CentralFileHeader: 0x02014b50,\n    EndOfCentralDirectory: 0x06054b50\n};\nexport const DataDescriptor = {\n    get(array) {\n        const flags = UINT16_LE.get(array, 6);\n        return {\n            signature: UINT32_LE.get(array, 0),\n            compressedSize: UINT32_LE.get(array, 8),\n            uncompressedSize: UINT32_LE.get(array, 12),\n        };\n    }, len: 16\n};\n/**\n * First part of the ZIP Local File Header\n * Offset | Bytes| Description\n * -------|------+-------------------------------------------------------------------\n *      0 |    4 | Signature (0x04034b50)\n *      4 |    2 | Minimum version needed to extract\n *      6 |    2 | Bit flag\n *      8 |    2 | Compression method\n *     10 |    2 | File last modification time (MS-DOS format)\n *     12 |    2 | File last modification date (MS-DOS format)\n *     14 |    4 | CRC-32 of uncompressed data\n *     18 |    4 | Compressed size\n *     22 |    4 | Uncompressed size\n *     26 |    2 | File name length (n)\n *     28 |    2 | Extra field length (m)\n *     30 |    n | File name\n * 30 + n |    m | Extra field\n */\nexport const LocalFileHeaderToken = {\n    get(array) {\n        const flags = UINT16_LE.get(array, 6);\n        return {\n            signature: UINT32_LE.get(array, 0),\n            minVersion: UINT16_LE.get(array, 4),\n            dataDescriptor: !!(flags & 0x0008),\n            compressedMethod: UINT16_LE.get(array, 8),\n            compressedSize: UINT32_LE.get(array, 18),\n            uncompressedSize: UINT32_LE.get(array, 22),\n            filenameLength: UINT16_LE.get(array, 26),\n            extraFieldLength: UINT16_LE.get(array, 28),\n            filename: null\n        };\n    }, len: 30\n};\n/**\n * 4.3.16  End of central directory record:\n *  end of central dir signature (0x06064b50)                                      4 bytes\n *  number of this disk                                                            2 bytes\n *  number of the disk with the start of the central directory                     2 bytes\n *  total number of entries in the central directory on this disk                  2 bytes\n *  total number of entries in the size of the central directory                   2 bytes\n *  sizeOfTheCentralDirectory                                                      4 bytes\n *  offset of start of central directory with respect to the starting disk number  4 bytes\n *  .ZIP file comment length                                                       2 bytes\n *  .ZIP file comment       (variable size)\n */\nexport const EndOfCentralDirectoryRecordToken = {\n    get(array) {\n        return {\n            signature: UINT32_LE.get(array, 0),\n            nrOfThisDisk: UINT16_LE.get(array, 4),\n            nrOfThisDiskWithTheStart: UINT16_LE.get(array, 6),\n            nrOfEntriesOnThisDisk: UINT16_LE.get(array, 8),\n            nrOfEntriesOfSize: UINT16_LE.get(array, 10),\n            sizeOfCd: UINT32_LE.get(array, 12),\n            offsetOfStartOfCd: UINT32_LE.get(array, 16),\n            zipFileCommentLength: UINT16_LE.get(array, 20),\n        };\n    }, len: 22\n};\n/**\n * File header:\n *    central file header signature   4 bytes   0 (0x02014b50)\n *    version made by                 2 bytes   4\n *    version needed to extract       2 bytes   6\n *    general purpose bit flag        2 bytes   8\n *    compression method              2 bytes  10\n *    last mod file time              2 bytes  12\n *    last mod file date              2 bytes  14\n *    crc-32                          4 bytes  16\n *    compressed size                 4 bytes  20\n *    uncompressed size               4 bytes  24\n *    file name length                2 bytes  28\n *    extra field length              2 bytes  30\n *    file comment length             2 bytes  32\n *    disk number start               2 bytes  34\n *    internal file attributes        2 bytes  36\n *    external file attributes        4 bytes  38\n *    relative offset of local header 4 bytes  42\n */\nexport const FileHeader = {\n    get(array) {\n        const flags = UINT16_LE.get(array, 8);\n        return {\n            signature: UINT32_LE.get(array, 0),\n            minVersion: UINT16_LE.get(array, 6),\n            dataDescriptor: !!(flags & 0x0008),\n            compressedMethod: UINT16_LE.get(array, 10),\n            compressedSize: UINT32_LE.get(array, 20),\n            uncompressedSize: UINT32_LE.get(array, 24),\n            filenameLength: UINT16_LE.get(array, 28),\n            extraFieldLength: UINT16_LE.get(array, 30),\n            fileCommentLength: UINT16_LE.get(array, 32),\n            relativeOffsetOfLocalHeader: UINT32_LE.get(array, 42),\n            filename: null\n        };\n    }, len: 46\n};\n","import { StringType, UINT32_LE } from 'token-types';\nimport { decompressSync } from 'fflate';\nimport initDebug from 'debug';\nimport { DataDescriptor, EndOfCentralDirectoryRecordToken, FileHeader, LocalFileHeaderToken, Signature } from \"./ZipToken.js\";\nfunction signatureToArray(signature) {\n    const signatureBytes = new Uint8Array(UINT32_LE.len);\n    UINT32_LE.put(signatureBytes, 0, signature);\n    return signatureBytes;\n}\nconst debug = initDebug('tokenizer:inflate');\nconst syncBufferSize = 256 * 1024;\nconst ddSignatureArray = signatureToArray(Signature.DataDescriptor);\nconst eocdSignatureBytes = signatureToArray(Signature.EndOfCentralDirectory);\nexport class ZipHandler {\n    constructor(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.syncBuffer = new Uint8Array(syncBufferSize);\n    }\n    async isZip() {\n        return await this.peekSignature() === Signature.LocalFileHeader;\n    }\n    peekSignature() {\n        return this.tokenizer.peekToken(UINT32_LE);\n    }\n    async findEndOfCentralDirectoryLocator() {\n        const randomReadTokenizer = this.tokenizer;\n        const chunkLength = Math.min(16 * 1024, randomReadTokenizer.fileInfo.size);\n        const buffer = this.syncBuffer.subarray(0, chunkLength);\n        await this.tokenizer.readBuffer(buffer, { position: randomReadTokenizer.fileInfo.size - chunkLength });\n        // Search the buffer from end to beginning for EOCD signature\n        // const signature = 0x06054b50;\n        for (let i = buffer.length - 4; i >= 0; i--) {\n            // Compare 4 bytes directly without calling readUInt32LE\n            if (buffer[i] === eocdSignatureBytes[0] &&\n                buffer[i + 1] === eocdSignatureBytes[1] &&\n                buffer[i + 2] === eocdSignatureBytes[2] &&\n                buffer[i + 3] === eocdSignatureBytes[3]) {\n                return randomReadTokenizer.fileInfo.size - chunkLength + i;\n            }\n        }\n        return -1;\n    }\n    async readCentralDirectory() {\n        if (!this.tokenizer.supportsRandomAccess()) {\n            debug('Cannot reading central-directory without random-read support');\n            return;\n        }\n        debug('Reading central-directory...');\n        const pos = this.tokenizer.position;\n        const offset = await this.findEndOfCentralDirectoryLocator();\n        if (offset > 0) {\n            debug('Central-directory 32-bit signature found');\n            const eocdHeader = await this.tokenizer.readToken(EndOfCentralDirectoryRecordToken, offset);\n            const files = [];\n            this.tokenizer.setPosition(eocdHeader.offsetOfStartOfCd);\n            for (let n = 0; n < eocdHeader.nrOfEntriesOfSize; ++n) {\n                const entry = await this.tokenizer.readToken(FileHeader);\n                if (entry.signature !== Signature.CentralFileHeader) {\n                    throw new Error('Expected Central-File-Header signature');\n                }\n                entry.filename = await this.tokenizer.readToken(new StringType(entry.filenameLength, 'utf-8'));\n                await this.tokenizer.ignore(entry.extraFieldLength);\n                await this.tokenizer.ignore(entry.fileCommentLength);\n                files.push(entry);\n                debug(`Add central-directory file-entry: n=${n + 1}/${files.length}: filename=${files[n].filename}`);\n            }\n            this.tokenizer.setPosition(pos);\n            return files;\n        }\n        this.tokenizer.setPosition(pos);\n    }\n    async unzip(fileCb) {\n        const entries = await this.readCentralDirectory();\n        if (entries) {\n            // Use Central Directory to iterate over files\n            return this.iterateOverCentralDirectory(entries, fileCb);\n        }\n        // Scan Zip files for local-file-header\n        let stop = false;\n        do {\n            const zipHeader = await this.readLocalFileHeader();\n            if (!zipHeader)\n                break;\n            const next = fileCb(zipHeader);\n            stop = !!next.stop;\n            let fileData = undefined;\n            await this.tokenizer.ignore(zipHeader.extraFieldLength);\n            if (zipHeader.dataDescriptor && zipHeader.compressedSize === 0) {\n                const chunks = [];\n                let len = syncBufferSize;\n                debug('Compressed-file-size unknown, scanning for next data-descriptor-signature....');\n                let nextHeaderIndex = -1;\n                while (nextHeaderIndex < 0 && len === syncBufferSize) {\n                    len = await this.tokenizer.peekBuffer(this.syncBuffer, { mayBeLess: true });\n                    nextHeaderIndex = indexOf(this.syncBuffer.subarray(0, len), ddSignatureArray);\n                    const size = nextHeaderIndex >= 0 ? nextHeaderIndex : len;\n                    if (next.handler) {\n                        const data = new Uint8Array(size);\n                        await this.tokenizer.readBuffer(data);\n                        chunks.push(data);\n                    }\n                    else {\n                        // Move position to the next header if found, skip the whole buffer otherwise\n                        await this.tokenizer.ignore(size);\n                    }\n                }\n                debug(`Found data-descriptor-signature at pos=${this.tokenizer.position}`);\n                if (next.handler) {\n                    await this.inflate(zipHeader, mergeArrays(chunks), next.handler);\n                }\n            }\n            else {\n                if (next.handler) {\n                    debug(`Reading compressed-file-data: ${zipHeader.compressedSize} bytes`);\n                    fileData = new Uint8Array(zipHeader.compressedSize);\n                    await this.tokenizer.readBuffer(fileData);\n                    await this.inflate(zipHeader, fileData, next.handler);\n                }\n                else {\n                    debug(`Ignoring compressed-file-data: ${zipHeader.compressedSize} bytes`);\n                    await this.tokenizer.ignore(zipHeader.compressedSize);\n                }\n            }\n            debug(`Reading data-descriptor at pos=${this.tokenizer.position}`);\n            if (zipHeader.dataDescriptor) {\n                // await this.tokenizer.ignore(DataDescriptor.len);\n                const dataDescriptor = await this.tokenizer.readToken(DataDescriptor);\n                if (dataDescriptor.signature !== 0x08074b50) {\n                    throw new Error(`Expected data-descriptor-signature at position ${this.tokenizer.position - DataDescriptor.len}`);\n                }\n            }\n        } while (!stop);\n    }\n    async iterateOverCentralDirectory(entries, fileCb) {\n        for (const fileHeader of entries) {\n            const next = fileCb(fileHeader);\n            if (next.handler) {\n                this.tokenizer.setPosition(fileHeader.relativeOffsetOfLocalHeader);\n                const zipHeader = await this.readLocalFileHeader();\n                if (zipHeader) {\n                    await this.tokenizer.ignore(zipHeader.extraFieldLength);\n                    const fileData = new Uint8Array(fileHeader.compressedSize);\n                    await this.tokenizer.readBuffer(fileData);\n                    await this.inflate(zipHeader, fileData, next.handler);\n                }\n            }\n            if (next.stop)\n                break;\n        }\n    }\n    inflate(zipHeader, fileData, cb) {\n        if (zipHeader.compressedMethod === 0) {\n            return cb(fileData);\n        }\n        debug(`Decompress filename=${zipHeader.filename}, compressed-size=${fileData.length}`);\n        const uncompressedData = decompressSync(fileData);\n        return cb(uncompressedData);\n    }\n    async readLocalFileHeader() {\n        const signature = await this.tokenizer.peekToken(UINT32_LE);\n        if (signature === Signature.LocalFileHeader) {\n            const header = await this.tokenizer.readToken(LocalFileHeaderToken);\n            header.filename = await this.tokenizer.readToken(new StringType(header.filenameLength, 'utf-8'));\n            return header;\n        }\n        if (signature === Signature.CentralFileHeader) {\n            return false;\n        }\n        if (signature === 0xE011CFD0) {\n            throw new Error('Encrypted ZIP');\n        }\n        throw new Error('Unexpected signature');\n    }\n}\nfunction indexOf(buffer, portion) {\n    const bufferLength = buffer.length;\n    const portionLength = portion.length;\n    // Return -1 if the portion is longer than the buffer\n    if (portionLength > bufferLength)\n        return -1;\n    // Search for the portion in the buffer\n    for (let i = 0; i <= bufferLength - portionLength; i++) {\n        let found = true;\n        for (let j = 0; j < portionLength; j++) {\n            if (buffer[i + j] !== portion[j]) {\n                found = false;\n                break;\n            }\n        }\n        if (found) {\n            return i; // Return the starting offset\n        }\n    }\n    return -1; // Not found\n}\nfunction mergeArrays(chunks) {\n    // Concatenate chunks into a single Uint8Array\n    const totalLength = chunks.reduce((acc, curr) => acc + curr.length, 0);\n    const mergedArray = new Uint8Array(totalLength);\n    let offset = 0;\n    for (const chunk of chunks) {\n        mergedArray.set(chunk, offset);\n        offset += chunk.length;\n    }\n    return mergedArray;\n}\n","const objectToString = Object.prototype.toString;\nconst uint8ArrayStringified = '[object Uint8Array]';\nconst arrayBufferStringified = '[object ArrayBuffer]';\n\nfunction isType(value, typeConstructor, typeStringified) {\n\tif (!value) {\n\t\treturn false;\n\t}\n\n\tif (value.constructor === typeConstructor) {\n\t\treturn true;\n\t}\n\n\treturn objectToString.call(value) === typeStringified;\n}\n\nexport function isUint8Array(value) {\n\treturn isType(value, Uint8Array, uint8ArrayStringified);\n}\n\nfunction isArrayBuffer(value) {\n\treturn isType(value, ArrayBuffer, arrayBufferStringified);\n}\n\nfunction isUint8ArrayOrArrayBuffer(value) {\n\treturn isUint8Array(value) || isArrayBuffer(value);\n}\n\nexport function assertUint8Array(value) {\n\tif (!isUint8Array(value)) {\n\t\tthrow new TypeError(`Expected \\`Uint8Array\\`, got \\`${typeof value}\\``);\n\t}\n}\n\nexport function assertUint8ArrayOrArrayBuffer(value) {\n\tif (!isUint8ArrayOrArrayBuffer(value)) {\n\t\tthrow new TypeError(`Expected \\`Uint8Array\\` or \\`ArrayBuffer\\`, got \\`${typeof value}\\``);\n\t}\n}\n\nexport function toUint8Array(value) {\n\tif (value instanceof ArrayBuffer) {\n\t\treturn new Uint8Array(value);\n\t}\n\n\tif (ArrayBuffer.isView(value)) {\n\t\treturn new Uint8Array(value.buffer, value.byteOffset, value.byteLength);\n\t}\n\n\tthrow new TypeError(`Unsupported value, got \\`${typeof value}\\`.`);\n}\n\nexport function concatUint8Arrays(arrays, totalLength) {\n\tif (arrays.length === 0) {\n\t\treturn new Uint8Array(0);\n\t}\n\n\ttotalLength ??= arrays.reduce((accumulator, currentValue) => accumulator + currentValue.length, 0);\n\n\tconst returnValue = new Uint8Array(totalLength);\n\n\tlet offset = 0;\n\tfor (const array of arrays) {\n\t\tassertUint8Array(array);\n\t\treturnValue.set(array, offset);\n\t\toffset += array.length;\n\t}\n\n\treturn returnValue;\n}\n\nexport function areUint8ArraysEqual(a, b) {\n\tassertUint8Array(a);\n\tassertUint8Array(b);\n\n\tif (a === b) {\n\t\treturn true;\n\t}\n\n\tif (a.length !== b.length) {\n\t\treturn false;\n\t}\n\n\t// eslint-disable-next-line unicorn/no-for-loop\n\tfor (let index = 0; index < a.length; index++) {\n\t\tif (a[index] !== b[index]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport function compareUint8Arrays(a, b) {\n\tassertUint8Array(a);\n\tassertUint8Array(b);\n\n\tconst length = Math.min(a.length, b.length);\n\n\tfor (let index = 0; index < length; index++) {\n\t\tconst diff = a[index] - b[index];\n\t\tif (diff !== 0) {\n\t\t\treturn Math.sign(diff);\n\t\t}\n\t}\n\n\t// At this point, all the compared elements are equal.\n\t// The shorter array should come first if the arrays are of different lengths.\n\treturn Math.sign(a.length - b.length);\n}\n\nconst cachedDecoders = {\n\tutf8: new globalThis.TextDecoder('utf8'),\n};\n\nexport function uint8ArrayToString(array, encoding = 'utf8') {\n\tassertUint8ArrayOrArrayBuffer(array);\n\tcachedDecoders[encoding] ??= new globalThis.TextDecoder(encoding);\n\treturn cachedDecoders[encoding].decode(array);\n}\n\nfunction assertString(value) {\n\tif (typeof value !== 'string') {\n\t\tthrow new TypeError(`Expected \\`string\\`, got \\`${typeof value}\\``);\n\t}\n}\n\nconst cachedEncoder = new globalThis.TextEncoder();\n\nexport function stringToUint8Array(string) {\n\tassertString(string);\n\treturn cachedEncoder.encode(string);\n}\n\nfunction base64ToBase64Url(base64) {\n\treturn base64.replaceAll('+', '-').replaceAll('/', '_').replace(/=+$/, '');\n}\n\nfunction base64UrlToBase64(base64url) {\n\treturn base64url.replaceAll('-', '+').replaceAll('_', '/');\n}\n\n// Reference: https://phuoc.ng/collection/this-vs-that/concat-vs-push/\nconst MAX_BLOCK_SIZE = 65_535;\n\nexport function uint8ArrayToBase64(array, {urlSafe = false} = {}) {\n\tassertUint8Array(array);\n\n\tlet base64;\n\n\tif (array.length < MAX_BLOCK_SIZE) {\n\t// Required as `btoa` and `atob` don't properly support Unicode: https://developer.mozilla.org/en-US/docs/Glossary/Base64#the_unicode_problem\n\t\tbase64 = globalThis.btoa(String.fromCodePoint.apply(this, array));\n\t} else {\n\t\tbase64 = '';\n\t\tfor (const value of array) {\n\t\t\tbase64 += String.fromCodePoint(value);\n\t\t}\n\n\t\tbase64 = globalThis.btoa(base64);\n\t}\n\n\treturn urlSafe ? base64ToBase64Url(base64) : base64;\n}\n\nexport function base64ToUint8Array(base64String) {\n\tassertString(base64String);\n\treturn Uint8Array.from(globalThis.atob(base64UrlToBase64(base64String)), x => x.codePointAt(0));\n}\n\nexport function stringToBase64(string, {urlSafe = false} = {}) {\n\tassertString(string);\n\treturn uint8ArrayToBase64(stringToUint8Array(string), {urlSafe});\n}\n\nexport function base64ToString(base64String) {\n\tassertString(base64String);\n\treturn uint8ArrayToString(base64ToUint8Array(base64String));\n}\n\nconst byteToHexLookupTable = Array.from({length: 256}, (_, index) => index.toString(16).padStart(2, '0'));\n\nexport function uint8ArrayToHex(array) {\n\tassertUint8Array(array);\n\n\t// Concatenating a string is faster than using an array.\n\tlet hexString = '';\n\n\t// eslint-disable-next-line unicorn/no-for-loop -- Max performance is critical.\n\tfor (let index = 0; index < array.length; index++) {\n\t\thexString += byteToHexLookupTable[array[index]];\n\t}\n\n\treturn hexString;\n}\n\nconst hexToDecimalLookupTable = {\n\t0: 0,\n\t1: 1,\n\t2: 2,\n\t3: 3,\n\t4: 4,\n\t5: 5,\n\t6: 6,\n\t7: 7,\n\t8: 8,\n\t9: 9,\n\ta: 10,\n\tb: 11,\n\tc: 12,\n\td: 13,\n\te: 14,\n\tf: 15,\n\tA: 10,\n\tB: 11,\n\tC: 12,\n\tD: 13,\n\tE: 14,\n\tF: 15,\n};\n\nexport function hexToUint8Array(hexString) {\n\tassertString(hexString);\n\n\tif (hexString.length % 2 !== 0) {\n\t\tthrow new Error('Invalid Hex string length.');\n\t}\n\n\tconst resultLength = hexString.length / 2;\n\tconst bytes = new Uint8Array(resultLength);\n\n\tfor (let index = 0; index < resultLength; index++) {\n\t\tconst highNibble = hexToDecimalLookupTable[hexString[index * 2]];\n\t\tconst lowNibble = hexToDecimalLookupTable[hexString[(index * 2) + 1]];\n\n\t\tif (highNibble === undefined || lowNibble === undefined) {\n\t\t\tthrow new Error(`Invalid Hex character encountered at position ${index * 2}`);\n\t\t}\n\n\t\tbytes[index] = (highNibble << 4) | lowNibble; // eslint-disable-line no-bitwise\n\t}\n\n\treturn bytes;\n}\n\n/**\n@param {DataView} view\n@returns {number}\n*/\nexport function getUintBE(view) {\n\tconst {byteLength} = view;\n\n\tif (byteLength === 6) {\n\t\treturn (view.getUint16(0) * (2 ** 32)) + view.getUint32(2);\n\t}\n\n\tif (byteLength === 5) {\n\t\treturn (view.getUint8(0) * (2 ** 32)) + view.getUint32(1);\n\t}\n\n\tif (byteLength === 4) {\n\t\treturn view.getUint32(0);\n\t}\n\n\tif (byteLength === 3) {\n\t\treturn (view.getUint8(0) * (2 ** 16)) + view.getUint16(1);\n\t}\n\n\tif (byteLength === 2) {\n\t\treturn view.getUint16(0);\n\t}\n\n\tif (byteLength === 1) {\n\t\treturn view.getUint8(0);\n\t}\n}\n\n/**\n@param {Uint8Array} array\n@param {Uint8Array} value\n@returns {number}\n*/\nexport function indexOf(array, value) {\n\tconst arrayLength = array.length;\n\tconst valueLength = value.length;\n\n\tif (valueLength === 0) {\n\t\treturn -1;\n\t}\n\n\tif (valueLength > arrayLength) {\n\t\treturn -1;\n\t}\n\n\tconst validOffsetLength = arrayLength - valueLength;\n\n\tfor (let index = 0; index <= validOffsetLength; index++) {\n\t\tlet isMatch = true;\n\t\tfor (let index2 = 0; index2 < valueLength; index2++) {\n\t\t\tif (array[index + index2] !== value[index2]) {\n\t\t\t\tisMatch = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (isMatch) {\n\t\t\treturn index;\n\t\t}\n\t}\n\n\treturn -1;\n}\n\n/**\n@param {Uint8Array} array\n@param {Uint8Array} value\n@returns {boolean}\n*/\nexport function includes(array, value) {\n\treturn indexOf(array, value) !== -1;\n}\n","import {StringType} from 'token-types';\n\nexport function stringToBytes(string) {\n\treturn [...string].map(character => character.charCodeAt(0)); // eslint-disable-line unicorn/prefer-code-point\n}\n\n/**\nChecks whether the TAR checksum is valid.\n\n@param {Uint8Array} arrayBuffer - The TAR header `[offset ... offset + 512]`.\n@param {number} offset - TAR header offset.\n@returns {boolean} `true` if the TAR checksum is valid, otherwise `false`.\n*/\nexport function tarHeaderChecksumMatches(arrayBuffer, offset = 0) {\n\tconst readSum = Number.parseInt(new StringType(6).get(arrayBuffer, 148).replace(/\\0.*$/, '').trim(), 8); // Read sum in header\n\tif (Number.isNaN(readSum)) {\n\t\treturn false;\n\t}\n\n\tlet sum = 8 * 0x20; // Initialize signed bit sum\n\n\tfor (let index = offset; index < offset + 148; index++) {\n\t\tsum += arrayBuffer[index];\n\t}\n\n\tfor (let index = offset + 156; index < offset + 512; index++) {\n\t\tsum += arrayBuffer[index];\n\t}\n\n\treturn readSum === sum;\n}\n\n/**\nID3 UINT32 sync-safe tokenizer token.\n28 bits (representing up to 256MB) integer, the msb is 0 to avoid \"false syncsignals\".\n*/\nexport const uint32SyncSafeToken = {\n\tget: (buffer, offset) => (buffer[offset + 3] & 0x7F) | ((buffer[offset + 2]) << 7) | ((buffer[offset + 1]) << 14) | ((buffer[offset]) << 21),\n\tlen: 4,\n};\n","/**\nPrimary entry point, Node.js specific entry point is index.js\n*/\n\nimport * as Token from 'token-types';\nimport * as strtok3 from 'strtok3/core';\nimport {ZipHandler} from '@tokenizer/inflate';\nimport {getUintBE} from 'uint8array-extras';\nimport {\n\tstringToBytes,\n\ttarHeaderChecksumMatches,\n\tuint32SyncSafeToken,\n} from './util.js';\nimport {extensions, mimeTypes} from './supported.js';\n\nexport const reasonableDetectionSizeInBytes = 4100; // A fair amount of file-types are detectable within this range.\n\nexport async function fileTypeFromStream(stream, options) {\n\treturn new FileTypeParser(options).fromStream(stream);\n}\n\nexport async function fileTypeFromBuffer(input, options) {\n\treturn new FileTypeParser(options).fromBuffer(input);\n}\n\nexport async function fileTypeFromBlob(blob, options) {\n\treturn new FileTypeParser(options).fromBlob(blob);\n}\n\nfunction getFileTypeFromMimeType(mimeType) {\n\tmimeType = mimeType.toLowerCase();\n\tswitch (mimeType) {\n\t\tcase 'application/epub+zip':\n\t\t\treturn {\n\t\t\t\text: 'epub',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.text':\n\t\t\treturn {\n\t\t\t\text: 'odt',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.text-template':\n\t\t\treturn {\n\t\t\t\text: 'ott',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.spreadsheet':\n\t\t\treturn {\n\t\t\t\text: 'ods',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.spreadsheet-template':\n\t\t\treturn {\n\t\t\t\text: 'ots',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.presentation':\n\t\t\treturn {\n\t\t\t\text: 'odp',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.presentation-template':\n\t\t\treturn {\n\t\t\t\text: 'otp',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.graphics':\n\t\t\treturn {\n\t\t\t\text: 'odg',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.graphics-template':\n\t\t\treturn {\n\t\t\t\text: 'otg',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.presentationml.slideshow':\n\t\t\treturn {\n\t\t\t\text: 'ppsx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':\n\t\t\treturn {\n\t\t\t\text: 'xlsx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.ms-excel.sheet.macroenabled':\n\t\t\treturn {\n\t\t\t\text: 'xlsm',\n\t\t\t\tmime: 'application/vnd.ms-excel.sheet.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.spreadsheetml.template':\n\t\t\treturn {\n\t\t\t\text: 'xltx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.ms-excel.template.macroenabled':\n\t\t\treturn {\n\t\t\t\text: 'xltm',\n\t\t\t\tmime: 'application/vnd.ms-excel.template.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.ms-powerpoint.slideshow.macroenabled':\n\t\t\treturn {\n\t\t\t\text: 'ppsm',\n\t\t\t\tmime: 'application/vnd.ms-powerpoint.slideshow.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':\n\t\t\treturn {\n\t\t\t\text: 'docx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.ms-word.document.macroenabled':\n\t\t\treturn {\n\t\t\t\text: 'docm',\n\t\t\t\tmime: 'application/vnd.ms-word.document.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.wordprocessingml.template':\n\t\t\treturn {\n\t\t\t\text: 'dotx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.ms-word.template.macroenabledtemplate':\n\t\t\treturn {\n\t\t\t\text: 'dotm',\n\t\t\t\tmime: 'application/vnd.ms-word.template.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.presentationml.template':\n\t\t\treturn {\n\t\t\t\text: 'potx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.ms-powerpoint.template.macroenabled':\n\t\t\treturn {\n\t\t\t\text: 'potm',\n\t\t\t\tmime: 'application/vnd.ms-powerpoint.template.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n\t\t\treturn {\n\t\t\t\text: 'pptx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.ms-powerpoint.presentation.macroenabled':\n\t\t\treturn {\n\t\t\t\text: 'pptm',\n\t\t\t\tmime: 'application/vnd.ms-powerpoint.presentation.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.ms-visio.drawing':\n\t\t\treturn {\n\t\t\t\text: 'vsdx',\n\t\t\t\tmime: 'application/vnd.visio',\n\t\t\t};\n\t\tcase 'application/vnd.ms-package.3dmanufacturing-3dmodel+xml':\n\t\t\treturn {\n\t\t\t\text: '3mf',\n\t\t\t\tmime: 'model/3mf',\n\t\t\t};\n\t\tdefault:\n\t}\n}\n\nfunction _check(buffer, headers, options) {\n\toptions = {\n\t\toffset: 0,\n\t\t...options,\n\t};\n\n\tfor (const [index, header] of headers.entries()) {\n\t\t// If a bitmask is set\n\t\tif (options.mask) {\n\t\t\t// If header doesn't equal `buf` with bits masked off\n\t\t\tif (header !== (options.mask[index] & buffer[index + options.offset])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (header !== buffer[index + options.offset]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport async function fileTypeFromTokenizer(tokenizer, options) {\n\treturn new FileTypeParser(options).fromTokenizer(tokenizer);\n}\n\nexport async function fileTypeStream(webStream, options) {\n\treturn new FileTypeParser(options).toDetectionStream(webStream, options);\n}\n\nexport class FileTypeParser {\n\tconstructor(options) {\n\t\tthis.options = {\n\t\t\tmpegOffsetTolerance: 0,\n\t\t\t...options,\n\t\t};\n\n\t\tthis.detectors = [...(options?.customDetectors ?? []),\n\t\t\t{id: 'core', detect: this.detectConfident},\n\t\t\t{id: 'core.imprecise', detect: this.detectImprecise}];\n\t\tthis.tokenizerOptions = {\n\t\t\tabortSignal: options?.signal,\n\t\t};\n\t}\n\n\tasync fromTokenizer(tokenizer) {\n\t\tconst initialPosition = tokenizer.position;\n\n\t\t// Iterate through all file-type detectors\n\t\tfor (const detector of this.detectors) {\n\t\t\tconst fileType = await detector.detect(tokenizer);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\n\t\t\tif (initialPosition !== tokenizer.position) {\n\t\t\t\treturn undefined; // Cannot proceed scanning of the tokenizer is at an arbitrary position\n\t\t\t}\n\t\t}\n\t}\n\n\tasync fromBuffer(input) {\n\t\tif (!(input instanceof Uint8Array || input instanceof ArrayBuffer)) {\n\t\t\tthrow new TypeError(`Expected the \\`input\\` argument to be of type \\`Uint8Array\\` or \\`ArrayBuffer\\`, got \\`${typeof input}\\``);\n\t\t}\n\n\t\tconst buffer = input instanceof Uint8Array ? input : new Uint8Array(input);\n\n\t\tif (!(buffer?.length > 1)) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this.fromTokenizer(strtok3.fromBuffer(buffer, this.tokenizerOptions));\n\t}\n\n\tasync fromBlob(blob) {\n\t\treturn this.fromStream(blob.stream());\n\t}\n\n\tasync fromStream(stream) {\n\t\tconst tokenizer = await strtok3.fromWebStream(stream, this.tokenizerOptions);\n\t\ttry {\n\t\t\treturn await this.fromTokenizer(tokenizer);\n\t\t} finally {\n\t\t\tawait tokenizer.close();\n\t\t}\n\t}\n\n\tasync toDetectionStream(stream, options) {\n\t\tconst {sampleSize = reasonableDetectionSizeInBytes} = options;\n\t\tlet detectedFileType;\n\t\tlet firstChunk;\n\n\t\tconst reader = stream.getReader({mode: 'byob'});\n\t\ttry {\n\t\t\t// Read the first chunk from the stream\n\t\t\tconst {value: chunk, done} = await reader.read(new Uint8Array(sampleSize));\n\t\t\tfirstChunk = chunk;\n\t\t\tif (!done && chunk) {\n\t\t\t\ttry {\n\t\t\t\t\t// Attempt to detect the file type from the chunk\n\t\t\t\t\tdetectedFileType = await this.fromBuffer(chunk.subarray(0, sampleSize));\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (!(error instanceof strtok3.EndOfStreamError)) {\n\t\t\t\t\t\tthrow error; // Re-throw non-EndOfStreamError\n\t\t\t\t\t}\n\n\t\t\t\t\tdetectedFileType = undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirstChunk = chunk;\n\t\t} finally {\n\t\t\treader.releaseLock(); // Ensure the reader is released\n\t\t}\n\n\t\t// Create a new ReadableStream to manage locking issues\n\t\tconst transformStream = new TransformStream({\n\t\t\tasync start(controller) {\n\t\t\t\tcontroller.enqueue(firstChunk); // Enqueue the initial chunk\n\t\t\t},\n\t\t\ttransform(chunk, controller) {\n\t\t\t\t// Pass through the chunks without modification\n\t\t\t\tcontroller.enqueue(chunk);\n\t\t\t},\n\t\t});\n\n\t\tconst newStream = stream.pipeThrough(transformStream);\n\t\tnewStream.fileType = detectedFileType;\n\n\t\treturn newStream;\n\t}\n\n\tcheck(header, options) {\n\t\treturn _check(this.buffer, header, options);\n\t}\n\n\tcheckString(header, options) {\n\t\treturn this.check(stringToBytes(header), options);\n\t}\n\n\t// Detections with a high degree of certainty in identifying the correct file type\n\tdetectConfident = async tokenizer => {\n\t\tthis.buffer = new Uint8Array(reasonableDetectionSizeInBytes);\n\n\t\t// Keep reading until EOF if the file size is unknown.\n\t\tif (tokenizer.fileInfo.size === undefined) {\n\t\t\ttokenizer.fileInfo.size = Number.MAX_SAFE_INTEGER;\n\t\t}\n\n\t\tthis.tokenizer = tokenizer;\n\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: 12, mayBeLess: true});\n\n\t\t// -- 2-byte signatures --\n\n\t\tif (this.check([0x42, 0x4D])) {\n\t\t\treturn {\n\t\t\t\text: 'bmp',\n\t\t\t\tmime: 'image/bmp',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x0B, 0x77])) {\n\t\t\treturn {\n\t\t\t\text: 'ac3',\n\t\t\t\tmime: 'audio/vnd.dolby.dd-raw',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x78, 0x01])) {\n\t\t\treturn {\n\t\t\t\text: 'dmg',\n\t\t\t\tmime: 'application/x-apple-diskimage',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4D, 0x5A])) {\n\t\t\treturn {\n\t\t\t\text: 'exe',\n\t\t\t\tmime: 'application/x-msdownload',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x25, 0x21])) {\n\t\t\tawait tokenizer.peekBuffer(this.buffer, {length: 24, mayBeLess: true});\n\n\t\t\tif (\n\t\t\t\tthis.checkString('PS-Adobe-', {offset: 2})\n\t\t\t\t&& this.checkString(' EPSF-', {offset: 14})\n\t\t\t) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'eps',\n\t\t\t\t\tmime: 'application/eps',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'ps',\n\t\t\t\tmime: 'application/postscript',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x1F, 0xA0])\n\t\t\t|| this.check([0x1F, 0x9D])\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'Z',\n\t\t\t\tmime: 'application/x-compress',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xC7, 0x71])) {\n\t\t\treturn {\n\t\t\t\text: 'cpio',\n\t\t\t\tmime: 'application/x-cpio',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x60, 0xEA])) {\n\t\t\treturn {\n\t\t\t\text: 'arj',\n\t\t\t\tmime: 'application/x-arj',\n\t\t\t};\n\t\t}\n\n\t\t// -- 3-byte signatures --\n\n\t\tif (this.check([0xEF, 0xBB, 0xBF])) { // UTF-8-BOM\n\t\t\t// Strip off UTF-8-BOM\n\t\t\tthis.tokenizer.ignore(3);\n\t\t\treturn this.detectConfident(tokenizer);\n\t\t}\n\n\t\tif (this.check([0x47, 0x49, 0x46])) {\n\t\t\treturn {\n\t\t\t\text: 'gif',\n\t\t\t\tmime: 'image/gif',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x49, 0x49, 0xBC])) {\n\t\t\treturn {\n\t\t\t\text: 'jxr',\n\t\t\t\tmime: 'image/vnd.ms-photo',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x1F, 0x8B, 0x8])) {\n\t\t\treturn {\n\t\t\t\text: 'gz',\n\t\t\t\tmime: 'application/gzip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x42, 0x5A, 0x68])) {\n\t\t\treturn {\n\t\t\t\text: 'bz2',\n\t\t\t\tmime: 'application/x-bzip2',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('ID3')) {\n\t\t\tawait tokenizer.ignore(6); // Skip ID3 header until the header size\n\t\t\tconst id3HeaderLength = await tokenizer.readToken(uint32SyncSafeToken);\n\t\t\tif (tokenizer.position + id3HeaderLength > tokenizer.fileInfo.size) {\n\t\t\t\t// Guess file type based on ID3 header for backward compatibility\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp3',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tawait tokenizer.ignore(id3HeaderLength);\n\t\t\treturn this.fromTokenizer(tokenizer); // Skip ID3 header, recursion\n\t\t}\n\n\t\t// Musepack, SV7\n\t\tif (this.checkString('MP+')) {\n\t\t\treturn {\n\t\t\t\text: 'mpc',\n\t\t\t\tmime: 'audio/x-musepack',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\t(this.buffer[0] === 0x43 || this.buffer[0] === 0x46)\n\t\t\t&& this.check([0x57, 0x53], {offset: 1})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'swf',\n\t\t\t\tmime: 'application/x-shockwave-flash',\n\t\t\t};\n\t\t}\n\n\t\t// -- 4-byte signatures --\n\n\t\t// Requires a sample size of 4 bytes\n\t\tif (this.check([0xFF, 0xD8, 0xFF])) {\n\t\t\tif (this.check([0xF7], {offset: 3})) { // JPG7/SOF55, indicating a ISO/IEC 14495 / JPEG-LS file\n\t\t\t\treturn {\n\t\t\t\t\text: 'jls',\n\t\t\t\t\tmime: 'image/jls',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'jpg',\n\t\t\t\tmime: 'image/jpeg',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4F, 0x62, 0x6A, 0x01])) {\n\t\t\treturn {\n\t\t\t\text: 'avro',\n\t\t\t\tmime: 'application/avro',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('FLIF')) {\n\t\t\treturn {\n\t\t\t\text: 'flif',\n\t\t\t\tmime: 'image/flif',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('8BPS')) {\n\t\t\treturn {\n\t\t\t\text: 'psd',\n\t\t\t\tmime: 'image/vnd.adobe.photoshop',\n\t\t\t};\n\t\t}\n\n\t\t// Musepack, SV8\n\t\tif (this.checkString('MPCK')) {\n\t\t\treturn {\n\t\t\t\text: 'mpc',\n\t\t\t\tmime: 'audio/x-musepack',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('FORM')) {\n\t\t\treturn {\n\t\t\t\text: 'aif',\n\t\t\t\tmime: 'audio/aiff',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('icns', {offset: 0})) {\n\t\t\treturn {\n\t\t\t\text: 'icns',\n\t\t\t\tmime: 'image/icns',\n\t\t\t};\n\t\t}\n\n\t\t// Zip-based file formats\n\t\t// Need to be before the `zip` check\n\t\tif (this.check([0x50, 0x4B, 0x3, 0x4])) { // Local file header signature\n\t\t\tlet fileType;\n\t\t\tawait new ZipHandler(tokenizer).unzip(zipHeader => {\n\t\t\t\tswitch (zipHeader.filename) {\n\t\t\t\t\tcase 'META-INF/mozilla.rsa':\n\t\t\t\t\t\tfileType = {\n\t\t\t\t\t\t\text: 'xpi',\n\t\t\t\t\t\t\tmime: 'application/x-xpinstall',\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tstop: true,\n\t\t\t\t\t\t};\n\t\t\t\t\tcase 'META-INF/MANIFEST.MF':\n\t\t\t\t\t\tfileType = {\n\t\t\t\t\t\t\text: 'jar',\n\t\t\t\t\t\t\tmime: 'application/java-archive',\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tstop: true,\n\t\t\t\t\t\t};\n\t\t\t\t\tcase 'mimetype':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tasync handler(fileData) {\n\t\t\t\t\t\t\t\t// Use TextDecoder to decode the UTF-8 encoded data\n\t\t\t\t\t\t\t\tconst mimeType = new TextDecoder('utf-8').decode(fileData).trim();\n\t\t\t\t\t\t\t\tfileType = getFileTypeFromMimeType(mimeType);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstop: true,\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase '[Content_Types].xml':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tasync handler(fileData) {\n\t\t\t\t\t\t\t\t// Use TextDecoder to decode the UTF-8 encoded data\n\t\t\t\t\t\t\t\tlet xmlContent = new TextDecoder('utf-8').decode(fileData);\n\t\t\t\t\t\t\t\tconst endPos = xmlContent.indexOf('.main+xml\"');\n\t\t\t\t\t\t\t\tif (endPos === -1) {\n\t\t\t\t\t\t\t\t\tconst mimeType = 'application/vnd.ms-package.3dmanufacturing-3dmodel+xml';\n\t\t\t\t\t\t\t\t\tif (xmlContent.includes(`ContentType=\"${mimeType}\"`)) {\n\t\t\t\t\t\t\t\t\t\tfileType = getFileTypeFromMimeType(mimeType);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\txmlContent = xmlContent.slice(0, Math.max(0, endPos));\n\t\t\t\t\t\t\t\t\tconst firstPos = xmlContent.lastIndexOf('\"');\n\t\t\t\t\t\t\t\t\tconst mimeType = xmlContent.slice(Math.max(0, firstPos + 1));\n\t\t\t\t\t\t\t\t\tfileType = getFileTypeFromMimeType(mimeType);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstop: true,\n\t\t\t\t\t\t};\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (/classes\\d*\\.dex/.test(zipHeader.filename)) {\n\t\t\t\t\t\t\tfileType = {\n\t\t\t\t\t\t\t\text: 'apk',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.android.package-archive',\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\treturn {stop: true};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {};\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn fileType ?? {\n\t\t\t\text: 'zip',\n\t\t\t\tmime: 'application/zip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('OggS')) {\n\t\t\t// This is an OGG container\n\t\t\tawait tokenizer.ignore(28);\n\t\t\tconst type = new Uint8Array(8);\n\t\t\tawait tokenizer.readBuffer(type);\n\n\t\t\t// Needs to be before `ogg` check\n\t\t\tif (_check(type, [0x4F, 0x70, 0x75, 0x73, 0x48, 0x65, 0x61, 0x64])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'opus',\n\t\t\t\t\tmime: 'audio/ogg; codecs=opus',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If ' theora' in header.\n\t\t\tif (_check(type, [0x80, 0x74, 0x68, 0x65, 0x6F, 0x72, 0x61])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ogv',\n\t\t\t\t\tmime: 'video/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If '\\x01video' in header.\n\t\t\tif (_check(type, [0x01, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x00])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ogm',\n\t\t\t\t\tmime: 'video/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If ' FLAC' in header  https://xiph.org/flac/faq.html\n\t\t\tif (_check(type, [0x7F, 0x46, 0x4C, 0x41, 0x43])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'oga',\n\t\t\t\t\tmime: 'audio/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// 'Speex  ' in header https://en.wikipedia.org/wiki/Speex\n\t\t\tif (_check(type, [0x53, 0x70, 0x65, 0x65, 0x78, 0x20, 0x20])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'spx',\n\t\t\t\t\tmime: 'audio/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If '\\x01vorbis' in header\n\t\t\tif (_check(type, [0x01, 0x76, 0x6F, 0x72, 0x62, 0x69, 0x73])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ogg',\n\t\t\t\t\tmime: 'audio/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Default OGG container https://www.iana.org/assignments/media-types/application/ogg\n\t\t\treturn {\n\t\t\t\text: 'ogx',\n\t\t\t\tmime: 'application/ogg',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x50, 0x4B])\n\t\t\t&& (this.buffer[2] === 0x3 || this.buffer[2] === 0x5 || this.buffer[2] === 0x7)\n\t\t\t&& (this.buffer[3] === 0x4 || this.buffer[3] === 0x6 || this.buffer[3] === 0x8)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'zip',\n\t\t\t\tmime: 'application/zip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('MThd')) {\n\t\t\treturn {\n\t\t\t\text: 'mid',\n\t\t\t\tmime: 'audio/midi',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('wOFF')\n\t\t\t&& (\n\t\t\t\tthis.check([0x00, 0x01, 0x00, 0x00], {offset: 4})\n\t\t\t\t|| this.checkString('OTTO', {offset: 4})\n\t\t\t)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'woff',\n\t\t\t\tmime: 'font/woff',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('wOF2')\n\t\t\t&& (\n\t\t\t\tthis.check([0x00, 0x01, 0x00, 0x00], {offset: 4})\n\t\t\t\t|| this.checkString('OTTO', {offset: 4})\n\t\t\t)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'woff2',\n\t\t\t\tmime: 'font/woff2',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xD4, 0xC3, 0xB2, 0xA1]) || this.check([0xA1, 0xB2, 0xC3, 0xD4])) {\n\t\t\treturn {\n\t\t\t\text: 'pcap',\n\t\t\t\tmime: 'application/vnd.tcpdump.pcap',\n\t\t\t};\n\t\t}\n\n\t\t// Sony DSD Stream File (DSF)\n\t\tif (this.checkString('DSD ')) {\n\t\t\treturn {\n\t\t\t\text: 'dsf',\n\t\t\t\tmime: 'audio/x-dsf', // Non-standard\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('LZIP')) {\n\t\t\treturn {\n\t\t\t\text: 'lz',\n\t\t\t\tmime: 'application/x-lzip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('fLaC')) {\n\t\t\treturn {\n\t\t\t\text: 'flac',\n\t\t\t\tmime: 'audio/flac',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x42, 0x50, 0x47, 0xFB])) {\n\t\t\treturn {\n\t\t\t\text: 'bpg',\n\t\t\t\tmime: 'image/bpg',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('wvpk')) {\n\t\t\treturn {\n\t\t\t\text: 'wv',\n\t\t\t\tmime: 'audio/wavpack',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('%PDF')) {\n\t\t\t// Assume this is just a normal PDF\n\t\t\treturn {\n\t\t\t\text: 'pdf',\n\t\t\t\tmime: 'application/pdf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x61, 0x73, 0x6D])) {\n\t\t\treturn {\n\t\t\t\text: 'wasm',\n\t\t\t\tmime: 'application/wasm',\n\t\t\t};\n\t\t}\n\n\t\t// TIFF, little-endian type\n\t\tif (this.check([0x49, 0x49])) {\n\t\t\tconst fileType = await this.readTiffHeader(false);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\t\t}\n\n\t\t// TIFF, big-endian type\n\t\tif (this.check([0x4D, 0x4D])) {\n\t\t\tconst fileType = await this.readTiffHeader(true);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('MAC ')) {\n\t\t\treturn {\n\t\t\t\text: 'ape',\n\t\t\t\tmime: 'audio/ape',\n\t\t\t};\n\t\t}\n\n\t\t// https://github.com/file/file/blob/master/magic/Magdir/matroska\n\t\tif (this.check([0x1A, 0x45, 0xDF, 0xA3])) { // Root element: EBML\n\t\t\tasync function readField() {\n\t\t\t\tconst msb = await tokenizer.peekNumber(Token.UINT8);\n\t\t\t\tlet mask = 0x80;\n\t\t\t\tlet ic = 0; // 0 = A, 1 = B, 2 = C, 3 = D\n\n\t\t\t\twhile ((msb & mask) === 0 && mask !== 0) {\n\t\t\t\t\t++ic;\n\t\t\t\t\tmask >>= 1;\n\t\t\t\t}\n\n\t\t\t\tconst id = new Uint8Array(ic + 1);\n\t\t\t\tawait tokenizer.readBuffer(id);\n\t\t\t\treturn id;\n\t\t\t}\n\n\t\t\tasync function readElement() {\n\t\t\t\tconst idField = await readField();\n\t\t\t\tconst lengthField = await readField();\n\n\t\t\t\tlengthField[0] ^= 0x80 >> (lengthField.length - 1);\n\t\t\t\tconst nrLength = Math.min(6, lengthField.length); // JavaScript can max read 6 bytes integer\n\n\t\t\t\tconst idView = new DataView(idField.buffer);\n\t\t\t\tconst lengthView = new DataView(lengthField.buffer, lengthField.length - nrLength, nrLength);\n\n\t\t\t\treturn {\n\t\t\t\t\tid: getUintBE(idView),\n\t\t\t\t\tlen: getUintBE(lengthView),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tasync function readChildren(children) {\n\t\t\t\twhile (children > 0) {\n\t\t\t\t\tconst element = await readElement();\n\t\t\t\t\tif (element.id === 0x42_82) {\n\t\t\t\t\t\tconst rawValue = await tokenizer.readToken(new Token.StringType(element.len));\n\t\t\t\t\t\treturn rawValue.replaceAll(/\\00.*$/g, ''); // Return DocType\n\t\t\t\t\t}\n\n\t\t\t\t\tawait tokenizer.ignore(element.len); // ignore payload\n\t\t\t\t\t--children;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst re = await readElement();\n\t\t\tconst documentType = await readChildren(re.len);\n\n\t\t\tswitch (documentType) {\n\t\t\t\tcase 'webm':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'webm',\n\t\t\t\t\t\tmime: 'video/webm',\n\t\t\t\t\t};\n\n\t\t\t\tcase 'matroska':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'mkv',\n\t\t\t\t\t\tmime: 'video/matroska',\n\t\t\t\t\t};\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('SQLi')) {\n\t\t\treturn {\n\t\t\t\text: 'sqlite',\n\t\t\t\tmime: 'application/x-sqlite3',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4E, 0x45, 0x53, 0x1A])) {\n\t\t\treturn {\n\t\t\t\text: 'nes',\n\t\t\t\tmime: 'application/x-nintendo-nes-rom',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Cr24')) {\n\t\t\treturn {\n\t\t\t\text: 'crx',\n\t\t\t\tmime: 'application/x-google-chrome-extension',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('MSCF')\n\t\t\t|| this.checkString('ISc(')\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'cab',\n\t\t\t\tmime: 'application/vnd.ms-cab-compressed',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xED, 0xAB, 0xEE, 0xDB])) {\n\t\t\treturn {\n\t\t\t\text: 'rpm',\n\t\t\t\tmime: 'application/x-rpm',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xC5, 0xD0, 0xD3, 0xC6])) {\n\t\t\treturn {\n\t\t\t\text: 'eps',\n\t\t\t\tmime: 'application/eps',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x28, 0xB5, 0x2F, 0xFD])) {\n\t\t\treturn {\n\t\t\t\text: 'zst',\n\t\t\t\tmime: 'application/zstd',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x7F, 0x45, 0x4C, 0x46])) {\n\t\t\treturn {\n\t\t\t\text: 'elf',\n\t\t\t\tmime: 'application/x-elf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x21, 0x42, 0x44, 0x4E])) {\n\t\t\treturn {\n\t\t\t\text: 'pst',\n\t\t\t\tmime: 'application/vnd.ms-outlook',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('PAR1') || this.checkString('PARE')) {\n\t\t\treturn {\n\t\t\t\text: 'parquet',\n\t\t\t\tmime: 'application/vnd.apache.parquet',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('ttcf')) {\n\t\t\treturn {\n\t\t\t\text: 'ttc',\n\t\t\t\tmime: 'font/collection',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xCF, 0xFA, 0xED, 0xFE])) {\n\t\t\treturn {\n\t\t\t\text: 'macho',\n\t\t\t\tmime: 'application/x-mach-binary',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x04, 0x22, 0x4D, 0x18])) {\n\t\t\treturn {\n\t\t\t\text: 'lz4',\n\t\t\t\tmime: 'application/x-lz4', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\t// -- 5-byte signatures --\n\n\t\tif (this.check([0x4F, 0x54, 0x54, 0x4F, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'otf',\n\t\t\t\tmime: 'font/otf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('#!AMR')) {\n\t\t\treturn {\n\t\t\t\text: 'amr',\n\t\t\t\tmime: 'audio/amr',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('{\\\\rtf')) {\n\t\t\treturn {\n\t\t\t\text: 'rtf',\n\t\t\t\tmime: 'application/rtf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x46, 0x4C, 0x56, 0x01])) {\n\t\t\treturn {\n\t\t\t\text: 'flv',\n\t\t\t\tmime: 'video/x-flv',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('IMPM')) {\n\t\t\treturn {\n\t\t\t\text: 'it',\n\t\t\t\tmime: 'audio/x-it',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('-lh0-', {offset: 2})\n\t\t\t|| this.checkString('-lh1-', {offset: 2})\n\t\t\t|| this.checkString('-lh2-', {offset: 2})\n\t\t\t|| this.checkString('-lh3-', {offset: 2})\n\t\t\t|| this.checkString('-lh4-', {offset: 2})\n\t\t\t|| this.checkString('-lh5-', {offset: 2})\n\t\t\t|| this.checkString('-lh6-', {offset: 2})\n\t\t\t|| this.checkString('-lh7-', {offset: 2})\n\t\t\t|| this.checkString('-lzs-', {offset: 2})\n\t\t\t|| this.checkString('-lz4-', {offset: 2})\n\t\t\t|| this.checkString('-lz5-', {offset: 2})\n\t\t\t|| this.checkString('-lhd-', {offset: 2})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'lzh',\n\t\t\t\tmime: 'application/x-lzh-compressed',\n\t\t\t};\n\t\t}\n\n\t\t// MPEG program stream (PS or MPEG-PS)\n\t\tif (this.check([0x00, 0x00, 0x01, 0xBA])) {\n\t\t\t//  MPEG-PS, MPEG-1 Part 1\n\t\t\tif (this.check([0x21], {offset: 4, mask: [0xF1]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mpg', // May also be .ps, .mpeg\n\t\t\t\t\tmime: 'video/MP1S',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// MPEG-PS, MPEG-2 Part 1\n\t\t\tif (this.check([0x44], {offset: 4, mask: [0xC4]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mpg', // May also be .mpg, .m2p, .vob or .sub\n\t\t\t\t\tmime: 'video/MP2P',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('ITSF')) {\n\t\t\treturn {\n\t\t\t\text: 'chm',\n\t\t\t\tmime: 'application/vnd.ms-htmlhelp',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xCA, 0xFE, 0xBA, 0xBE])) {\n\t\t\treturn {\n\t\t\t\text: 'class',\n\t\t\t\tmime: 'application/java-vm',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('.RMF')) {\n\t\t\treturn {\n\t\t\t\text: 'rm',\n\t\t\t\tmime: 'application/vnd.rn-realmedia',\n\t\t\t};\n\t\t}\n\n\t\t// -- 5-byte signatures --\n\n\t\tif (this.checkString('DRACO')) {\n\t\t\treturn {\n\t\t\t\text: 'drc',\n\t\t\t\tmime: 'application/vnd.google.draco', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\t// -- 6-byte signatures --\n\n\t\tif (this.check([0xFD, 0x37, 0x7A, 0x58, 0x5A, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'xz',\n\t\t\t\tmime: 'application/x-xz',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('<?xml ')) {\n\t\t\treturn {\n\t\t\t\text: 'xml',\n\t\t\t\tmime: 'application/xml',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x37, 0x7A, 0xBC, 0xAF, 0x27, 0x1C])) {\n\t\t\treturn {\n\t\t\t\text: '7z',\n\t\t\t\tmime: 'application/x-7z-compressed',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x52, 0x61, 0x72, 0x21, 0x1A, 0x7])\n\t\t\t&& (this.buffer[6] === 0x0 || this.buffer[6] === 0x1)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'rar',\n\t\t\t\tmime: 'application/x-rar-compressed',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('solid ')) {\n\t\t\treturn {\n\t\t\t\text: 'stl',\n\t\t\t\tmime: 'model/stl',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('AC')) {\n\t\t\tconst version = new Token.StringType(4, 'latin1').get(this.buffer, 2);\n\t\t\tif (version.match('^d*') && version >= 1000 && version <= 1050) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'dwg',\n\t\t\t\t\tmime: 'image/vnd.dwg',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('070707')) {\n\t\t\treturn {\n\t\t\t\text: 'cpio',\n\t\t\t\tmime: 'application/x-cpio',\n\t\t\t};\n\t\t}\n\n\t\t// -- 7-byte signatures --\n\n\t\tif (this.checkString('BLENDER')) {\n\t\t\treturn {\n\t\t\t\text: 'blend',\n\t\t\t\tmime: 'application/x-blender',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('!<arch>')) {\n\t\t\tawait tokenizer.ignore(8);\n\t\t\tconst string = await tokenizer.readToken(new Token.StringType(13, 'ascii'));\n\t\t\tif (string === 'debian-binary') {\n\t\t\t\treturn {\n\t\t\t\t\text: 'deb',\n\t\t\t\t\tmime: 'application/x-deb',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'ar',\n\t\t\t\tmime: 'application/x-unix-archive',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('WEBVTT')\n\t\t\t&&\t(\n\t\t\t\t// One of LF, CR, tab, space, or end of file must follow \"WEBVTT\" per the spec (see `fixture/fixture-vtt-*.vtt` for examples). Note that `\\0` is technically the null character (there is no such thing as an EOF character). However, checking for `\\0` gives us the same result as checking for the end of the stream.\n\t\t\t\t(['\\n', '\\r', '\\t', ' ', '\\0'].some(char7 => this.checkString(char7, {offset: 6}))))\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'vtt',\n\t\t\t\tmime: 'text/vtt',\n\t\t\t};\n\t\t}\n\n\t\t// -- 8-byte signatures --\n\n\t\tif (this.check([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\t\t// APNG format (https://wiki.mozilla.org/APNG_Specification)\n\t\t\t// 1. Find the first IDAT (image data) chunk (49 44 41 54)\n\t\t\t// 2. Check if there is an \"acTL\" chunk before the IDAT one (61 63 54 4C)\n\n\t\t\t// Offset calculated as follows:\n\t\t\t// - 8 bytes: PNG signature\n\t\t\t// - 4 (length) + 4 (chunk type) + 13 (chunk data) + 4 (CRC): IHDR chunk\n\n\t\t\tawait tokenizer.ignore(8); // ignore PNG signature\n\n\t\t\tasync function readChunkHeader() {\n\t\t\t\treturn {\n\t\t\t\t\tlength: await tokenizer.readToken(Token.INT32_BE),\n\t\t\t\t\ttype: await tokenizer.readToken(new Token.StringType(4, 'latin1')),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tdo {\n\t\t\t\tconst chunk = await readChunkHeader();\n\t\t\t\tif (chunk.length < 0) {\n\t\t\t\t\treturn; // Invalid chunk length\n\t\t\t\t}\n\n\t\t\t\tswitch (chunk.type) {\n\t\t\t\t\tcase 'IDAT':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'png',\n\t\t\t\t\t\t\tmime: 'image/png',\n\t\t\t\t\t\t};\n\t\t\t\t\tcase 'acTL':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'apng',\n\t\t\t\t\t\t\tmime: 'image/apng',\n\t\t\t\t\t\t};\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tawait tokenizer.ignore(chunk.length + 4); // Ignore chunk-data + CRC\n\t\t\t\t}\n\t\t\t} while (tokenizer.position + 8 < tokenizer.fileInfo.size);\n\n\t\t\treturn {\n\t\t\t\text: 'png',\n\t\t\t\tmime: 'image/png',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x41, 0x52, 0x52, 0x4F, 0x57, 0x31, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'arrow',\n\t\t\t\tmime: 'application/vnd.apache.arrow.file',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x67, 0x6C, 0x54, 0x46, 0x02, 0x00, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'glb',\n\t\t\t\tmime: 'model/gltf-binary',\n\t\t\t};\n\t\t}\n\n\t\t// `mov` format variants\n\t\tif (\n\t\t\tthis.check([0x66, 0x72, 0x65, 0x65], {offset: 4}) // `free`\n\t\t\t|| this.check([0x6D, 0x64, 0x61, 0x74], {offset: 4}) // `mdat` MJPEG\n\t\t\t|| this.check([0x6D, 0x6F, 0x6F, 0x76], {offset: 4}) // `moov`\n\t\t\t|| this.check([0x77, 0x69, 0x64, 0x65], {offset: 4}) // `wide`\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mov',\n\t\t\t\tmime: 'video/quicktime',\n\t\t\t};\n\t\t}\n\n\t\t// -- 9-byte signatures --\n\n\t\tif (this.check([0x49, 0x49, 0x52, 0x4F, 0x08, 0x00, 0x00, 0x00, 0x18])) {\n\t\t\treturn {\n\t\t\t\text: 'orf',\n\t\t\t\tmime: 'image/x-olympus-orf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('gimp xcf ')) {\n\t\t\treturn {\n\t\t\t\text: 'xcf',\n\t\t\t\tmime: 'image/x-xcf',\n\t\t\t};\n\t\t}\n\n\t\t// File Type Box (https://en.wikipedia.org/wiki/ISO_base_media_file_format)\n\t\t// It's not required to be first, but it's recommended to be. Almost all ISO base media files start with `ftyp` box.\n\t\t// `ftyp` box must contain a brand major identifier, which must consist of ISO 8859-1 printable characters.\n\t\t// Here we check for 8859-1 printable characters (for simplicity, it's a mask which also catches one non-printable character).\n\t\tif (\n\t\t\tthis.checkString('ftyp', {offset: 4})\n\t\t\t&& (this.buffer[8] & 0x60) !== 0x00 // Brand major, first character ASCII?\n\t\t) {\n\t\t\t// They all can have MIME `video/mp4` except `application/mp4` special-case which is hard to detect.\n\t\t\t// For some cases, we're specific, everything else falls to `video/mp4` with `mp4` extension.\n\t\t\tconst brandMajor = new Token.StringType(4, 'latin1').get(this.buffer, 8).replace('\\0', ' ').trim();\n\t\t\tswitch (brandMajor) {\n\t\t\t\tcase 'avif':\n\t\t\t\tcase 'avis':\n\t\t\t\t\treturn {ext: 'avif', mime: 'image/avif'};\n\t\t\t\tcase 'mif1':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heif'};\n\t\t\t\tcase 'msf1':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heif-sequence'};\n\t\t\t\tcase 'heic':\n\t\t\t\tcase 'heix':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heic'};\n\t\t\t\tcase 'hevc':\n\t\t\t\tcase 'hevx':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heic-sequence'};\n\t\t\t\tcase 'qt':\n\t\t\t\t\treturn {ext: 'mov', mime: 'video/quicktime'};\n\t\t\t\tcase 'M4V':\n\t\t\t\tcase 'M4VH':\n\t\t\t\tcase 'M4VP':\n\t\t\t\t\treturn {ext: 'm4v', mime: 'video/x-m4v'};\n\t\t\t\tcase 'M4P':\n\t\t\t\t\treturn {ext: 'm4p', mime: 'video/mp4'};\n\t\t\t\tcase 'M4B':\n\t\t\t\t\treturn {ext: 'm4b', mime: 'audio/mp4'};\n\t\t\t\tcase 'M4A':\n\t\t\t\t\treturn {ext: 'm4a', mime: 'audio/x-m4a'};\n\t\t\t\tcase 'F4V':\n\t\t\t\t\treturn {ext: 'f4v', mime: 'video/mp4'};\n\t\t\t\tcase 'F4P':\n\t\t\t\t\treturn {ext: 'f4p', mime: 'video/mp4'};\n\t\t\t\tcase 'F4A':\n\t\t\t\t\treturn {ext: 'f4a', mime: 'audio/mp4'};\n\t\t\t\tcase 'F4B':\n\t\t\t\t\treturn {ext: 'f4b', mime: 'audio/mp4'};\n\t\t\t\tcase 'crx':\n\t\t\t\t\treturn {ext: 'cr3', mime: 'image/x-canon-cr3'};\n\t\t\t\tdefault:\n\t\t\t\t\tif (brandMajor.startsWith('3g')) {\n\t\t\t\t\t\tif (brandMajor.startsWith('3g2')) {\n\t\t\t\t\t\t\treturn {ext: '3g2', mime: 'video/3gpp2'};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {ext: '3gp', mime: 'video/3gpp'};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {ext: 'mp4', mime: 'video/mp4'};\n\t\t\t}\n\t\t}\n\n\t\t// -- 12-byte signatures --\n\n\t\t// RIFF file format which might be AVI, WAV, QCP, etc\n\t\tif (this.check([0x52, 0x49, 0x46, 0x46])) {\n\t\t\tif (this.checkString('WEBP', {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'webp',\n\t\t\t\t\tmime: 'image/webp',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.check([0x41, 0x56, 0x49], {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'avi',\n\t\t\t\t\tmime: 'video/vnd.avi',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.check([0x57, 0x41, 0x56, 0x45], {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'wav',\n\t\t\t\t\tmime: 'audio/wav',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// QLCM, QCP file\n\t\t\tif (this.check([0x51, 0x4C, 0x43, 0x4D], {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'qcp',\n\t\t\t\t\tmime: 'audio/qcelp',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (this.check([0x49, 0x49, 0x55, 0x00, 0x18, 0x00, 0x00, 0x00, 0x88, 0xE7, 0x74, 0xD8])) {\n\t\t\treturn {\n\t\t\t\text: 'rw2',\n\t\t\t\tmime: 'image/x-panasonic-rw2',\n\t\t\t};\n\t\t}\n\n\t\t// ASF_Header_Object first 80 bytes\n\t\tif (this.check([0x30, 0x26, 0xB2, 0x75, 0x8E, 0x66, 0xCF, 0x11, 0xA6, 0xD9])) {\n\t\t\tasync function readHeader() {\n\t\t\t\tconst guid = new Uint8Array(16);\n\t\t\t\tawait tokenizer.readBuffer(guid);\n\t\t\t\treturn {\n\t\t\t\t\tid: guid,\n\t\t\t\t\tsize: Number(await tokenizer.readToken(Token.UINT64_LE)),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tawait tokenizer.ignore(30);\n\t\t\t// Search for header should be in first 1KB of file.\n\t\t\twhile (tokenizer.position + 24 < tokenizer.fileInfo.size) {\n\t\t\t\tconst header = await readHeader();\n\t\t\t\tlet payload = header.size - 24;\n\t\t\t\tif (_check(header.id, [0x91, 0x07, 0xDC, 0xB7, 0xB7, 0xA9, 0xCF, 0x11, 0x8E, 0xE6, 0x00, 0xC0, 0x0C, 0x20, 0x53, 0x65])) {\n\t\t\t\t\t// Sync on Stream-Properties-Object (B7DC0791-A9B7-11CF-8EE6-00C00C205365)\n\t\t\t\t\tconst typeId = new Uint8Array(16);\n\t\t\t\t\tpayload -= await tokenizer.readBuffer(typeId);\n\n\t\t\t\t\tif (_check(typeId, [0x40, 0x9E, 0x69, 0xF8, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n\t\t\t\t\t\t// Found audio:\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'asf',\n\t\t\t\t\t\t\tmime: 'audio/x-ms-asf',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_check(typeId, [0xC0, 0xEF, 0x19, 0xBC, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n\t\t\t\t\t\t// Found video:\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'asf',\n\t\t\t\t\t\t\tmime: 'video/x-ms-asf',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tawait tokenizer.ignore(payload);\n\t\t\t}\n\n\t\t\t// Default to ASF generic extension\n\t\t\treturn {\n\t\t\t\text: 'asf',\n\t\t\t\tmime: 'application/vnd.ms-asf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\t\treturn {\n\t\t\t\text: 'ktx',\n\t\t\t\tmime: 'image/ktx',\n\t\t\t};\n\t\t}\n\n\t\tif ((this.check([0x7E, 0x10, 0x04]) || this.check([0x7E, 0x18, 0x04])) && this.check([0x30, 0x4D, 0x49, 0x45], {offset: 4})) {\n\t\t\treturn {\n\t\t\t\text: 'mie',\n\t\t\t\tmime: 'application/x-mie',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x27, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00], {offset: 2})) {\n\t\t\treturn {\n\t\t\t\text: 'shp',\n\t\t\t\tmime: 'application/x-esri-shape',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xFF, 0x4F, 0xFF, 0x51])) {\n\t\t\treturn {\n\t\t\t\text: 'j2c',\n\t\t\t\tmime: 'image/j2c',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x00, 0x00, 0x0C, 0x6A, 0x50, 0x20, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {\n\t\t\t// JPEG-2000 family\n\n\t\t\tawait tokenizer.ignore(20);\n\t\t\tconst type = await tokenizer.readToken(new Token.StringType(4, 'ascii'));\n\t\t\tswitch (type) {\n\t\t\t\tcase 'jp2 ':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'jp2',\n\t\t\t\t\t\tmime: 'image/jp2',\n\t\t\t\t\t};\n\t\t\t\tcase 'jpx ':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'jpx',\n\t\t\t\t\t\tmime: 'image/jpx',\n\t\t\t\t\t};\n\t\t\t\tcase 'jpm ':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'jpm',\n\t\t\t\t\t\tmime: 'image/jpm',\n\t\t\t\t\t};\n\t\t\t\tcase 'mjp2':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'mj2',\n\t\t\t\t\t\tmime: 'image/mj2',\n\t\t\t\t\t};\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0xFF, 0x0A])\n\t\t\t|| this.check([0x00, 0x00, 0x00, 0x0C, 0x4A, 0x58, 0x4C, 0x20, 0x0D, 0x0A, 0x87, 0x0A])\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'jxl',\n\t\t\t\tmime: 'image/jxl',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xFE, 0xFF])) { // UTF-16-BOM-LE\n\t\t\tif (this.check([0, 60, 0, 63, 0, 120, 0, 109, 0, 108], {offset: 2})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'xml',\n\t\t\t\t\tmime: 'application/xml',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn undefined; // Some unknown text based format\n\t\t}\n\n\t\tif (this.check([0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1])) {\n\t\t\t// Detected Microsoft Compound File Binary File (MS-CFB) Format.\n\t\t\treturn {\n\t\t\t\text: 'cfb',\n\t\t\t\tmime: 'application/x-cfb',\n\t\t\t};\n\t\t}\n\n\t\t// Increase sample size from 12 to 256.\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: Math.min(256, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t\tif (this.check([0x61, 0x63, 0x73, 0x70], {offset: 36})) {\n\t\t\treturn {\n\t\t\t\text: 'icc',\n\t\t\t\tmime: 'application/vnd.iccprofile',\n\t\t\t};\n\t\t}\n\n\t\t// ACE: requires 14 bytes in the buffer\n\t\tif (this.checkString('**ACE', {offset: 7}) && this.checkString('**', {offset: 12})) {\n\t\t\treturn {\n\t\t\t\text: 'ace',\n\t\t\t\tmime: 'application/x-ace-compressed',\n\t\t\t};\n\t\t}\n\n\t\t// -- 15-byte signatures --\n\n\t\tif (this.checkString('BEGIN:')) {\n\t\t\tif (this.checkString('VCARD', {offset: 6})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'vcf',\n\t\t\t\t\tmime: 'text/vcard',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.checkString('VCALENDAR', {offset: 6})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ics',\n\t\t\t\t\tmime: 'text/calendar',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// `raf` is here just to keep all the raw image detectors together.\n\t\tif (this.checkString('FUJIFILMCCD-RAW')) {\n\t\t\treturn {\n\t\t\t\text: 'raf',\n\t\t\t\tmime: 'image/x-fujifilm-raf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Extended Module:')) {\n\t\t\treturn {\n\t\t\t\text: 'xm',\n\t\t\t\tmime: 'audio/x-xm',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Creative Voice File')) {\n\t\t\treturn {\n\t\t\t\text: 'voc',\n\t\t\t\tmime: 'audio/x-voc',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x04, 0x00, 0x00, 0x00]) && this.buffer.length >= 16) { // Rough & quick check Pickle/ASAR\n\t\t\tconst jsonSize = new DataView(this.buffer.buffer).getUint32(12, true);\n\n\t\t\tif (jsonSize > 12 && this.buffer.length >= jsonSize + 16) {\n\t\t\t\ttry {\n\t\t\t\t\tconst header = new TextDecoder().decode(this.buffer.subarray(16, jsonSize + 16));\n\t\t\t\t\tconst json = JSON.parse(header);\n\t\t\t\t\t// Check if Pickle is ASAR\n\t\t\t\t\tif (json.files) { // Final check, assuring Pickle/ASAR format\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'asar',\n\t\t\t\t\t\t\tmime: 'application/x-asar',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} catch {}\n\t\t\t}\n\t\t}\n\n\t\tif (this.check([0x06, 0x0E, 0x2B, 0x34, 0x02, 0x05, 0x01, 0x01, 0x0D, 0x01, 0x02, 0x01, 0x01, 0x02])) {\n\t\t\treturn {\n\t\t\t\text: 'mxf',\n\t\t\t\tmime: 'application/mxf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('SCRM', {offset: 44})) {\n\t\t\treturn {\n\t\t\t\text: 's3m',\n\t\t\t\tmime: 'audio/x-s3m',\n\t\t\t};\n\t\t}\n\n\t\t// Raw MPEG-2 transport stream (188-byte packets)\n\t\tif (this.check([0x47]) && this.check([0x47], {offset: 188})) {\n\t\t\treturn {\n\t\t\t\text: 'mts',\n\t\t\t\tmime: 'video/mp2t',\n\t\t\t};\n\t\t}\n\n\t\t// Blu-ray Disc Audio-Video (BDAV) MPEG-2 transport stream has 4-byte TP_extra_header before each 188-byte packet\n\t\tif (this.check([0x47], {offset: 4}) && this.check([0x47], {offset: 196})) {\n\t\t\treturn {\n\t\t\t\text: 'mts',\n\t\t\t\tmime: 'video/mp2t',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x42, 0x4F, 0x4F, 0x4B, 0x4D, 0x4F, 0x42, 0x49], {offset: 60})) {\n\t\t\treturn {\n\t\t\t\text: 'mobi',\n\t\t\t\tmime: 'application/x-mobipocket-ebook',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x44, 0x49, 0x43, 0x4D], {offset: 128})) {\n\t\t\treturn {\n\t\t\t\text: 'dcm',\n\t\t\t\tmime: 'application/dicom',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4C, 0x00, 0x00, 0x00, 0x01, 0x14, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x46])) {\n\t\t\treturn {\n\t\t\t\text: 'lnk',\n\t\t\t\tmime: 'application/x.ms.shortcut', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x62, 0x6F, 0x6F, 0x6B, 0x00, 0x00, 0x00, 0x00, 0x6D, 0x61, 0x72, 0x6B, 0x00, 0x00, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'alias',\n\t\t\t\tmime: 'application/x.apple.alias', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Kaydara FBX Binary  \\u0000')) {\n\t\t\treturn {\n\t\t\t\text: 'fbx',\n\t\t\t\tmime: 'application/x.autodesk.fbx', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x4C, 0x50], {offset: 34})\n\t\t\t&& (\n\t\t\t\tthis.check([0x00, 0x00, 0x01], {offset: 8})\n\t\t\t\t|| this.check([0x01, 0x00, 0x02], {offset: 8})\n\t\t\t\t|| this.check([0x02, 0x00, 0x02], {offset: 8})\n\t\t\t)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'eot',\n\t\t\t\tmime: 'application/vnd.ms-fontobject',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x06, 0x06, 0xED, 0xF5, 0xD8, 0x1D, 0x46, 0xE5, 0xBD, 0x31, 0xEF, 0xE7, 0xFE, 0x74, 0xB7, 0x1D])) {\n\t\t\treturn {\n\t\t\t\text: 'indd',\n\t\t\t\tmime: 'application/x-indesign',\n\t\t\t};\n\t\t}\n\n\t\t// Increase sample size from 256 to 512\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: Math.min(512, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t\t// Requires a buffer size of 512 bytes\n\t\tif ((this.checkString('ustar', {offset: 257}) && (this.checkString('\\0', {offset: 262}) || this.checkString(' ', {offset: 262})))\n\t\t\t|| (this.check([0, 0, 0, 0, 0, 0], {offset: 257}) && tarHeaderChecksumMatches(this.buffer))) {\n\t\t\treturn {\n\t\t\t\text: 'tar',\n\t\t\t\tmime: 'application/x-tar',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xFF, 0xFE])) { // UTF-16-BOM-BE\n\t\t\tif (this.check([60, 0, 63, 0, 120, 0, 109, 0, 108, 0], {offset: 2})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'xml',\n\t\t\t\t\tmime: 'application/xml',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.check([0xFF, 0x0E, 0x53, 0x00, 0x6B, 0x00, 0x65, 0x00, 0x74, 0x00, 0x63, 0x00, 0x68, 0x00, 0x55, 0x00, 0x70, 0x00, 0x20, 0x00, 0x4D, 0x00, 0x6F, 0x00, 0x64, 0x00, 0x65, 0x00, 0x6C, 0x00], {offset: 2})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'skp',\n\t\t\t\t\tmime: 'application/vnd.sketchup.skp',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn undefined; // Some text based format\n\t\t}\n\n\t\tif (this.checkString('-----BEGIN PGP MESSAGE-----')) {\n\t\t\treturn {\n\t\t\t\text: 'pgp',\n\t\t\t\tmime: 'application/pgp-encrypted',\n\t\t\t};\n\t\t}\n\t};\n\t// Detections with limited supporting data, resulting in a higher likelihood of false positives\n\tdetectImprecise = async tokenizer => {\n\t\tthis.buffer = new Uint8Array(reasonableDetectionSizeInBytes);\n\n\t\t// Read initial sample size of 8 bytes\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: Math.min(8, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t\tif (\n\t\t\tthis.check([0x0, 0x0, 0x1, 0xBA])\n\t\t\t|| this.check([0x0, 0x0, 0x1, 0xB3])\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mpg',\n\t\t\t\tmime: 'video/mpeg',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x01, 0x00, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'ttf',\n\t\t\t\tmime: 'font/ttf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x00, 0x01, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'ico',\n\t\t\t\tmime: 'image/x-icon',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x00, 0x02, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'cur',\n\t\t\t\tmime: 'image/x-icon',\n\t\t\t};\n\t\t}\n\n\t\t// Adjust buffer to `mpegOffsetTolerance`\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: Math.min(2 + this.options.mpegOffsetTolerance, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t\t// Check MPEG 1 or 2 Layer 3 header, or 'layer 0' for ADTS (MPEG sync-word 0xFFE)\n\t\tif (this.buffer.length >= (2 + this.options.mpegOffsetTolerance)) {\n\t\t\tfor (let depth = 0; depth <= this.options.mpegOffsetTolerance; ++depth) {\n\t\t\t\tconst type = this.scanMpeg(depth);\n\t\t\t\tif (type) {\n\t\t\t\t\treturn type;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tasync readTiffTag(bigEndian) {\n\t\tconst tagId = await this.tokenizer.readToken(bigEndian ? Token.UINT16_BE : Token.UINT16_LE);\n\t\tthis.tokenizer.ignore(10);\n\t\tswitch (tagId) {\n\t\t\tcase 50_341:\n\t\t\t\treturn {\n\t\t\t\t\text: 'arw',\n\t\t\t\t\tmime: 'image/x-sony-arw',\n\t\t\t\t};\n\t\t\tcase 50_706:\n\t\t\t\treturn {\n\t\t\t\t\text: 'dng',\n\t\t\t\t\tmime: 'image/x-adobe-dng',\n\t\t\t\t};\n\t\t\tdefault:\n\t\t}\n\t}\n\n\tasync readTiffIFD(bigEndian) {\n\t\tconst numberOfTags = await this.tokenizer.readToken(bigEndian ? Token.UINT16_BE : Token.UINT16_LE);\n\t\tfor (let n = 0; n < numberOfTags; ++n) {\n\t\t\tconst fileType = await this.readTiffTag(bigEndian);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync readTiffHeader(bigEndian) {\n\t\tconst version = (bigEndian ? Token.UINT16_BE : Token.UINT16_LE).get(this.buffer, 2);\n\t\tconst ifdOffset = (bigEndian ? Token.UINT32_BE : Token.UINT32_LE).get(this.buffer, 4);\n\n\t\tif (version === 42) {\n\t\t\t// TIFF file header\n\t\t\tif (ifdOffset >= 6) {\n\t\t\t\tif (this.checkString('CR', {offset: 8})) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'cr2',\n\t\t\t\t\t\tmime: 'image/x-canon-cr2',\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (ifdOffset >= 8) {\n\t\t\t\t\tconst someId1 = (bigEndian ? Token.UINT16_BE : Token.UINT16_LE).get(this.buffer, 8);\n\t\t\t\t\tconst someId2 = (bigEndian ? Token.UINT16_BE : Token.UINT16_LE).get(this.buffer, 10);\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t(someId1 === 0x1C && someId2 === 0xFE)\n\t\t\t\t\t\t|| (someId1 === 0x1F && someId2 === 0x0B)) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'nef',\n\t\t\t\t\t\t\tmime: 'image/x-nikon-nef',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait this.tokenizer.ignore(ifdOffset);\n\t\t\tconst fileType = await this.readTiffIFD(bigEndian);\n\t\t\treturn fileType ?? {\n\t\t\t\text: 'tif',\n\t\t\t\tmime: 'image/tiff',\n\t\t\t};\n\t\t}\n\n\t\tif (version === 43) {\t// Big TIFF file header\n\t\t\treturn {\n\t\t\t\text: 'tif',\n\t\t\t\tmime: 'image/tiff',\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\tScan check MPEG 1 or 2 Layer 3 header, or 'layer 0' for ADTS (MPEG sync-word 0xFFE).\n\n\t@param offset - Offset to scan for sync-preamble.\n\t@returns {{ext: string, mime: string}}\n\t*/\n\tscanMpeg(offset) {\n\t\tif (this.check([0xFF, 0xE0], {offset, mask: [0xFF, 0xE0]})) {\n\t\t\tif (this.check([0x10], {offset: offset + 1, mask: [0x16]})) {\n\t\t\t\t// Check for (ADTS) MPEG-2\n\t\t\t\tif (this.check([0x08], {offset: offset + 1, mask: [0x08]})) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'aac',\n\t\t\t\t\t\tmime: 'audio/aac',\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Must be (ADTS) MPEG-4\n\t\t\t\treturn {\n\t\t\t\t\text: 'aac',\n\t\t\t\t\tmime: 'audio/aac',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// MPEG 1 or 2 Layer 3 header\n\t\t\t// Check for MPEG layer 3\n\t\t\tif (this.check([0x02], {offset: offset + 1, mask: [0x06]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp3',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Check for MPEG layer 2\n\t\t\tif (this.check([0x04], {offset: offset + 1, mask: [0x06]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp2',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Check for MPEG layer 1\n\t\t\tif (this.check([0x06], {offset: offset + 1, mask: [0x06]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp1',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport const supportedExtensions = new Set(extensions);\nexport const supportedMimeTypes = new Set(mimeTypes);\n","export const extensions = [\n\t'jpg',\n\t'png',\n\t'apng',\n\t'gif',\n\t'webp',\n\t'flif',\n\t'xcf',\n\t'cr2',\n\t'cr3',\n\t'orf',\n\t'arw',\n\t'dng',\n\t'nef',\n\t'rw2',\n\t'raf',\n\t'tif',\n\t'bmp',\n\t'icns',\n\t'jxr',\n\t'psd',\n\t'indd',\n\t'zip',\n\t'tar',\n\t'rar',\n\t'gz',\n\t'bz2',\n\t'7z',\n\t'dmg',\n\t'mp4',\n\t'mid',\n\t'mkv',\n\t'webm',\n\t'mov',\n\t'avi',\n\t'mpg',\n\t'mp2',\n\t'mp3',\n\t'm4a',\n\t'oga',\n\t'ogg',\n\t'ogv',\n\t'opus',\n\t'flac',\n\t'wav',\n\t'spx',\n\t'amr',\n\t'pdf',\n\t'epub',\n\t'elf',\n\t'macho',\n\t'exe',\n\t'swf',\n\t'rtf',\n\t'wasm',\n\t'woff',\n\t'woff2',\n\t'eot',\n\t'ttf',\n\t'otf',\n\t'ttc',\n\t'ico',\n\t'flv',\n\t'ps',\n\t'xz',\n\t'sqlite',\n\t'nes',\n\t'crx',\n\t'xpi',\n\t'cab',\n\t'deb',\n\t'ar',\n\t'rpm',\n\t'Z',\n\t'lz',\n\t'cfb',\n\t'mxf',\n\t'mts',\n\t'blend',\n\t'bpg',\n\t'docx',\n\t'pptx',\n\t'xlsx',\n\t'3gp',\n\t'3g2',\n\t'j2c',\n\t'jp2',\n\t'jpm',\n\t'jpx',\n\t'mj2',\n\t'aif',\n\t'qcp',\n\t'odt',\n\t'ods',\n\t'odp',\n\t'xml',\n\t'mobi',\n\t'heic',\n\t'cur',\n\t'ktx',\n\t'ape',\n\t'wv',\n\t'dcm',\n\t'ics',\n\t'glb',\n\t'pcap',\n\t'dsf',\n\t'lnk',\n\t'alias',\n\t'voc',\n\t'ac3',\n\t'm4v',\n\t'm4p',\n\t'm4b',\n\t'f4v',\n\t'f4p',\n\t'f4b',\n\t'f4a',\n\t'mie',\n\t'asf',\n\t'ogm',\n\t'ogx',\n\t'mpc',\n\t'arrow',\n\t'shp',\n\t'aac',\n\t'mp1',\n\t'it',\n\t's3m',\n\t'xm',\n\t'skp',\n\t'avif',\n\t'eps',\n\t'lzh',\n\t'pgp',\n\t'asar',\n\t'stl',\n\t'chm',\n\t'3mf',\n\t'zst',\n\t'jxl',\n\t'vcf',\n\t'jls',\n\t'pst',\n\t'dwg',\n\t'parquet',\n\t'class',\n\t'arj',\n\t'cpio',\n\t'ace',\n\t'avro',\n\t'icc',\n\t'fbx',\n\t'vsdx',\n\t'vtt',\n\t'apk',\n\t'drc',\n\t'lz4',\n\t'potx',\n\t'xltx',\n\t'dotx',\n\t'xltm',\n\t'ott',\n\t'ots',\n\t'otp',\n\t'odg',\n\t'otg',\n\t'xlsm',\n\t'docm',\n\t'dotm',\n\t'potm',\n\t'pptm',\n\t'jar',\n\t'rm',\n\t'ppsm',\n\t'ppsx',\n];\n\nexport const mimeTypes = [\n\t'image/jpeg',\n\t'image/png',\n\t'image/gif',\n\t'image/webp',\n\t'image/flif',\n\t'image/x-xcf',\n\t'image/x-canon-cr2',\n\t'image/x-canon-cr3',\n\t'image/tiff',\n\t'image/bmp',\n\t'image/vnd.ms-photo',\n\t'image/vnd.adobe.photoshop',\n\t'application/x-indesign',\n\t'application/epub+zip',\n\t'application/x-xpinstall',\n\t'application/vnd.ms-powerpoint.slideshow.macroenabled.12',\n\t'application/vnd.oasis.opendocument.text',\n\t'application/vnd.oasis.opendocument.spreadsheet',\n\t'application/vnd.oasis.opendocument.presentation',\n\t'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n\t'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n\t'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n\t'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n\t'application/zip',\n\t'application/x-tar',\n\t'application/x-rar-compressed',\n\t'application/gzip',\n\t'application/x-bzip2',\n\t'application/x-7z-compressed',\n\t'application/x-apple-diskimage',\n\t'application/vnd.apache.arrow.file',\n\t'video/mp4',\n\t'audio/midi',\n\t'video/matroska',\n\t'video/webm',\n\t'video/quicktime',\n\t'video/vnd.avi',\n\t'audio/wav',\n\t'audio/qcelp',\n\t'audio/x-ms-asf',\n\t'video/x-ms-asf',\n\t'application/vnd.ms-asf',\n\t'video/mpeg',\n\t'video/3gpp',\n\t'audio/mpeg',\n\t'audio/mp4', // RFC 4337\n\t'video/ogg',\n\t'audio/ogg',\n\t'audio/ogg; codecs=opus',\n\t'application/ogg',\n\t'audio/flac',\n\t'audio/ape',\n\t'audio/wavpack',\n\t'audio/amr',\n\t'application/pdf',\n\t'application/x-elf',\n\t'application/x-mach-binary',\n\t'application/x-msdownload',\n\t'application/x-shockwave-flash',\n\t'application/rtf',\n\t'application/wasm',\n\t'font/woff',\n\t'font/woff2',\n\t'application/vnd.ms-fontobject',\n\t'font/ttf',\n\t'font/otf',\n\t'font/collection',\n\t'image/x-icon',\n\t'video/x-flv',\n\t'application/postscript',\n\t'application/eps',\n\t'application/x-xz',\n\t'application/x-sqlite3',\n\t'application/x-nintendo-nes-rom',\n\t'application/x-google-chrome-extension',\n\t'application/vnd.ms-cab-compressed',\n\t'application/x-deb',\n\t'application/x-unix-archive',\n\t'application/x-rpm',\n\t'application/x-compress',\n\t'application/x-lzip',\n\t'application/x-cfb',\n\t'application/x-mie',\n\t'application/mxf',\n\t'video/mp2t',\n\t'application/x-blender',\n\t'image/bpg',\n\t'image/j2c',\n\t'image/jp2',\n\t'image/jpx',\n\t'image/jpm',\n\t'image/mj2',\n\t'audio/aiff',\n\t'application/xml',\n\t'application/x-mobipocket-ebook',\n\t'image/heif',\n\t'image/heif-sequence',\n\t'image/heic',\n\t'image/heic-sequence',\n\t'image/icns',\n\t'image/ktx',\n\t'application/dicom',\n\t'audio/x-musepack',\n\t'text/calendar',\n\t'text/vcard',\n\t'text/vtt',\n\t'model/gltf-binary',\n\t'application/vnd.tcpdump.pcap',\n\t'audio/x-dsf', // Non-standard\n\t'application/x.ms.shortcut', // Invented by us\n\t'application/x.apple.alias', // Invented by us\n\t'audio/x-voc',\n\t'audio/vnd.dolby.dd-raw',\n\t'audio/x-m4a',\n\t'image/apng',\n\t'image/x-olympus-orf',\n\t'image/x-sony-arw',\n\t'image/x-adobe-dng',\n\t'image/x-nikon-nef',\n\t'image/x-panasonic-rw2',\n\t'image/x-fujifilm-raf',\n\t'video/x-m4v',\n\t'video/3gpp2',\n\t'application/x-esri-shape',\n\t'audio/aac',\n\t'audio/x-it',\n\t'audio/x-s3m',\n\t'audio/x-xm',\n\t'video/MP1S',\n\t'video/MP2P',\n\t'application/vnd.sketchup.skp',\n\t'image/avif',\n\t'application/x-lzh-compressed',\n\t'application/pgp-encrypted',\n\t'application/x-asar',\n\t'model/stl',\n\t'application/vnd.ms-htmlhelp',\n\t'model/3mf',\n\t'image/jxl',\n\t'application/zstd',\n\t'image/jls',\n\t'application/vnd.ms-outlook',\n\t'image/vnd.dwg',\n\t'application/vnd.apache.parquet',\n\t'application/java-vm',\n\t'application/x-arj',\n\t'application/x-cpio',\n\t'application/x-ace-compressed',\n\t'application/avro',\n\t'application/vnd.iccprofile',\n\t'application/x.autodesk.fbx', // Invented by us\n\t'application/vnd.visio',\n\t'application/vnd.android.package-archive',\n\t'application/vnd.google.draco', // Invented by us\n\t'application/x-lz4', // Invented by us\n\t'application/vnd.openxmlformats-officedocument.presentationml.template',\n\t'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n\t'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n\t'application/vnd.ms-excel.template.macroenabled.12',\n\t'application/vnd.oasis.opendocument.text-template',\n\t'application/vnd.oasis.opendocument.spreadsheet-template',\n\t'application/vnd.oasis.opendocument.presentation-template',\n\t'application/vnd.oasis.opendocument.graphics',\n\t'application/vnd.oasis.opendocument.graphics-template',\n\t'application/vnd.ms-excel.sheet.macroenabled.12',\n\t'application/vnd.ms-word.document.macroenabled.12',\n\t'application/vnd.ms-word.template.macroenabled.12',\n\t'application/vnd.ms-powerpoint.template.macroenabled.12',\n\t'application/vnd.ms-powerpoint.presentation.macroenabled.12',\n\t'application/java-archive',\n\t'application/vnd.rn-realmedia',\n];\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach((key) => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data.arrayBuffer().then(toArray).then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, (encoded) => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE, } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType),\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType),\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1),\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type],\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET, } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, (encodedPacket) => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, (encodedPacket) => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        },\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* State.READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* State.READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* State.READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* State.READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* State.READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* State.READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else if (state === 2 /* State.READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* State.READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        },\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload, };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\nexport const defaultBinaryType = \"arraybuffer\";\nexport function createCookieJar() { }\n","import { globalThisShim as globalThis } from \"./globals.node.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n/**\n * Generates a random 8-characters string.\n */\nexport function randomString() {\n    return (Date.now().toString(36).substring(3) +\n        Math.random().toString(36).substring(2, 5));\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","import { Transport } from \"../transport.js\";\nimport { randomString } from \"../util.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nexport class Polling extends Transport {\n    constructor() {\n        super(...arguments);\n        this._polling = false;\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this._poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this._polling || !this.writable) {\n            let total = 0;\n            if (this._polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    _poll() {\n        this._polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this._polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this._poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","import { Polling } from \"./polling.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globals.node.js\";\nimport { hasCORS } from \"../contrib/has-cors.js\";\nfunction empty() { }\nexport class BaseXHR extends Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(createRequest, uri, opts) {\n        super();\n        this.createRequest = createRequest;\n        installTimerFunctions(this, opts);\n        this._opts = opts;\n        this._method = opts.method || \"GET\";\n        this._uri = uri;\n        this._data = undefined !== opts.data ? opts.data : null;\n        this._create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    _create() {\n        var _a;\n        const opts = pick(this._opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this._opts.xd;\n        const xhr = (this._xhr = this.createRequest(opts));\n        try {\n            xhr.open(this._method, this._uri, true);\n            try {\n                if (this._opts.extraHeaders) {\n                    // @ts-ignore\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this._opts.extraHeaders) {\n                        if (this._opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this._opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this._method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this._opts.withCredentials;\n            }\n            if (this._opts.requestTimeout) {\n                xhr.timeout = this._opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(\n                    // @ts-ignore\n                    xhr.getResponseHeader(\"set-cookie\"));\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this._onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this._onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this._data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this._onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this._index = Request.requestsCount++;\n            Request.requests[this._index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    _onError(err) {\n        this.emitReserved(\"error\", err, this._xhr);\n        this._cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    _cleanup(fromError) {\n        if (\"undefined\" === typeof this._xhr || null === this._xhr) {\n            return;\n        }\n        this._xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this._xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this._index];\n        }\n        this._xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    _onLoad() {\n        const data = this._xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this._cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this._cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\nconst hasXHR2 = (function () {\n    const xhr = newRequest({\n        xdomain: false,\n    });\n    return xhr && xhr.responseType !== null;\n})();\n/**\n * HTTP long-polling based on the built-in `XMLHttpRequest` object.\n *\n * Usage: browser\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n */\nexport class XHR extends BaseXHR {\n    constructor(opts) {\n        super(opts);\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd }, this.opts);\n        return new Request(newRequest, this.uri(), opts);\n    }\n}\nfunction newRequest(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { pick, randomString } from \"../util.js\";\nimport { encodePacket } from \"engine.io-parser\";\nimport { globalThisShim as globalThis, nextTick } from \"../globals.node.js\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class BaseWS extends Transport {\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws = this.createSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    this.doWrite(packet, data);\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.onerror = () => { };\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\nconst WebSocketCtor = globalThis.WebSocket || globalThis.MozWebSocket;\n/**\n * WebSocket transport based on the built-in `WebSocket` object.\n *\n * Usage: browser, Node.js (since v21), Deno, Bun\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n * @see https://caniuse.com/mdn-api_websocket\n * @see https://nodejs.org/api/globals.html#websocket\n */\nexport class WS extends BaseWS {\n    createSocket(uri, protocols, opts) {\n        return !isReactNative\n            ? protocols\n                ? new WebSocketCtor(uri, protocols)\n                : new WebSocketCtor(uri)\n            : new WebSocketCtor(uri, protocols, opts);\n    }\n    doWrite(_packet, data) {\n        this.ws.send(data);\n    }\n}\n","import { XHR } from \"./polling-xhr.node.js\";\nimport { WS } from \"./websocket.node.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: XHR,\n};\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"../globals.node.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\n/**\n * WebTransport transport based on the built-in `WebTransport` object.\n *\n * Usage: browser, Node.js (with the `@fails-components/webtransport` package)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebTransport\n * @see https://caniuse.com/webtransport\n */\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        try {\n            // @ts-ignore\n            this._transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this._transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this._transport.ready.then(() => {\n            this._transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this._writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this._writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this._writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this._transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 8000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports as DEFAULT_TRANSPORTS } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { createCookieJar, defaultBinaryType, nextTick, } from \"./globals.node.js\";\nconst withEventListeners = typeof addEventListener === \"function\" &&\n    typeof removeEventListener === \"function\";\nconst OFFLINE_EVENT_LISTENERS = [];\nif (withEventListeners) {\n    // within a ServiceWorker, any event handler for the 'offline' event must be added on the initial evaluation of the\n    // script, so we create one single event listener here which will forward the event to the socket instances\n    addEventListener(\"offline\", () => {\n        OFFLINE_EVENT_LISTENERS.forEach((listener) => listener());\n    }, false);\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes without upgrade mechanism, which means that it will keep the first low-level transport that\n * successfully establishes the connection.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithoutUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithoutUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithUpgrade\n * @see Socket\n */\nexport class SocketWithoutUpgrade extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        this._prevBufferLen = 0;\n        this._pingInterval = -1;\n        this._pingTimeout = -1;\n        this._maxPayload = -1;\n        /**\n         * The expiration timestamp of the {@link _pingTimeoutTimer} object is tracked, in case the timer is throttled and the\n         * callback is not fired on time. This can happen for example when a laptop is suspended or when a phone is locked.\n         */\n        this._pingTimeoutTime = Infinity;\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            const parsedUri = parse(uri);\n            opts.hostname = parsedUri.host;\n            opts.secure =\n                parsedUri.protocol === \"https\" || parsedUri.protocol === \"wss\";\n            opts.port = parsedUri.port;\n            if (parsedUri.query)\n                opts.query = parsedUri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = [];\n        this._transportsByName = {};\n        opts.transports.forEach((t) => {\n            const transportName = t.prototype.name;\n            this.transports.push(transportName);\n            this._transportsByName[transportName] = t;\n        });\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        if (withEventListeners) {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this._beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this._offlineEventListener = () => {\n                    this._onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener);\n            }\n        }\n        if (this.opts.withCredentials) {\n            this._cookieJar = createCookieJar();\n        }\n        this._open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new this._transportsByName[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    _open() {\n        if (this.transports.length === 0) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        const transportName = this.opts.rememberUpgrade &&\n            SocketWithoutUpgrade.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1\n            ? \"websocket\"\n            : this.transports[0];\n        this.readyState = \"opening\";\n        const transport = this.createTransport(transportName);\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this._onDrain.bind(this))\n            .on(\"packet\", this._onPacket.bind(this))\n            .on(\"error\", this._onError.bind(this))\n            .on(\"close\", (reason) => this._onClose(\"transport close\", reason));\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        SocketWithoutUpgrade.priorWebsocketSuccess =\n            \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    _onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this._sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    this._resetPingTimeout();\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this._onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this._pingInterval = data.pingInterval;\n        this._pingTimeout = data.pingTimeout;\n        this._maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this._resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    _resetPingTimeout() {\n        this.clearTimeoutFn(this._pingTimeoutTimer);\n        const delay = this._pingInterval + this._pingTimeout;\n        this._pingTimeoutTime = Date.now() + delay;\n        this._pingTimeoutTimer = this.setTimeoutFn(() => {\n            this._onClose(\"ping timeout\");\n        }, delay);\n        if (this.opts.autoUnref) {\n            this._pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    _onDrain() {\n        this.writeBuffer.splice(0, this._prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this._prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this._getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this._prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    _getWritablePackets() {\n        const shouldCheckPayloadSize = this._maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this._maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Checks whether the heartbeat timer has expired but the socket has not yet been notified.\n     *\n     * Note: this method is private for now because it does not really fit the WebSocket API, but if we put it in the\n     * `write()` method then the message would not be buffered by the Socket.IO client.\n     *\n     * @return {boolean}\n     * @private\n     */\n    /* private */ _hasPingExpired() {\n        if (!this._pingTimeoutTime)\n            return true;\n        const hasExpired = Date.now() > this._pingTimeoutTime;\n        if (hasExpired) {\n            this._pingTimeoutTime = 0;\n            nextTick(() => {\n                this._onClose(\"ping timeout\");\n            }, this.setTimeoutFn);\n        }\n        return hasExpired;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a message. Alias of {@link Socket#write}.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    send(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    _sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this._onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    _onError(err) {\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        if (this.opts.tryAllTransports &&\n            this.transports.length > 1 &&\n            this.readyState === \"opening\") {\n            this.transports.shift();\n            return this._open();\n        }\n        this.emitReserved(\"error\", err);\n        this._onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    _onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this._pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (withEventListeners) {\n                if (this._beforeunloadEventListener) {\n                    removeEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n                }\n                if (this._offlineEventListener) {\n                    const i = OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);\n                    if (i !== -1) {\n                        OFFLINE_EVENT_LISTENERS.splice(i, 1);\n                    }\n                }\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this._prevBufferLen = 0;\n        }\n    }\n}\nSocketWithoutUpgrade.protocol = protocol;\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see Socket\n */\nexport class SocketWithUpgrade extends SocketWithoutUpgrade {\n    constructor() {\n        super(...arguments);\n        this._upgrades = [];\n    }\n    onOpen() {\n        super.onOpen();\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            for (let i = 0; i < this._upgrades.length; i++) {\n                this._probe(this._upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    _probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    SocketWithoutUpgrade.priorWebsocketSuccess =\n                        \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this._upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    onHandshake(data) {\n        this._upgrades = this._filterUpgrades(data.upgrades);\n        super.onHandshake(data);\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    _filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        for (let i = 0; i < upgrades.length; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * @example\n * import { Socket } from \"engine.io-client\";\n *\n * const socket = new Socket();\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see SocketWithUpgrade\n */\nexport class Socket extends SocketWithUpgrade {\n    constructor(uri, opts = {}) {\n        const o = typeof uri === \"object\" ? uri : opts;\n        if (!o.transports ||\n            (o.transports && typeof o.transports[0] === \"string\")) {\n            o.transports = (o.transports || [\"polling\", \"websocket\", \"webtransport\"])\n                .map((transportName) => DEFAULT_TRANSPORTS[transportName])\n                .filter((t) => !!t);\n        }\n        super(uri, o);\n    }\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        /**\n         * A map containing acknowledgement handlers.\n         *\n         * The `withError` attribute is used to differentiate handlers that accept an error as first argument:\n         *\n         * - `socket.emit(\"test\", (err, value) => { ... })` with `ackTimeout` option\n         * - `socket.timeout(5000).emit(\"test\", (err, value) => { ... })`\n         * - `const value = await socket.emitWithAck(\"test\")`\n         *\n         * From those that don't:\n         *\n         * - `socket.emit(\"test\", (value) => { ... });`\n         *\n         * In the first case, the handlers will be called with an error when:\n         *\n         * - the timeout is reached\n         * - the socket gets disconnected\n         *\n         * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive\n         * an acknowledgement from the server.\n         *\n         * @private\n         */\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        var _a, _b, _c;\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;\n        const isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());\n        const discardPacket = this.flags.volatile && !isTransportWritable;\n        if (discardPacket) {\n        }\n        else if (isConnected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        const fn = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, args);\n        };\n        fn.withError = true;\n        this.acks[id] = fn;\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        return new Promise((resolve, reject) => {\n            const fn = (arg1, arg2) => {\n                return arg1 ? reject(arg1) : resolve(arg2);\n            };\n            fn.withError = true;\n            args.push(fn);\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n        this._clearAcks();\n    }\n    /**\n     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from\n     * the server.\n     *\n     * @private\n     */\n    _clearAcks() {\n        Object.keys(this.acks).forEach((id) => {\n            const isBuffered = this.sendBuffer.some((packet) => String(packet.id) === id);\n            if (!isBuffered) {\n                // note: handlers that do not accept an error as first argument are ignored here\n                const ack = this.acks[id];\n                delete this.acks[id];\n                if (ack.withError) {\n                    ack.call(this, new Error(\"socket has been disconnected\"));\n                }\n            }\n        });\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowledgement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (typeof ack !== \"function\") {\n            return;\n        }\n        delete this.acks[packet.id];\n        // @ts-ignore FIXME ack is incorrectly inferred as 'never'\n        if (ack.withError) {\n            packet.data.unshift(null);\n        }\n        // @ts-ignore\n        ack.apply(this, packet.data);\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        if (!v) {\n            this.skipReconnect = true;\n        }\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), \n        // @ts-ignore\n        on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called when:\n     *\n     * - the low-level engine is closed\n     * - the parser encountered a badly formatted packet\n     * - all sockets are disconnected\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        var _a;\n        this.cleanup();\n        (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\nexport { Fetch, NodeXHR, XHR, NodeWebSocket, WebSocket, WebTransport, } from \"engine.io-client\";\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","import axios, { AxiosInstance } from 'axios';\nimport { Client, PrivateKey, TransferTransaction } from '@hashgraph/sdk';\nimport { Logger } from './logger';\nimport {\n  InscriptionSDKConfig,\n  StartInscriptionRequest,\n  ImageJobResponse,\n  ValidationError,\n  FileMetadata,\n  FileInput,\n  HederaClientConfig,\n  InscriptionResult,\n  InscriptionNumbersParams,\n  InscriptionNumberDetails,\n  RetrievedInscriptionResult,\n  HolderInscriptionsParams,\n  HolderInscriptionsResponse,\n} from './types';\nimport { DAppSigner } from '@hashgraph/hedera-wallet-connect';\nimport { Auth, AuthConfig, AuthResult } from './auth';\nimport { detectKeyTypeFromString } from './hedera/key-type-detector';\nimport { HederaMirrorNode } from './hedera/mirror-node';\nimport { ClientAuth } from './client-auth';\nimport * as fileType from 'file-type';\nimport { io, Socket } from 'socket.io-client';\n\nexport interface RegistrationProgressData {\n  stage: 'preparing' | 'submitting' | 'confirming' | 'completed' | 'verifying';\n  message: string;\n  progressPercent?: number;\n  details?: Record<string, any>;\n}\n\nexport type RegistrationProgressCallback = (\n  data: RegistrationProgressData\n) => void;\n\nexport class InscriptionSDK {\n  private readonly client: AxiosInstance;\n  private readonly config: InscriptionSDKConfig;\n  private readonly logger = Logger.getInstance();\n  private socket: Socket | null = null;\n  private socketConnected: boolean = false;\n  private connectionMode: 'http' | 'websocket' | 'auto' = 'auto';\n  private wsBaseUrl: string | null = null;\n  private static readonly VALID_MODES = [\n    'file',\n    'upload',\n    'hashinal',\n    'hashinal-collection',\n  ] as const;\n  private static readonly MAX_BASE64_SIZE = 2 * 1024 * 1024;\n  private static readonly MAX_URL_FILE_SIZE = 100 * 1024 * 1024;\n  private static readonly VALID_MIME_TYPES: Record<string, string> = {\n    jpg: 'image/jpeg',\n    jpeg: 'image/jpeg',\n    png: 'image/png',\n    gif: 'image/gif',\n    ico: 'image/x-icon',\n    heic: 'image/heic',\n    heif: 'image/heif',\n    bmp: 'image/bmp',\n    webp: 'image/webp',\n    tiff: 'image/tiff',\n    tif: 'image/tiff',\n    svg: 'image/svg+xml',\n    mp4: 'video/mp4',\n    webm: 'video/webm',\n    mp3: 'audio/mpeg',\n    pdf: 'application/pdf',\n    doc: 'application/msword',\n    docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n    xls: 'application/vnd.ms-excel',\n    xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n    ppt: 'application/vnd.ms-powerpoint',\n    pptx: 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n    html: 'text/html',\n    htm: 'text/html',\n    css: 'text/css',\n    php: 'application/x-httpd-php',\n    java: 'text/x-java-source',\n    js: 'application/javascript',\n    mjs: 'application/javascript',\n    csv: 'text/csv',\n    json: 'application/json',\n    txt: 'text/plain',\n    glb: 'model/gltf-binary',\n    wav: 'audio/wav',\n    ogg: 'audio/ogg',\n    oga: 'audio/ogg',\n    flac: 'audio/flac',\n    aac: 'audio/aac',\n    m4a: 'audio/mp4',\n    avi: 'video/x-msvideo',\n    mov: 'video/quicktime',\n    mkv: 'video/x-matroska',\n    m4v: 'video/mp4',\n    mpg: 'video/mpeg',\n    mpeg: 'video/mpeg',\n    ts: 'application/typescript',\n    zip: 'application/zip',\n    rar: 'application/vnd.rar',\n    tar: 'application/x-tar',\n    gz: 'application/gzip',\n    '7z': 'application/x-7z-compressed',\n    xml: 'application/xml',\n    yaml: 'application/yaml',\n    yml: 'application/yaml',\n    md: 'text/markdown',\n    markdown: 'text/markdown',\n    rtf: 'application/rtf',\n    gltf: 'model/gltf+json',\n    usdz: 'model/vnd.usdz+zip',\n    obj: 'model/obj',\n    stl: 'model/stl',\n    fbx: 'application/octet-stream',\n    ttf: 'font/ttf',\n    otf: 'font/otf',\n    woff: 'font/woff',\n    woff2: 'font/woff2',\n    eot: 'application/vnd.ms-fontobject',\n    psd: 'application/vnd.adobe.photoshop',\n    ai: 'application/postscript',\n    eps: 'application/postscript',\n    ps: 'application/postscript',\n    sqlite: 'application/x-sqlite3',\n    db: 'application/x-sqlite3',\n    apk: 'application/vnd.android.package-archive',\n    ics: 'text/calendar',\n    vcf: 'text/vcard',\n    py: 'text/x-python',\n    rb: 'text/x-ruby',\n    go: 'text/x-go',\n    rs: 'text/x-rust',\n    typescript: 'application/typescript',\n    jsx: 'text/jsx',\n    tsx: 'text/tsx',\n    sql: 'application/sql',\n    toml: 'application/toml',\n    avif: 'image/avif',\n    jxl: 'image/jxl',\n    weba: 'audio/webm',\n    wasm: 'application/wasm',\n  };\n\n  constructor(config: InscriptionSDKConfig) {\n    this.config = config;\n\n    if (!config.apiKey) {\n      throw new ValidationError('API key is required');\n    }\n\n    if (!config.network) {\n      throw new ValidationError('Network is required');\n    }\n\n    const headers = {\n      'x-api-key': config.apiKey,\n      'Content-Type': 'application/json',\n    };\n\n    this.client = axios.create({\n      baseURL: 'https://v2-api.tier.bot/api',\n      headers,\n    });\n    this.logger = Logger.getInstance();\n\n    if (config.wsBaseUrl) {\n      this.wsBaseUrl = config.wsBaseUrl;\n    }\n\n    this.connectionMode = config.connectionMode || 'websocket';\n\n    if (!this.wsBaseUrl && this.connectionMode !== 'http') {\n      this.fetchWebSocketServers().catch((err) =>\n        this.logger.warn('Failed to fetch WebSocket servers:', err)\n      );\n    }\n  }\n\n  private async getFileMetadata(url: string): Promise<FileMetadata> {\n    try {\n      const response = await axios.get(url);\n      const mimeType = response.headers['content-type'] || '';\n\n      return {\n        size: parseInt(response.headers['content-length'] || '0', 10),\n        mimeType: mimeType,\n      };\n    } catch (error) {\n      this.logger.error('Error fetching file metadata:', error);\n      throw new ValidationError('Unable to fetch file metadata');\n    }\n  }\n\n  /**\n   * Gets the MIME type for a file based on its extension.\n   * @param fileName - The name of the file.\n   * @returns The MIME type of the file.\n   * @throws ValidationError if the file has no extension.\n   */\n  private getMimeType(fileName: string): string {\n    const extension = fileName.toLowerCase().split('.').pop();\n    if (!extension) {\n      throw new ValidationError('File must have an extension');\n    }\n\n    const mimeType =\n      InscriptionSDK.VALID_MIME_TYPES[\n        extension as keyof typeof InscriptionSDK.VALID_MIME_TYPES\n      ];\n    if (!mimeType) {\n      throw new ValidationError(`Unsupported file type: ${extension}`);\n    }\n\n    return mimeType;\n  }\n\n  /**\n   * Validates the request object.\n   * @param request - The request object to validate.\n   * @throws ValidationError if the request is invalid.\n   */\n  private validateRequest(request: StartInscriptionRequest): void {\n    this.logger.debug('Validating request:', request);\n    if (!request.holderId || request.holderId.trim() === '') {\n      this.logger.warn('holderId is missing or empty');\n      throw new ValidationError('holderId is required');\n    }\n\n    if (!InscriptionSDK.VALID_MODES.includes(request.mode)) {\n      throw new ValidationError(\n        `Invalid mode: ${\n          request.mode\n        }. Must be one of: ${InscriptionSDK.VALID_MODES.join(', ')}`\n      );\n    }\n\n    if (request.mode === 'hashinal') {\n      if (!request.jsonFileURL && !request.metadataObject) {\n        throw new ValidationError(\n          'Hashinal mode requires either jsonFileURL or metadataObject'\n        );\n      }\n    }\n\n    if (request.onlyJSONCollection && request.mode !== 'hashinal-collection') {\n      throw new ValidationError(\n        'onlyJSONCollection can only be used with hashinal-collection mode'\n      );\n    }\n\n    this.validateFileInput(request.file);\n  }\n\n  /**\n   * Normalizes the MIME type to a standard format.\n   * @param mimeType - The MIME type to normalize.\n   * @returns The normalized MIME type.\n   */\n  private normalizeMimeType(mimeType: string): string {\n    if (mimeType === 'image/vnd.microsoft.icon') {\n      this.logger.debug(\n        'Normalizing MIME type from image/vnd.microsoft.icon to image/x-icon'\n      );\n      return 'image/x-icon';\n    }\n    return mimeType;\n  }\n\n  private validateMimeType(mimeType: string): boolean {\n    const validMimeTypes = Object.values(InscriptionSDK.VALID_MIME_TYPES);\n\n    if (validMimeTypes.includes(mimeType)) {\n      return true;\n    }\n\n    if (mimeType === 'image/vnd.microsoft.icon') {\n      this.logger.debug(\n        'Accepting alternative MIME type for ICO: image/vnd.microsoft.icon'\n      );\n      return true;\n    }\n\n    return false;\n  }\n\n  private validateFileInput(file: FileInput): void {\n    if (file.type === 'base64') {\n      if (!file.base64) {\n        throw new ValidationError('Base64 data is required');\n      }\n\n      const base64Data = file.base64.replace(/^data:.*?;base64,/, '');\n      const size = Math.ceil(base64Data.length * 0.75);\n      if (size > InscriptionSDK.MAX_BASE64_SIZE) {\n        throw new ValidationError(\n          `File size exceeds maximum limit of ${\n            InscriptionSDK.MAX_BASE64_SIZE / 1024 / 1024\n          }MB`\n        );\n      }\n\n      const mimeType = file.mimeType || this.getMimeType(file.fileName);\n\n      if (!this.validateMimeType(mimeType)) {\n        throw new ValidationError(\n          'File must have one of the supported MIME types'\n        );\n      }\n\n      if (file.mimeType === 'image/vnd.microsoft.icon') {\n        file.mimeType = this.normalizeMimeType(file.mimeType);\n      }\n    } else if (file.type === 'url') {\n      if (!file.url) {\n        throw new ValidationError('URL is required');\n      }\n    }\n  }\n\n  private async detectMimeTypeFromBase64(base64Data: string): Promise<string> {\n    if (base64Data.startsWith('data:')) {\n      const matches = base64Data.match(/^data:([^;]+);base64,/);\n      if (matches && matches.length > 1) {\n        return matches[1];\n      }\n    }\n\n    try {\n      const sanitizedBase64 = base64Data.replace(/\\s/g, '');\n      const buffer = Buffer.from(sanitizedBase64, 'base64');\n\n      const typeResult = await fileType.fileTypeFromBuffer(buffer);\n      return typeResult?.mime || 'application/octet-stream';\n    } catch (err) {\n      this.logger.warn('Failed to detect MIME type from buffer');\n      return 'application/octet-stream';\n    }\n  }\n\n  /**\n   * Starts an inscription and returns the transaction bytes.\n   * @param request - The request object containing the file to inscribe and the client configuration\n   * @returns The transaction bytes of the started inscription\n   * @throws ValidationError if the request is invalid\n   * @throws Error if the inscription fails\n   */\n  async startInscription(\n    request: StartInscriptionRequest\n  ): Promise<ImageJobResponse> {\n    try {\n      this.validateRequest(request);\n\n      let mimeType = request.file.mimeType;\n\n      if (request.file.type === 'url') {\n        const fileMetadata = await this.getFileMetadata(request.file.url);\n        mimeType = fileMetadata.mimeType || mimeType;\n\n        if (fileMetadata.size > InscriptionSDK.MAX_URL_FILE_SIZE) {\n          throw new ValidationError(\n            `File size exceeds maximum URL file limit of ${\n              InscriptionSDK.MAX_URL_FILE_SIZE / 1024 / 1024\n            }MB`\n          );\n        }\n      } else if (request.file.type === 'base64') {\n        mimeType = await this.detectMimeTypeFromBase64(request.file.base64);\n      }\n\n      if (mimeType === 'image/vnd.microsoft.icon') {\n        mimeType = this.normalizeMimeType(mimeType);\n      }\n\n      if (request.jsonFileURL) {\n        const jsonMetadata = await this.getFileMetadata(request.jsonFileURL);\n        if (jsonMetadata.mimeType !== 'application/json') {\n          throw new ValidationError(\n            'JSON file must be of type application/json'\n          );\n        }\n      }\n\n      const requestBody = {\n        holderId: request.holderId,\n        mode: request.mode,\n        network: this.config.network,\n        onlyJSONCollection: request.onlyJSONCollection ? 1 : 0,\n        creator: request.creator,\n        description: request.description,\n        fileStandard: request.fileStandard,\n        metadataObject: request.metadataObject,\n        jsonFileURL: request.jsonFileURL,\n      };\n\n      let response;\n      if (request.file.type === 'url') {\n        response = await this.client.post('/inscriptions/start-inscription', {\n          ...requestBody,\n          fileURL: request.file.url,\n        });\n      } else {\n        response = await this.client.post('/inscriptions/start-inscription', {\n          ...requestBody,\n          fileBase64: request.file.base64,\n          fileName: request.file.fileName,\n          fileMimeType: mimeType || this.getMimeType(request.file.fileName),\n        });\n      }\n      return response.data;\n    } catch (error) {\n      if (error instanceof ValidationError) {\n        throw error;\n      }\n\n      if (axios.isAxiosError(error)) {\n        throw new Error(\n          error.response?.data?.message || 'Failed to start inscription'\n        );\n      }\n\n      throw error;\n    }\n  }\n\n  /**\n   * Executes a transaction with the provided transaction bytes,\n   * typically called after inscribing a file through `startInscription`.\n   * @param transactionBytes - The bytes of the transaction to execute.\n   * @param clientConfig - The configuration for the Hedera client.\n   * @returns The transaction receipt.\n   * @throws ValidationError if the transaction bytes are invalid.\n   * @throws Error if the execution fails.\n   */\n  async executeTransaction(\n    transactionBytes: string,\n    clientConfig: HederaClientConfig\n  ): Promise<string> {\n    try {\n      const client =\n        clientConfig.network === 'mainnet'\n          ? Client.forMainnet()\n          : Client.forTestnet();\n\n      const mirrorNode = new HederaMirrorNode(clientConfig.network);\n      const account = await mirrorNode.requestAccount(clientConfig.accountId);\n      const type = account?.key?._type;\n\n      const keyIsString = typeof clientConfig.privateKey === 'string';\n\n      let privateKey: PrivateKey;\n\n      if (type && keyIsString) {\n        privateKey = type?.toLowerCase()?.includes('ecdsa')\n          ? PrivateKey.fromStringECDSA(clientConfig.privateKey as string)\n          : PrivateKey.fromStringED25519(clientConfig.privateKey as string);\n      } else if (!type && keyIsString) {\n        const keyType = keyIsString\n          ? detectKeyTypeFromString(clientConfig.privateKey as string)\n          : undefined;\n        privateKey =\n          keyType?.detectedType === 'ed25519'\n            ? PrivateKey.fromStringED25519(clientConfig.privateKey as string)\n            : PrivateKey.fromStringECDSA(clientConfig.privateKey as string);\n      } else {\n        privateKey = clientConfig.privateKey as PrivateKey;\n      }\n\n      client.setOperator(clientConfig.accountId, privateKey);\n\n      const transaction = TransferTransaction.fromBytes(\n        Buffer.from(transactionBytes, 'base64')\n      );\n\n      const signedTransaction = await transaction.sign(privateKey);\n      const executeTx = await signedTransaction.execute(client);\n      const receipt = await executeTx.getReceipt(client);\n      const status = receipt.status.toString();\n\n      if (status !== 'SUCCESS') {\n        throw new Error(`Transaction failed with status: ${status}`);\n      }\n\n      return executeTx.transactionId.toString();\n    } catch (error) {\n      throw new Error(\n        `Failed to execute transaction: ${\n          error instanceof Error ? error.message : 'Unknown error'\n        }`\n      );\n    }\n  }\n\n  /**\n   * Executes a transaction with the provided transaction bytes using a Signer,\n   * typically called after inscribing a file through `startInscription`.\n   * @param transactionBytes - The bytes of the transaction to execute.\n   * @param clientConfig - The configuration for the Hedera client.\n   * @returns The transaction receipt.\n   * @throws ValidationError if the transaction bytes are invalid.\n   * @throws Error if the execution fails.\n   */\n  async executeTransactionWithSigner(\n    transactionBytes: string,\n    signer: DAppSigner\n  ): Promise<string> {\n    try {\n      const transaction = TransferTransaction.fromBytes(\n        Buffer.from(transactionBytes, 'base64')\n      );\n      const executeTx = await transaction.executeWithSigner(signer);\n      const receipt = await executeTx.getReceiptWithSigner(signer);\n      const status = receipt.status.toString();\n      if (status !== 'SUCCESS') {\n        throw new Error(`Transaction failed with status: ${status}`);\n      }\n      return executeTx.transactionId.toString();\n    } catch (error) {\n      throw new Error(\n        `Failed to execute transaction: ${\n          error instanceof Error ? error.message : 'Unknown error'\n        }`\n      );\n    }\n  }\n\n  /**\n   * Inscribes a file and executes the transaction. Note that base64 files are limited to 2MB, while URL files are limited to 100MB.\n   * @param request - The request object containing the file to inscribe and the client configuration\n   * @param clientConfig - The configuration for the Hedera network and account\n   * @returns The transaction ID of the executed transaction\n   * @throws ValidationError if the request is invalid\n   * @throws Error if the transaction execution fails\n   */\n  async inscribeAndExecute(\n    request: StartInscriptionRequest,\n    clientConfig: HederaClientConfig,\n    progressCallback?: RegistrationProgressCallback,\n    options?: {\n      waitForCompletion?: boolean;\n      maxWaitTime?: number;\n      checkInterval?: number;\n    }\n  ): Promise<InscriptionResult> {\n    const waitForCompletion = options?.waitForCompletion ?? true;\n    const maxWaitTime = options?.maxWaitTime ?? 120000;\n    const checkInterval = options?.checkInterval ?? 2000;\n\n    this.logger.debug('inscribeAndExecute called', {\n      hasProgressCallback: !!progressCallback,\n      connectionMode: this.connectionMode,\n      wsBaseUrl: this.wsBaseUrl,\n    });\n\n    if (this.connectionMode !== 'http') {\n      const useWebSocket =\n        this.connectionMode === 'websocket' ||\n        (this.connectionMode === 'auto' && (await this.detectBestConnection()));\n\n      if (useWebSocket) {\n        try {\n          const wsResult = await this.inscribeViaWebSocket(\n            request,\n            clientConfig,\n            progressCallback\n          );\n          return wsResult;\n        } catch (error) {\n          this.logger.error(\n            'WebSocket inscription failed, falling back to HTTP:',\n            error\n          );\n          throw error;\n        }\n      } else {\n        this.logger.info(\n          `Not using WebSocket: useWebSocket=${useWebSocket}, wsBaseUrl=${this.wsBaseUrl}`\n        );\n      }\n    } else {\n      this.logger.info(\n        `Not using WebSocket: hasCallback=${!!progressCallback}, connectionMode=${\n          this.connectionMode\n        }`\n      );\n    }\n\n    const inscriptionResponse = await this.startInscription(request);\n\n    if (!inscriptionResponse.transactionBytes) {\n      this.logger.error(\n        'No transaction bytes returned from inscription request',\n        inscriptionResponse\n      );\n      throw new Error('No transaction bytes returned from inscription request');\n    }\n\n    this.logger.info('executing transaction');\n    const transactionId = await this.executeTransaction(\n      inscriptionResponse.transactionBytes,\n      clientConfig\n    );\n\n    const result = {\n      jobId: inscriptionResponse.tx_id,\n      transactionId,\n    };\n\n    if (waitForCompletion) {\n      if (progressCallback) {\n        progressCallback({\n          stage: 'confirming',\n          message: 'Transaction executed, waiting for inscription to complete',\n          progressPercent: 5,\n        });\n      }\n\n      const maxAttempts = Math.floor(maxWaitTime / checkInterval);\n      const finalResult = await this.waitForInscription(\n        transactionId,\n        maxAttempts,\n        checkInterval,\n        true,\n        progressCallback\n      );\n\n      return {\n        ...result,\n        topicId: finalResult.topic_id,\n        status: finalResult.status,\n        completed: finalResult.completed,\n      };\n    }\n\n    return result;\n  }\n\n  private async fetchWebSocketServers(): Promise<void> {\n    try {\n      const response = await this.client.get('/inscriptions/websocket-servers');\n      const { servers, recommended } = response.data;\n\n      if (recommended) {\n        this.wsBaseUrl = recommended;\n      } else if (servers && servers.length > 0) {\n        const activeServers = servers.filter((s: any) => s.status === 'active');\n        if (activeServers.length > 0) {\n          const selectedServer = activeServers[0];\n          this.wsBaseUrl = selectedServer.url;\n        }\n      }\n    } catch (error) {\n      this.logger.debug(\n        'Could not fetch WebSocket servers, will use HTTP only'\n      );\n    }\n  }\n\n  private async detectBestConnection(): Promise<boolean> {\n    if (!this.wsBaseUrl) return false;\n\n    try {\n      const testSocket = io(this.wsBaseUrl, {\n        auth: { apiKey: this.config.apiKey },\n        transports: ['websocket'],\n        timeout: 3000,\n      });\n\n      return new Promise((resolve) => {\n        const timeout = setTimeout(() => {\n          testSocket.disconnect();\n          resolve(false);\n        }, 3000);\n\n        testSocket.on('connect', () => {\n          clearTimeout(timeout);\n          testSocket.disconnect();\n          resolve(true);\n        });\n\n        testSocket.on('connect_error', () => {\n          clearTimeout(timeout);\n          testSocket.disconnect();\n          resolve(false);\n        });\n      });\n    } catch (e) {\n      return false;\n    }\n  }\n\n  private async inscribeViaWebSocket(\n    request: StartInscriptionRequest,\n    clientConfig: HederaClientConfig,\n    progressCallback?: RegistrationProgressCallback\n  ): Promise<InscriptionResult> {\n    if (!this.wsBaseUrl) {\n      const response = await this.client.get('/inscriptions/websocket-servers');\n      const recommended = response.data.recommended;\n      if (!recommended) {\n        throw new Error('No WebSocket servers available');\n      }\n      this.wsBaseUrl = recommended;\n    }\n\n    await this.connectWebSocket();\n\n    return new Promise((resolve, reject) => {\n      if (!this.socket) {\n        return reject(new Error('WebSocket not connected'));\n      }\n\n      let jobId: string;\n      let transactionId: string;\n      let topicId: string | undefined;\n      let timeoutHandle: NodeJS.Timeout;\n\n      const cleanup = () => {\n        if (timeoutHandle) clearTimeout(timeoutHandle);\n        this.socket?.off('inscription-progress', progressHandler);\n        this.socket?.off('inscription-complete', completeHandler);\n        this.socket?.off('inscription-error', errorHandler);\n      };\n\n      const TIMEOUT_MS = 60000;\n      timeoutHandle = setTimeout(() => {\n        this.logger.error(\n          `WebSocket inscription timeout after ${TIMEOUT_MS / 1000} seconds`,\n          {\n            jobId,\n            transactionId,\n            lastTopicId: topicId,\n          }\n        );\n        cleanup();\n        resolve({\n          jobId,\n          transactionId,\n          topicId,\n          topic_id: topicId,\n          status: 'timeout',\n          completed: false,\n        });\n      }, TIMEOUT_MS);\n\n      const completeHandler = (data: any) => {\n        cleanup();\n        resolve({\n          jobId,\n          transactionId,\n          topicId: data.topicId || data.topic_id,\n          topic_id: data.topicId || data.topic_id,\n          status: 'completed',\n          completed: true,\n        });\n      };\n\n      const errorHandler = (data: any) => {\n        cleanup();\n        reject(new Error(data.error || 'Inscription failed'));\n      };\n\n      const progressHandler = (data: any) => {\n        this.logger.debug('Progress event received:', {\n          jobId: data.jobId,\n          status: data.status,\n          progress: data.progress,\n          topicId: data.topicId || data.topic_id,\n          topic_id: data.topicId || data.topic_id,\n        });\n\n        if (data.topicId || data.topic_id) {\n          topicId = data.topicId || data.topic_id;\n        }\n\n        if (progressCallback) {\n          progressCallback({\n            stage: data.status === 'completed' ? 'completed' : 'confirming',\n            message: `Processing inscription: ${data.status}`,\n            progressPercent: data.progress || 0,\n            details: data,\n          });\n        }\n\n        if (data.status === 'completed' || data.progress === 100) {\n          this.logger.info('Inscription completed via progress handler', {\n            status: data.status,\n            progress: data.progress,\n            topicId: data.topicId || data.topic_id || topicId,\n            topic_id: data.topicId || data.topic_id || topicId,\n          });\n          cleanup();\n          resolve({\n            jobId,\n            transactionId,\n            topicId: data.topicId || data.topic_id || topicId,\n            topic_id: data.topicId || data.topic_id || topicId,\n            status: 'completed',\n            completed: true,\n          });\n        }\n      };\n\n      this.socket.on('inscription-progress', progressHandler);\n      this.socket.on('inscription-complete', completeHandler);\n      this.socket.on('inscription-error', errorHandler);\n\n      this.socket.emit(\n        'start-inscription',\n        {\n          ...request,\n          network: this.config.network,\n        },\n        async (response: any) => {\n          if (!response.success) {\n            cleanup();\n            return reject(new Error(response.error || 'Inscription failed'));\n          }\n\n          try {\n            if (!response.transactionBytes) {\n              throw new Error(\n                'No transaction bytes returned from WebSocket inscription'\n              );\n            }\n\n            transactionId = await this.executeTransaction(\n              response.transactionBytes,\n              clientConfig\n            );\n\n            jobId = response.jobId || response.tx_id;\n            if (!jobId) {\n              throw new Error('No job ID returned from WebSocket inscription');\n            }\n\n            if (progressCallback) {\n              progressCallback({\n                stage: 'confirming',\n                message: 'Transaction executed, inscribing to HCS...',\n                progressPercent: 5,\n              });\n            }\n\n            this.logger.info(\n              'Transaction executed, waiting for inscription completion...',\n              {\n                jobId,\n                transactionId,\n              }\n            );\n          } catch (error) {\n            cleanup();\n            reject(error);\n          }\n        }\n      );\n    });\n  }\n\n  private async connectWebSocket(): Promise<void> {\n    if (this.socketConnected && this.socket) return;\n\n    if (!this.wsBaseUrl) {\n      throw new Error('WebSocket URL not configured');\n    }\n\n    return new Promise((resolve, reject) => {\n      this.socket = io(this.wsBaseUrl!, {\n        auth: { apiKey: this.config.apiKey },\n        transports: ['websocket', 'polling'],\n      });\n\n      const timeout = setTimeout(() => {\n        reject(new Error('WebSocket connection timeout'));\n      }, 10000);\n\n      this.socket.on('connect', () => {\n        clearTimeout(timeout);\n        this.socketConnected = true;\n        this.logger.info('WebSocket connected');\n        resolve();\n      });\n\n      this.socket.on('connect_error', (error) => {\n        clearTimeout(timeout);\n        this.socketConnected = false;\n        reject(new Error(`WebSocket connection failed: ${error.message}`));\n      });\n\n      this.socket.on('disconnect', () => {\n        this.socketConnected = false;\n        this.logger.info('WebSocket disconnected');\n      });\n    });\n  }\n\n  /**\n   * Disconnects the WebSocket connection if active\n   */\n  disconnect(): void {\n    if (this.socket) {\n      this.socket.disconnect();\n      this.socket = null;\n      this.socketConnected = false;\n    }\n  }\n\n  /**\n   * Inscribes a file and executes the transaction. Note that base64 files are limited to 2MB, while URL files are limited to 100MB.\n   * @param request - The request object containing the file to inscribe and the client configuration\n   * @param clientConfig - The configuration for the Hedera network and account\n   * @returns The transaction ID of the executed transaction\n   * @throws ValidationError if the request is invalid\n   * @throws Error if the transaction execution fails\n   */\n  async inscribe(\n    request: StartInscriptionRequest,\n    signer: DAppSigner\n  ): Promise<InscriptionResult> {\n    const inscriptionResponse = await this.startInscription(request);\n\n    if (!inscriptionResponse.transactionBytes) {\n      this.logger.error(\n        'No transaction bytes returned from inscription request',\n        inscriptionResponse\n      );\n      throw new Error('No transaction bytes returned from inscription request');\n    }\n\n    this.logger.info('executing transaction');\n    const transactionId = await this.executeTransactionWithSigner(\n      inscriptionResponse.transactionBytes,\n      signer\n    );\n\n    return {\n      jobId: inscriptionResponse.tx_id,\n      transactionId,\n    };\n  }\n\n  private async retryWithBackoff<T>(\n    operation: () => Promise<T>,\n    maxRetries: number = 3,\n    baseDelay: number = 1000\n  ): Promise<T> {\n    for (let attempt = 0; attempt < maxRetries; attempt++) {\n      try {\n        return await operation();\n      } catch (error) {\n        if (attempt === maxRetries - 1) {\n          throw error;\n        }\n\n        const delay = baseDelay * Math.pow(2, attempt);\n        await new Promise((resolve) => setTimeout(resolve, delay));\n\n        this.logger.debug(\n          `Retry attempt ${attempt + 1}/${maxRetries} after ${delay}ms delay`\n        );\n      }\n    }\n    throw new Error('Retry operation failed');\n  }\n\n  /**\n   * Retrieves an inscription by its transaction id. Call this function on an interval\n   * so you can retrieve the status. Store the transaction id in your database if you\n   * need to reference it later on\n   * @param txId - The ID of the inscription to retrieve\n   * @returns The retrieved inscription\n   * @throws ValidationError if the ID is invalid\n   * @throws Error if the retrieval fails\n   */\n  async retrieveInscription(txId: string): Promise<RetrievedInscriptionResult> {\n    if (!txId) {\n      throw new ValidationError('Transaction ID is required');\n    }\n\n    try {\n      const formattedTransactionId = txId.includes('@')\n        ? `${txId.split('@')[0]}-${txId.split('@')[1].replace(/\\./g, '-')}`\n        : txId;\n      return await this.retryWithBackoff(async () => {\n        const response = await this.client.get(\n          `/inscriptions/retrieve-inscription?id=${formattedTransactionId}`\n        );\n        const result = response.data as ImageJobResponse;\n        const isCompleted =\n          result.completed || result.status.toLowerCase() === 'completed';\n        return { ...result, completed: isCompleted, jobId: result.id };\n      });\n    } catch (error) {\n      this.logger.error('Failed to retrieve inscription:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Fetch inscription numbers with optional filtering and sorting\n   * @param params Query parameters for filtering and sorting inscriptions\n   * @returns Array of inscription details\n   */\n  async getInscriptionNumbers(\n    params: InscriptionNumbersParams = {}\n  ): Promise<InscriptionNumberDetails[]> {\n    try {\n      const response = await this.client.get('/inscriptions/numbers', {\n        params,\n      });\n      return response.data;\n    } catch (error) {\n      this.logger.error('Failed to fetch inscription numbers:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Authenticates the SDK with the provided configuration\n   * @param config - The configuration for authentication\n   * @returns The authentication result\n   */\n  static async authenticate(config: AuthConfig): Promise<AuthResult> {\n    const auth = new Auth(config);\n    return auth.authenticate();\n  }\n\n  /**\n   * Creates an instance of the InscriptionSDK with authentication.\n   * Useful for cases where you don't have an API key but need to authenticate from server-side\n   * with a private key.\n   * @param config - The configuration for authentication\n   * @returns An instance of the InscriptionSDK\n   */\n  static async createWithAuth(\n    config:\n      | {\n          type: 'client';\n          accountId: string;\n          signer: DAppSigner;\n          network?: 'mainnet' | 'testnet';\n          baseUrl?: string;\n          wsBaseUrl?: string;\n          connectionMode?: 'http' | 'websocket' | 'auto';\n        }\n      | {\n          type: 'server';\n          accountId: string;\n          privateKey: string | PrivateKey;\n          network?: 'mainnet' | 'testnet';\n          baseUrl?: string;\n          wsBaseUrl?: string;\n          connectionMode?: 'http' | 'websocket' | 'auto';\n        }\n  ): Promise<InscriptionSDK> {\n    const auth =\n      config.type === 'client'\n        ? new ClientAuth({\n            ...config,\n            logger: Logger.getInstance(),\n          })\n        : new Auth(config);\n\n    const { apiKey } = await auth.authenticate();\n\n    return new InscriptionSDK({\n      apiKey,\n      network: config.network || 'mainnet',\n      wsBaseUrl: config.wsBaseUrl,\n      connectionMode: config.connectionMode || 'websocket',\n    });\n  }\n\n  async waitForInscription(\n    txId: string,\n    maxAttempts: number = 30,\n    intervalMs: number = 4000,\n    checkCompletion: boolean = false,\n    progressCallback?: RegistrationProgressCallback\n  ): Promise<RetrievedInscriptionResult> {\n    let attempts = 0;\n    let highestPercentSoFar = 0;\n\n    const reportProgress = (\n      stage:\n        | 'preparing'\n        | 'submitting'\n        | 'confirming'\n        | 'completed'\n        | 'verifying',\n      message: string,\n      percent: number,\n      details?: Record<string, any>\n    ) => {\n      if (progressCallback) {\n        try {\n          highestPercentSoFar = Math.max(highestPercentSoFar, percent);\n          progressCallback({\n            stage,\n            message,\n            progressPercent: highestPercentSoFar,\n            details: {\n              ...details,\n              txId,\n              currentAttempt: attempts,\n              maxAttempts,\n            },\n          });\n        } catch (err) {\n          this.logger.warn(`Error in progress callback: ${err}`);\n        }\n      }\n    };\n\n    reportProgress('confirming', 'Starting inscription verification', 0);\n\n    while (attempts < maxAttempts) {\n      reportProgress(\n        'confirming',\n        `Verifying inscription status (attempt ${attempts + 1}/${maxAttempts})`,\n        5,\n        { attempt: attempts + 1 }\n      );\n\n      const result = await this.retrieveInscription(txId);\n\n      if (result.error) {\n        reportProgress('verifying', `Error: ${result.error}`, 100, {\n          error: result.error,\n        });\n        throw new Error(result.error);\n      }\n\n      let progressPercent = 5;\n      const isCompleted =\n        result.completed || result.status.toLowerCase() === 'completed';\n\n      if (\n        result.messages !== undefined &&\n        result.maxMessages !== undefined &&\n        result.maxMessages > 0\n      ) {\n        progressPercent = Math.min(\n          95,\n          5 + (result.messages / result.maxMessages) * 90\n        );\n\n        if (isCompleted) {\n          progressPercent = 100;\n        }\n      } else if (result.status === 'processing') {\n        progressPercent = 10;\n      } else if (isCompleted) {\n        progressPercent = 100;\n      }\n\n      reportProgress(\n        isCompleted ? 'completed' : 'confirming',\n        isCompleted\n          ? 'Inscription completed successfully'\n          : `Processing inscription (${result.status})`,\n        progressPercent,\n        {\n          status: result.status,\n          messagesProcessed: result.messages,\n          maxMessages: result.maxMessages,\n          messageCount: result.messages,\n          completed: isCompleted,\n          confirmedMessages: result.confirmedMessages,\n          result,\n        }\n      );\n\n      const isHashinal = result.mode === 'hashinal';\n      const isHashinalCollection = result.mode === 'hashinal-collection';\n      const isDynamic = result.fileStandard?.toString() === '6';\n\n      if (isHashinalCollection && isCompleted) {\n        if (!checkCompletion || isCompleted) {\n          reportProgress(\n            'completed',\n            'Inscription verification complete',\n            100,\n            { result }\n          );\n          return result;\n        }\n      }\n\n      if (isHashinal && result.topic_id && result.jsonTopicId) {\n        if (!checkCompletion || isCompleted) {\n          reportProgress(\n            'completed',\n            'Inscription verification complete',\n            100,\n            { result }\n          );\n          return result;\n        }\n      }\n\n      if (!isHashinal && !isDynamic && result.topic_id) {\n        if (!checkCompletion || isCompleted) {\n          reportProgress(\n            'completed',\n            'Inscription verification complete',\n            100,\n            { result }\n          );\n          return result;\n        }\n      }\n\n      if (\n        isDynamic &&\n        result.topic_id &&\n        result.jsonTopicId &&\n        result.registryTopicId\n      ) {\n        if (!checkCompletion || isCompleted) {\n          reportProgress(\n            'completed',\n            'Inscription verification complete',\n            100,\n            { result }\n          );\n          return result;\n        }\n      }\n\n      await new Promise((resolve) => setTimeout(resolve, intervalMs));\n      attempts++;\n    }\n\n    reportProgress(\n      'verifying',\n      `Inscription ${txId} did not complete within ${maxAttempts} attempts`,\n      100,\n      { timedOut: true }\n    );\n\n    throw new Error(\n      `Inscription ${txId} did not complete within ${maxAttempts} attempts`\n    );\n  }\n\n  /**\n   * Fetch inscriptions owned by a specific holder\n   * @param params Query parameters for retrieving holder's inscriptions\n   * @returns Array of inscription details owned by the holder\n   */\n  async getHolderInscriptions(\n    params: HolderInscriptionsParams\n  ): Promise<HolderInscriptionsResponse> {\n    if (!params.holderId) {\n      throw new ValidationError('Holder ID is required');\n    }\n\n    try {\n      const queryParams: Record<string, string> = {\n        holderId: params.holderId,\n      };\n\n      if (params.includeCollections) {\n        queryParams.includeCollections = '1';\n      }\n\n      const response = await this.client.get(\n        '/inscriptions/holder-inscriptions',\n        {\n          params: queryParams,\n        }\n      );\n\n      return response.data;\n    } catch (error) {\n      this.logger.error('Failed to fetch holder inscriptions:', error);\n      if (axios.isAxiosError(error)) {\n        throw new Error(\n          error.response?.data?.message || 'Failed to fetch holder inscriptions'\n        );\n      }\n      throw error;\n    }\n  }\n}\n","import { InscriptionSDK } from './inscription-sdk';\n\nexport * from './inscription-sdk';\nexport * from './types';\nexport { ClientAuth } from './client-auth';\nexport { Auth } from './auth';\n\n// This variable is replaced at build time.\n// @ts-ignore\nif ('VITE_BUILD_FORMAT' === 'umd') {\n  // @ts-ignore\n  window.InscriptionSDK = InscriptionSDK;\n}\n"],"names":["buffer","base64Js","b64","lens","getLens","validLen","placeHoldersLen","tmp","i","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","uint8","length","extraBytes","parts","maxChunkLength","len2","push","encodeChunk","lookup","join","Uint8Array","Array","code","Error","indexOf","tripletToBase64","num","start","end","output","ieee754","offset","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","d","s","NaN","Infinity","Math","pow","value","c","rt","abs","isNaN","floor","log","LN2","exports","base64","ieee754$1","customInspectSymbol","Symbol","Buffer","SlowBuffer","alloc","INSPECT_MAX_BYTES","K_MAX_LENGTH","kMaxLength","GlobalUint8Array","ArrayBuffer","GlobalArrayBuffer","SharedArrayBuffer","GlobalSharedArrayBuffer","globalThis","createBuffer","RangeError","buf","Object","setPrototypeOf","prototype","arg","encodingOrOffset","TypeError","allocUnsafe","from","string","encoding","isEncoding","byteLength","actual","write","slice","fromString","isView","arrayView","isInstance","copy","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","valueOf","b","obj","isBuffer","checked","numberIsNaN","type","isArray","data","fromObject","toPrimitive","assertSize","size","array","toString","mustMatch","arguments","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","this","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","bidirectionalIndexOf","val","dir","arrayIndexOf","call","lastIndexOf","indexSize","arrLength","valLength","String","read","readUInt16BE","foundIndex","found","j","hexWrite","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","console","error","defineProperty","enumerable","get","poolSize","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","set","swap16","swap32","swap64","toLocaleString","equals","inspect","max","replace","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","constructor","super","writable","configurable","name","stack","message","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","isInteger","INVALID_BASE64_RE","leadSurrogate","toByteArray","split","base64clean","src","dst","alphabet","table","i16","fn","BufferBigIntNotDefined","Buffer$1","global","self","getDefaultExportFromCjs","__esModule","hasOwnProperty","cachedSetTimeout","cachedClearTimeout","browser","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","args","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","process$1","bind","thisArg","getPrototypeOf","iterator","toStringTag","kindOf","cache","thing","create","kindOfTest","typeOfTest","isUndefined","isFunction","isArrayBuffer","isString","isNumber","isObject","isPlainObject","isDate","isFile","isBlob","isFileList","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","map","forEach","allOwnKeys","l","keys","getOwnPropertyNames","key","findKey","_key","_global","window","isContextDefined","context","isTypedArray","TypedArray","isHTMLForm","prop","isRegExp","reduceDescriptors","reducer","descriptors","getOwnPropertyDescriptors","reducedDescriptors","descriptor","defineProperties","isAsyncFn","_setImmediate","setImmediateSupported","setImmediate","postMessageSupported","postMessage","token","random","callbacks","addEventListener","source","shift","cb","asap","queueMicrotask","utils$1","isFormData","kind","FormData","append","isArrayBufferView","result","isBoolean","isEmptyObject","isStream","pipe","merge","caseless","assignValue","targetKey","extend","stripBOM","content","inherits","superConstructor","props","assign","toFlatObject","sourceObj","destObj","filter","propFilter","merged","endsWith","searchString","position","lastIndex","toArray","forEachEntry","_iterator","next","done","pair","matchAll","regExp","matches","exec","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","delimiter","define","toCamelCase","p1","p2","toUpperCase","toFiniteNumber","defaultValue","isSpecCompliantForm","toJSONObject","visit","reducedValue","isThenable","then","catch","isIterable","AxiosError","config","request","response","captureStackTrace","status","utils","description","number","fileName","lineNumber","columnNumber","customProps","axiosError","cause","isVisitable","removeBrackets","renderKey","path","dots","predicates","test","toFormData","formData","options","metaTokens","indexes","option","visitor","defaultVisitor","useBlob","Blob","convertValue","toISOString","JSON","stringify","some","isFlatArray","el","index","exposedHelpers","build","pop","encode","charMap","encodeURIComponent","match","AxiosURLSearchParams","params","_pairs","buildURL","url","_encode","serialize","serializeFn","serializedParams","hashmarkIndex","encoder","InterceptorManager","handlers","use","fulfilled","rejected","synchronous","runWhen","eject","id","clear","h","transitionalDefaults","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","platform$1","isBrowser","classes","URLSearchParams","protocols","hasBrowserEnv","document","_navigator","navigator","hasStandardBrowserEnv","product","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","origin","location","href","platform","formDataToJSON","buildPath","isNumericKey","isLast","arrayToObject","entries","parsePropPath","defaults","transitional","adapter","transformRequest","headers","contentType","getContentType","hasJSONContentType","isObjectPayload","setContentType","helpers","isNode","toURLEncodedForm","formSerializer","_FormData","rawValue","parser","parse","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","Accept","method","ignoreDuplicateOf","$internals","normalizeHeader","header","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders$1","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","line","substring","parseHeaders","dest","entry","tokens","tokensRE","parseTokens","has","matcher","deleted","deleteHeader","normalize","format","normalized","w","char","formatHeader","targets","asStrings","getSetCookie","computed","accessor","accessors","defineAccessor","accessorName","methodName","arg1","arg2","arg3","buildAccessors","transformData","fns","AxiosHeaders","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","resolve","reject","ERR_BAD_REQUEST","mapped","headerValue","progressEventReducer","listener","isDownloadStream","freq","bytesNotified","_speedometer","samplesCount","timestamps","firstSampleTS","head","tail","chunkLength","now","Date","startedAt","bytesCount","passed","round","speedometer","lastArgs","timer","timestamp","threshold","invoke","throttle","loaded","total","lengthComputable","progressBytes","rate","progress","estimated","event","progressEventDecorator","throttled","asyncDecorator","isURLSameOrigin","isMSIE","URL","protocol","host","port","userAgent","cookies","expires","domain","secure","cookie","toGMTString","RegExp","decodeURIComponent","remove","buildFullPath","baseURL","requestedURL","allowAbsoluteUrls","isRelativeUrl","relativeURL","combineURLs","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","paramsSerializer","timeoutMessage","withCredentials","withXSRFToken","onUploadProgress","onDownloadProgress","decompress","beforeRedirect","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding","configValue","resolveConfig","newConfig","auth","btoa","username","password","unescape","Boolean","xsrfValue","xhrAdapter","XMLHttpRequest","Promise","_config","requestData","requestHeaders","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","unsubscribe","signal","removeEventListener","onloadend","responseHeaders","getAllResponseHeaders","err","responseText","statusText","open","onreadystatechange","readyState","responseURL","onabort","ECONNABORTED","onerror","ERR_NETWORK","ontimeout","timeoutErrorMessage","ETIMEDOUT","setRequestHeader","upload","cancel","abort","subscribe","aborted","parseProtocol","send","composeSignals","signals","controller","AbortController","reason","streamChunk","chunk","chunkSize","readStream","async","stream","asyncIterator","reader","getReader","trackStream","onProgress","onFinish","iterable","readBytes","_onFinish","ReadableStream","pull","close","loadedBytes","enqueue","return","highWaterMark","isFetchSupported","fetch","Request","Response","isReadableStreamSupported","encodeText","TextEncoder","arrayBuffer","supportsRequestStream","duplexAccessed","hasContentType","body","duplex","supportsResponseStream","resolvers","_","ERR_NOT_SUPPORT","resolveBodyLength","getContentLength","_request","getBodyLength","knownAdapters","http","xhr","fetchOptions","composedSignal","toAbortSignal","requestContentLength","contentTypeHeader","flush","isCredentialsSupported","credentials","isStreamResponse","responseContentLength","responseData","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","state","throwIfCancellationRequested","throwIfRequested","dispatchRequest","VERSION","validators","deprecatedWarnings","validator","formatMessage","opt","desc","opts","ERR_DEPRECATED","warn","spelling","correctSpelling","assertOptions","schema","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","Axios$1","instanceConfig","interceptors","configOrUrl","dummy","boolean","function","baseUrl","withXsrfToken","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","promise","chain","onFulfilled","onRejected","getUri","Axios","generateHTTPMethod","isForm","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","axios","createInstance","defaultConfig","instance","CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","splice","Cancel","all","promises","spread","callback","isAxiosError","payload","formToJSON","getAdapter","default","_Logger","__publicField","isProduction","NODE_ENV","getInstance","debug","info","Logger","ValidationError","detectKeyTypeFromString","privateKeyString","detectedType","privateKey","PrivateKey","fromStringECDSA","ecdsaError","fromStringED25519","Auth","accountId","keyDetection","network","authenticate","requestSignatureResponse","_a","signature","signMessage","authResponse","post","authData","include","_c","_b","user","sessionToken","apiKey","messageBytes","signatureBytes","sign","HederaMirrorNode","getDefaultMirrorNodeBaseUrl","requestAccount","ClientAuth","signer","logger","dv","DataView","UINT8","getUint8","put","setUint8","UINT16_LE","getUint16","setUint16","UINT16_BE","UINT32_LE","getUint32","setUint32","UINT32_BE","INT32_BE","getInt32","setInt32","UINT64_LE","getBigUint64","setBigUint64","StringType","decoder","decodeWindows1252","textDecoder","TextDecoder","decode","byte","win1252Map","EndOfStreamError","AbortError","AbstractStreamReader","endOfStream","interrupted","peekQueue","peek","uint8Array","mayBeLess","bytesRead","readFromPeekBuffer","readRemainderFromStream","peekData","lenCopy","chunkLen","readFromStream","WebStreamReader","releaseLock","WebStreamByobReader","WebStreamDefaultReader","writeChunk","written","totalBytesRead","AbstractTokenizer","numBuffer","onClose","abortSignal","readToken","readBuffer","peekToken","peekBuffer","readNumber","peekNumber","ignore","fileInfo","bytesLeft","normalizeOptions","supportsRandomAccess","ReadStreamTokenizer","streamReader","normOptions","skipBytes","skipBuffer","bufSize","totBytesRead","BufferTokenizer","bytes2read","setPosition","fromWebStream","webStream","webStreamReader","mode","ReadableStreamDefaultReader","makeWebStreamReader","_options","chainedClose","u8","u16","Uint16Array","i32","Int32Array","fleb","fdeb","clim","freb","eb","r","fl","revfl","fd","rev","hMap","cd","mb","co","le","rvb","sv","r_1","v","flt","fdt","flrm","fdrm","bits","p","o","bits16","shft","ec","ind","nt","inflt","dat","st","dict","sl","f","noBuf","resize","noSt","cbuf","bl","nbuf","final","bt","lm","dm","lbt","dbt","tbts","t","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","dt","lms","dms","lpos","add","dsym","dend","slc","et","gunzipSync","flg","zs","gzs","unzlibSync","decompressSync","inflateSync","td","plural","ms","msAbs","isPlural","parseFloat","long","fmtLong","fmtShort","formatArgs","useColors","namespace","module","humanize","diff","color","lastC","save","namespaces","storage","setItem","removeItem","load","getItem","DEBUG","__nwjs","documentElement","style","WebkitAppearance","firebug","exception","localStorage","localstorage","destroy","warned","colors","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","curr","prev","coerce","formatter","formatters","selectColor","init","newDebug","matchesTemplate","search","template","searchIndex","templateIndex","starIndex","matchIndex","disable","names","skips","enable","ns","skip","require$$0","hash","Signature","DataDescriptor","compressedSize","uncompressedSize","LocalFileHeaderToken","flags","minVersion","dataDescriptor","compressedMethod","filenameLength","extraFieldLength","filename","EndOfCentralDirectoryRecordToken","nrOfThisDisk","nrOfThisDiskWithTheStart","nrOfEntriesOnThisDisk","nrOfEntriesOfSize","sizeOfCd","offsetOfStartOfCd","zipFileCommentLength","FileHeader","fileCommentLength","relativeOffsetOfLocalHeader","signatureToArray","initDebug","syncBufferSize","ddSignatureArray","eocdSignatureBytes","ZipHandler","tokenizer","syncBuffer","isZip","peekSignature","findEndOfCentralDirectoryLocator","randomReadTokenizer","readCentralDirectory","eocdHeader","files","unzip","fileCb","iterateOverCentralDirectory","stop","zipHeader","readLocalFileHeader","fileData","chunks","nextHeaderIndex","handler","inflate","mergeArrays","fileHeader","portion","bufferLength","portionLength","totalLength","reduce","acc","mergedArray","getUintBE","view","padStart","uint32SyncSafeToken","reasonableDetectionSizeInBytes","getFileTypeFromMimeType","mimeType","mime","_check","mask","FileTypeParser","MAX_SAFE_INTEGER","check","checkString","detectConfident","id3HeaderLength","fromTokenizer","fileType","xmlContent","endPos","firstPos","readTiffHeader","readField","msb","Token.UINT8","ic","readElement","idField","lengthField","nrLength","idView","lengthView","readChildren","children","element","Token.StringType","replaceAll","re","char7","readChunkHeader","Token.INT32_BE","brandMajor","startsWith","readHeader","guid","Token.UINT64_LE","typeId","jsonSize","readSum","sum","tarHeaderChecksumMatches","mpegOffsetTolerance","depth","scanMpeg","detectors","customDetectors","detect","detectImprecise","tokenizerOptions","initialPosition","detector","fromBuffer","fromBlob","blob","fromStream","strtok3.fromWebStream","toDetectionStream","sampleSize","detectedFileType","firstChunk","strtok3.EndOfStreamError","transformStream","TransformStream","transform","newStream","pipeThrough","character","readTiffTag","bigEndian","tagId","Token.UINT16_BE","Token.UINT16_LE","readTiffIFD","numberOfTags","ifdOffset","Token.UINT32_BE","Token.UINT32_LE","someId1","someId2","Set","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","withNativeArrayBuffer","encodePacket","supportsBinary","encodeBlobAsBase64","fileReader","FileReader","onload","readAsDataURL","TEXT_ENCODER","chars","decodePacket","encodedPacket","binaryType","mapBinary","charAt","decodeBase64Packet","decoded","encoded1","encoded2","encoded3","encoded4","arraybuffer","SEPARATOR","createPacketEncoderStream","packet","encoded","encodePacketToBinary","payloadLength","TEXT_DECODER","concatChunks","Emitter","mixin","_callbacks","emitReserved","hasListeners","setTimeoutFn","globalThisShim","Function","pick","attr","k","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","useNativeTimers","clearTimeoutFn","utf8Length","ceil","randomString","TransportError","Transport","query","socket","forceBase64","onError","doOpen","doClose","packets","onOpen","onData","onPacket","details","pause","onPause","createUri","_hostname","_port","_query","hostname","encodedQuery","Polling","_polling","_poll","doPoll","encodedPayload","encodedPackets","decodedPacket","decodePayload","count","encodePayload","doWrite","uri","timestampRequests","timestampParam","sid","hasCORS","empty","BaseXHR","isSSL","xd","req","xhrStatus","pollXhr","createRequest","_opts","_method","_uri","_data","_create","xdomain","_xhr","extraHeaders","setDisableHeaderCheck","cookieJar","addCookies","requestTimeout","parseCookies","getResponseHeader","_onLoad","_onError","_index","requestsCount","requests","_cleanup","fromError","attachEvent","unloadHandler","hasXHR2","newRequest","isReactNative","BaseWS","ws","createSocket","addEventListeners","onopen","autoUnref","_socket","unref","onclose","closeEvent","onmessage","ev","lastPacket","WebSocketCtor","WebSocket","MozWebSocket","transports","websocket","_packet","webtransport","_transport","WebTransport","transportOptions","closed","ready","createBidirectionalStream","decoderStream","maxPayload","expectedLength","isBinary","headerArray","createPacketDecoderStream","readable","encoderStream","pipeTo","_writer","getWriter","polling","authority","ipv6uri","pathNames","regx","queryKey","$0","$1","$2","withEventListeners","OFFLINE_EVENT_LISTENERS","SocketWithoutUpgrade","writeBuffer","_prevBufferLen","_pingInterval","_pingTimeout","_maxPayload","_pingTimeoutTime","parsedUri","_transportsByName","transportName","agent","upgrade","rememberUpgrade","addTrailingSlash","rejectUnauthorized","perMessageDeflate","closeOnBeforeunload","qs","qry","pairs","_beforeunloadEventListener","_offlineEventListener","_onClose","_cookieJar","createCookieJar","_open","createTransport","EIO","priorWebsocketSuccess","setTransport","_onDrain","_onPacket","onHandshake","_sendPacket","_resetPingTimeout","pingInterval","pingTimeout","_pingTimeoutTimer","delay","upgrading","_getWritablePackets","payloadSize","_hasPingExpired","hasExpired","compress","cleanupAndClose","waitForUpgrade","tryAllTransports","SocketWithUpgrade","_upgrades","_probe","failed","onTransportOpen","cleanup","freezeTransport","onTransportClose","onupgrade","to","_filterUpgrades","upgrades","filteredUpgrades","DEFAULT_TRANSPORTS","withNativeFile","File","hasBinary","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","placeholder","_placeholder","newData","reconstructPacket","_reconstructPacket","RESERVED_EVENTS","PacketType","Decoder","reviver","reconstructor","decodeString","isBinaryEvent","BINARY_EVENT","BINARY_ACK","EVENT","ACK","BinaryReconstructor","takeBinaryData","nsp","tryParse","isPayloadValid","CONNECT","DISCONNECT","CONNECT_ERROR","finishedReconstruction","reconPack","binData","replacer","encodeAsString","encodeAsBinary","deconstruction","freeze","connect","connect_error","disconnect","disconnecting","newListener","Socket","io","connected","recovered","receiveBuffer","sendBuffer","_queue","_queueSeq","ids","acks","_autoConnect","disconnected","subEvents","subs","onpacket","active","_readyState","retries","fromQueue","volatile","_addToQueue","ack","_registerAckCallback","isTransportWritable","engine","isConnected","notifyOutgoingListeners","ackTimeout","withError","emitWithAck","tryCount","pending","responseArgs","_drainQueue","force","_sendConnectPacket","_pid","pid","_lastOffset","_clearAcks","onconnect","onevent","onack","ondisconnect","emitEvent","_anyListeners","sent","emitBuffered","subDestroy","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","Backoff","factor","jitter","attempts","duration","rand","deviation","reset","setMin","setMax","setJitter","Manager","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","Encoder","autoConnect","_reconnection","skipReconnect","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","Engine","openSubDestroy","errorSub","onping","ondata","ondecoded","_destroy","_close","onreconnect","attempt","loc","sameNamespace","forceNew","multiplex","_InscriptionSDK","client","wsBaseUrl","connectionMode","fetchWebSocketServers","getFileMetadata","getMimeType","extension","VALID_MIME_TYPES","validateRequest","holderId","VALID_MODES","jsonFileURL","metadataObject","onlyJSONCollection","validateFileInput","file","normalizeMimeType","validateMimeType","values","base64Data","MAX_BASE64_SIZE","detectMimeTypeFromBase64","sanitizedBase64","typeResult","fileType.fileTypeFromBuffer","startInscription","fileMetadata","MAX_URL_FILE_SIZE","requestBody","creator","fileStandard","fileURL","fileBase64","fileMimeType","executeTransaction","transactionBytes","clientConfig","Client","forMainnet","forTestnet","mirrorNode","account","_type","keyIsString","keyType","setOperator","transaction","TransferTransaction","fromBytes","signedTransaction","executeTx","execute","getReceipt","transactionId","executeTransactionWithSigner","executeWithSigner","getReceiptWithSigner","inscribeAndExecute","progressCallback","waitForCompletion","maxWaitTime","checkInterval","hasProgressCallback","useWebSocket","detectBestConnection","inscribeViaWebSocket","inscriptionResponse","jobId","tx_id","stage","progressPercent","maxAttempts","finalResult","waitForInscription","topicId","topic_id","completed","servers","recommended","activeServers","selectedServer","testSocket","connectWebSocket","timeoutHandle","progressHandler","completeHandler","errorHandler","lastTopicId","success","socketConnected","inscribe","retryWithBackoff","operation","maxRetries","baseDelay","retrieveInscription","txId","formattedTransactionId","isCompleted","getInscriptionNumbers","createWithAuth","intervalMs","checkCompletion","highestPercentSoFar","reportProgress","percent","currentAttempt","messages","maxMessages","messagesProcessed","messageCount","confirmedMessages","isHashinal","isHashinalCollection","isDynamic","jsonTopicId","registryTopicId","timedOut","getHolderInscriptions","queryParams","includeCollections","jpg","jpeg","png","gif","ico","heic","heif","bmp","webp","tiff","tif","svg","mp4","webm","mp3","pdf","doc","docx","xls","xlsx","ppt","pptx","html","htm","css","php","java","js","mjs","csv","json","txt","glb","wav","ogg","oga","flac","aac","m4a","avi","mov","mkv","m4v","mpg","mpeg","ts","zip","rar","tar","gz","xml","yaml","yml","md","markdown","rtf","gltf","usdz","stl","fbx","ttf","otf","woff","woff2","eot","psd","ai","eps","ps","sqlite","db","apk","ics","vcf","py","rb","go","rs","typescript","jsx","tsx","sql","toml","avif","jxl","weba","wasm","InscriptionSDK"],"mappings":"sTAaA,gKAbIA,EAAS,CAAA,EAETC,EAAW,CAEfA,WAuCA,SAAqBC,GACnB,IAAIC,EAAOC,EAAQF,GACfG,EAAWF,EAAK,GAChBG,EAAkBH,EAAK,GAC3B,OAAuC,GAA9BE,EAAWC,GAAuB,EAAKA,CAClD,EA3CAL,YAiDA,SAAsBC,GACpB,IAAIK,EAcAC,EAbAL,EAAOC,EAAQF,GACfG,EAAWF,EAAK,GAChBG,EAAkBH,EAAK,GAEvBM,EAAM,IAAIC,EAVhB,SAAsBR,EAAKG,EAAUC,GACnC,OAAuC,GAA9BD,EAAWC,GAAuB,EAAKA,CAClD,CAQoBK,CAAYT,EAAKG,EAAUC,IAEzCM,EAAU,EAGVC,EAAMP,EAAkB,EACxBD,EAAW,EACXA,EAGJ,IAAKG,EAAI,EAAGA,EAAIK,EAAKL,GAAK,EACxBD,EACGO,EAAUZ,EAAIa,WAAWP,KAAO,GAChCM,EAAUZ,EAAIa,WAAWP,EAAI,KAAO,GACpCM,EAAUZ,EAAIa,WAAWP,EAAI,KAAO,EACrCM,EAAUZ,EAAIa,WAAWP,EAAI,IAC/BC,EAAIG,KAAcL,GAAO,GAAM,IAC/BE,EAAIG,KAAcL,GAAO,EAAK,IAC9BE,EAAIG,KAAmB,IAANL,EAGK,IAApBD,IACFC,EACGO,EAAUZ,EAAIa,WAAWP,KAAO,EAChCM,EAAUZ,EAAIa,WAAWP,EAAI,KAAO,EACvCC,EAAIG,KAAmB,IAANL,GAGK,IAApBD,IACFC,EACGO,EAAUZ,EAAIa,WAAWP,KAAO,GAChCM,EAAUZ,EAAIa,WAAWP,EAAI,KAAO,EACpCM,EAAUZ,EAAIa,WAAWP,EAAI,KAAO,EACvCC,EAAIG,KAAcL,GAAO,EAAK,IAC9BE,EAAIG,KAAmB,IAANL,GAGnB,OAAOE,CACT,EA5FAR,cAkHA,SAAwBe,GAQtB,IAPA,IAAIT,EACAM,EAAMG,EAAMC,OACZC,EAAaL,EAAM,EACnBM,EAAQ,GACRC,EAAiB,MAGZZ,EAAI,EAAGa,EAAOR,EAAMK,EAAYV,EAAIa,EAAMb,GAAKY,EACtDD,EAAMG,KAAKC,EAAYP,EAAOR,EAAIA,EAAIY,EAAkBC,EAAOA,EAAQb,EAAIY,IAI1D,IAAfF,GACFX,EAAMS,EAAMH,EAAM,GAClBM,EAAMG,KACJE,EAAOjB,GAAO,GACdiB,EAAQjB,GAAO,EAAK,IACpB,OAEsB,IAAfW,IACTX,GAAOS,EAAMH,EAAM,IAAM,GAAKG,EAAMH,EAAM,GAC1CM,EAAMG,KACJE,EAAOjB,GAAO,IACdiB,EAAQjB,GAAO,EAAK,IACpBiB,EAAQjB,GAAO,EAAK,IACpB,MAIJ,OAAOY,EAAMM,KAAK,GACpB,GA/IID,EAAS,GACTV,EAAY,GACZJ,EAA4B,oBAAfgB,WAA6BA,WAAaC,MAEvDC,EAAO,mEACFpB,EAAI,EAAsBA,EAAboB,KAAwBpB,EAC5CgB,EAAOhB,GAAKoB,EAAKpB,GACjBM,EAAUc,EAAKb,WAAWP,IAAMA,EAQlC,SAASJ,EAASF,GAChB,IAAIW,EAAMX,EAAIe,OAEd,GAAIJ,EAAM,EAAI,EACZ,MAAM,IAAIgB,MAAM,kDAKlB,IAAIxB,EAAWH,EAAI4B,QAAQ,KAO3B,WANIzB,IAAiBA,EAAWQ,GAMzB,CAACR,EAJcA,IAAaQ,EAC/B,EACA,EAAKR,EAAW,EAGtB,CA4DA,SAAS0B,EAAiBC,GACxB,OAAOR,EAAOQ,GAAO,GAAK,IACxBR,EAAOQ,GAAO,GAAK,IACnBR,EAAOQ,GAAO,EAAI,IAClBR,EAAa,GAANQ,EACX,CAEA,SAAST,EAAaP,EAAOiB,EAAOC,GAGlC,IAFA,IAAI3B,EACA4B,EAAS,GACJ3B,EAAIyB,EAAOzB,EAAI0B,EAAK1B,GAAK,EAChCD,GACIS,EAAMR,IAAM,GAAM,WAClBQ,EAAMR,EAAI,IAAM,EAAK,QACP,IAAfQ,EAAMR,EAAI,IACb2B,EAAOb,KAAKS,EAAgBxB,IAE9B,OAAO4B,EAAOV,KAAK,GACrB,CAlGAX,EAAU,IAAIC,WAAW,IAAM,GAC/BD,EAAU,IAAIC,WAAW,IAAM,GAoI/B,IAAIqB,EAAU;;AAIdA,KAAe,SAAUpC,EAAQqC,EAAQC,EAAMC,EAAMC,GACnD,IAAIC,EAAGC,EACHC,EAAiB,EAATH,EAAcD,EAAO,EAC7BK,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,GAAQ,EACRtC,EAAI8B,EAAQE,EAAS,EAAK,EAC1BO,EAAIT,GAAO,EAAK,EAChBU,EAAIhD,EAAOqC,EAAS7B,GAOxB,IALAA,GAAKuC,EAELN,EAAIO,GAAM,IAAOF,GAAU,EAC3BE,KAAQF,EACRA,GAASH,EACFG,EAAQ,EAAGL,EAAS,IAAJA,EAAWzC,EAAOqC,EAAS7B,GAAIA,GAAKuC,EAAGD,GAAS,GAKvE,IAHAJ,EAAID,GAAM,IAAOK,GAAU,EAC3BL,KAAQK,EACRA,GAASP,EACFO,EAAQ,EAAGJ,EAAS,IAAJA,EAAW1C,EAAOqC,EAAS7B,GAAIA,GAAKuC,EAAGD,GAAS,GAEvE,GAAU,IAANL,EACFA,EAAI,EAAII,MACV,IAAWJ,IAAMG,EACf,OAAOF,EAAIO,IAAsBC,KAAdF,GAAI,EAAK,GAE5BN,GAAQS,KAAKC,IAAI,EAAGb,GACpBE,GAAQI,CACV,CACA,OAAQG,KAAS,GAAKN,EAAIS,KAAKC,IAAI,EAAGX,EAAIF,EAC5C,EAEAH,MAAgB,SAAUpC,EAAQqD,EAAOhB,EAAQC,EAAMC,EAAMC,GAC3D,IAAIC,EAAGC,EAAGY,EACNX,EAAiB,EAATH,EAAcD,EAAO,EAC7BK,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBW,EAAe,KAAThB,EAAcY,KAAKC,IAAI,GAAG,IAAOD,KAAKC,IAAI,GAAG,IAAO,EAC1D5C,EAAI8B,EAAO,EAAKE,EAAS,EACzBO,EAAIT,EAAO,GAAI,EACfU,EAAIK,EAAQ,GAAgB,IAAVA,GAAe,EAAIA,EAAQ,EAAK,EAAI,EAmC1D,IAjCAA,EAAQF,KAAKK,IAAIH,GAEbI,MAAMJ,IAAUA,IAAUH,KAC5BR,EAAIe,MAAMJ,GAAS,EAAI,EACvBZ,EAAIG,IAEJH,EAAIU,KAAKO,MAAMP,KAAKQ,IAAIN,GAASF,KAAKS,KAClCP,GAASC,EAAIH,KAAKC,IAAI,GAAIX,IAAM,IAClCA,IACAa,GAAK,IAGLD,GADEZ,EAAII,GAAS,EACNU,EAAKD,EAELC,EAAKJ,KAAKC,IAAI,EAAG,EAAIP,IAEpBS,GAAK,IACfb,IACAa,GAAK,GAGHb,EAAII,GAASD,GACfF,EAAI,EACJD,EAAIG,GACKH,EAAII,GAAS,GACtBH,GAAMW,EAAQC,EAAK,GAAKH,KAAKC,IAAI,EAAGb,GACpCE,GAAQI,IAERH,EAAIW,EAAQF,KAAKC,IAAI,EAAGP,EAAQ,GAAKM,KAAKC,IAAI,EAAGb,GACjDE,EAAI,IAIDF,GAAQ,EAAGvC,EAAOqC,EAAS7B,GAAS,IAAJkC,EAAUlC,GAAKuC,EAAGL,GAAK,IAAKH,GAAQ,GAI3E,IAFAE,EAAKA,GAAKF,EAAQG,EAClBC,GAAQJ,EACDI,EAAO,EAAG3C,EAAOqC,EAAS7B,GAAS,IAAJiC,EAAUjC,GAAKuC,EAAGN,GAAK,IAAKE,GAAQ,GAE1E3C,EAAOqC,EAAS7B,EAAIuC,IAAU,IAAJC,CAC5B;;;;;;;CASA,SAAWa,GAEV,MAAMC,EAAS7D,EACT8D,EAAY3B,EACZ4B,EACe,mBAAXC,QAAkD,mBAAlBA,OAAY,IAChDA,OAAY,IAAE,8BACd,KAENJ,EAAQK,OAASA,EACjBL,EAAQM,WA0TR,SAAqBlD,IACdA,GAAUA,IACbA,EAAS,GAEX,OAAOiD,EAAOE,OAAOnD,EACvB,EA9TA4C,EAAQQ,kBAAoB,GAE5B,MAAMC,EAAe,WACrBT,EAAQU,WAAaD,EACrB,MAAQ5C,WAAY8C,EAAkBC,YAAaC,EAAmBC,kBAAmBC,GAA4BC,WAuDrH,SAASC,EAAc7D,GACrB,GAAIA,EAASqD,EACX,MAAM,IAAIS,WAAW,cAAgB9D,EAAS,kCAGhD,MAAM+D,EAAM,IAAIR,EAAiBvD,GAEjC,OADAgE,OAAOC,eAAeF,EAAKd,EAAOiB,WAC3BH,CACT,CAYA,SAASd,EAAQkB,EAAKC,EAAkBpE,GAEtC,GAAmB,iBAARmE,EAAkB,CAC3B,GAAgC,iBAArBC,EACT,MAAM,IAAIC,UACR,sEAGJ,OAAOC,EAAYH,EACrB,CACA,OAAOI,EAAKJ,EAAKC,EAAkBpE,EACrC,CAIA,SAASuE,EAAMnC,EAAOgC,EAAkBpE,GACtC,GAAqB,iBAAVoC,EACT,OAqHJ,SAAqBoC,EAAQC,GACH,iBAAbA,GAAsC,KAAbA,IAClCA,EAAW,QAGb,IAAKxB,EAAOyB,WAAWD,GACrB,MAAM,IAAIJ,UAAU,qBAAuBI,GAG7C,MAAMzE,EAAwC,EAA/B2E,EAAWH,EAAQC,GAClC,IAAIV,EAAMF,EAAa7D,GAEvB,MAAM4E,EAASb,EAAIc,MAAML,EAAQC,GAE7BG,IAAW5E,IAIb+D,EAAMA,EAAIe,MAAM,EAAGF,IAGrB,OAAOb,CACT,CA3IWgB,CAAW3C,EAAOgC,GAG3B,GAAIX,EAAkBuB,OAAO5C,GAC3B,OAkJJ,SAAwB6C,GACtB,GAAIC,EAAWD,EAAW1B,GAAmB,CAC3C,MAAM4B,EAAO,IAAI5B,EAAiB0B,GAClC,OAAOG,EAAgBD,EAAKpG,OAAQoG,EAAKE,WAAYF,EAAKR,WAC5D,CACA,OAAOW,EAAcL,EACvB,CAxJWM,CAAcnD,GAGvB,GAAa,MAATA,EACF,MAAM,IAAIiC,UACR,yHACiDjC,GAIrD,GAAI8C,EAAW9C,EAAOqB,IACjBrB,GAAS8C,EAAW9C,EAAMrD,OAAQ0E,GACrC,OAAO2B,EAAgBhD,EAAOgC,EAAkBpE,GAGlD,QAAuC,IAA5B2D,IACNuB,EAAW9C,EAAOuB,IAClBvB,GAAS8C,EAAW9C,EAAMrD,OAAQ4E,IACrC,OAAOyB,EAAgBhD,EAAOgC,EAAkBpE,GAGlD,GAAqB,iBAAVoC,EACT,MAAM,IAAIiC,UACR,yEAIJ,MAAMmB,EAAUpD,EAAMoD,SAAWpD,EAAMoD,UACvC,GAAe,MAAXA,GAAmBA,IAAYpD,EACjC,OAAOa,EAAOsB,KAAKiB,EAASpB,EAAkBpE,GAGhD,MAAMyF,EAkJR,SAAqBC,GACnB,GAAIzC,EAAO0C,SAASD,GAAM,CACxB,MAAM9F,EAA4B,EAAtBgG,EAAQF,EAAI1F,QAClB+D,EAAMF,EAAajE,GAEzB,OAAmB,IAAfmE,EAAI/D,QAIR0F,EAAIP,KAAKpB,EAAK,EAAG,EAAGnE,GAHXmE,CAKX,CAEA,QAAmB,IAAf2B,EAAI1F,OACN,MAA0B,iBAAf0F,EAAI1F,QAAuB6F,EAAYH,EAAI1F,QAC7C6D,EAAa,GAEfyB,EAAcI,GAGvB,GAAiB,WAAbA,EAAII,MAAqBpF,MAAMqF,QAAQL,EAAIM,MAC7C,OAAOV,EAAcI,EAAIM,KAE7B,CAzKYC,CAAW7D,GACrB,GAAIqD,EAAG,OAAOA,EAEd,GAAsB,oBAAXzC,QAAgD,MAAtBA,OAAOkD,aACH,mBAA9B9D,EAAMY,OAAOkD,aACtB,OAAOjD,EAAOsB,KAAKnC,EAAMY,OAAOkD,aAAa,UAAW9B,EAAkBpE,GAG5E,MAAM,IAAIqE,UACR,yHACiDjC,EAErD,CAmBA,SAAS+D,EAAYC,GACnB,GAAoB,iBAATA,EACT,MAAM,IAAI/B,UAAU,0CACtB,GAAW+B,EAAO,EAChB,MAAM,IAAItC,WAAW,cAAgBsC,EAAO,iCAEhD,CA0BA,SAAS9B,EAAa8B,GAEpB,OADAD,EAAWC,GACJvC,EAAauC,EAAO,EAAI,EAAoB,EAAhBR,EAAQQ,GAC7C,CAuCA,SAASd,EAAee,GACtB,MAAMrG,EAASqG,EAAMrG,OAAS,EAAI,EAA4B,EAAxB4F,EAAQS,EAAMrG,QAC9C+D,EAAMF,EAAa7D,GACzB,IAAA,IAAST,EAAI,EAAGA,EAAIS,EAAQT,GAAK,EAC/BwE,EAAIxE,GAAgB,IAAX8G,EAAM9G,GAEjB,OAAOwE,CACT,CAUA,SAASqB,EAAiBiB,EAAOhB,EAAYrF,GAC3C,GAAIqF,EAAa,GAAKgB,EAAM1B,WAAaU,EACvC,MAAM,IAAIvB,WAAW,wCAGvB,GAAIuC,EAAM1B,WAAaU,GAAcrF,GAAU,GAC7C,MAAM,IAAI8D,WAAW,wCAGvB,IAAIC,EAYJ,OAVEA,OADiB,IAAfsB,QAAuC,IAAXrF,EACxB,IAAIuD,EAAiB8C,QACP,IAAXrG,EACH,IAAIuD,EAAiB8C,EAAOhB,GAE5B,IAAI9B,EAAiB8C,EAAOhB,EAAYrF,GAIhDgE,OAAOC,eAAeF,EAAKd,EAAOiB,WAE3BH,CACT,CA2BA,SAAS6B,EAAS5F,GAGhB,GAAIA,GAAUqD,EACZ,MAAM,IAAIS,WAAW,0DACaT,EAAaiD,SAAS,IAAM,UAEhE,OAAgB,EAATtG,CACT,CAsGA,SAAS2E,EAAYH,EAAQC,GAC3B,GAAIxB,EAAO0C,SAASnB,GAClB,OAAOA,EAAOxE,OAEhB,GAAIyD,EAAkBuB,OAAOR,IAAWU,EAAWV,EAAQf,GACzD,OAAOe,EAAOG,WAEhB,GAAsB,iBAAXH,EACT,MAAM,IAAIH,UACR,kGAC0BG,GAI9B,MAAM5E,EAAM4E,EAAOxE,OACbuG,EAAaC,UAAUxG,OAAS,IAAsB,IAAjBwG,UAAU,GACrD,IAAKD,GAAqB,IAAR3G,EAAW,OAAO,EAGpC,IAAI6G,GAAc,EAClB,OACE,OAAQhC,GACN,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAO7E,EACT,IAAK,OACL,IAAK,QACH,OAAO8G,EAAYlC,GAAQxE,OAC7B,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAa,EAANJ,EACT,IAAK,MACH,OAAOA,IAAQ,EACjB,IAAK,SACH,OAAO+G,EAAcnC,GAAQxE,OAC/B,QACE,GAAIyG,EACF,OAAOF,GAAY,EAAKG,EAAYlC,GAAQxE,OAE9CyE,GAAY,GAAKA,GAAUmC,cAC3BH,GAAc,EAGtB,CAGA,SAASI,EAAcpC,EAAUzD,EAAOC,GACtC,IAAIwF,GAAc,EAclB,SALc,IAAVzF,GAAuBA,EAAQ,KACjCA,EAAQ,GAINA,EAAQ8F,KAAK9G,OACf,MAAO,GAOT,SAJY,IAARiB,GAAqBA,EAAM6F,KAAK9G,UAClCiB,EAAM6F,KAAK9G,QAGTiB,GAAO,EACT,MAAO,GAOT,IAHAA,KAAS,KACTD,KAAW,GAGT,MAAO,GAKT,IAFKyD,IAAUA,EAAW,UAGxB,OAAQA,GACN,IAAK,MACH,OAAOsC,EAASD,KAAM9F,EAAOC,GAE/B,IAAK,OACL,IAAK,QACH,OAAO+F,EAAUF,KAAM9F,EAAOC,GAEhC,IAAK,QACH,OAAOgG,EAAWH,KAAM9F,EAAOC,GAEjC,IAAK,SACL,IAAK,SACH,OAAOiG,EAAYJ,KAAM9F,EAAOC,GAElC,IAAK,SACH,OAAOkG,EAAYL,KAAM9F,EAAOC,GAElC,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOmG,EAAaN,KAAM9F,EAAOC,GAEnC,QACE,GAAIwF,EAAa,MAAM,IAAIpC,UAAU,qBAAuBI,GAC5DA,GAAYA,EAAW,IAAImC,cAC3BH,GAAc,EAGtB,CAUA,SAASY,EAAM5B,EAAG6B,EAAG7F,GACnB,MAAMlC,EAAIkG,EAAE6B,GACZ7B,EAAE6B,GAAK7B,EAAEhE,GACTgE,EAAEhE,GAAKlC,CACT,CA2IA,SAASgI,EAAsBxI,EAAQyI,EAAKnC,EAAYZ,EAAUgD,GAEhE,GAAsB,IAAlB1I,EAAOiB,OAAc,OAAO,EAmBhC,GAhB0B,iBAAfqF,GACTZ,EAAWY,EACXA,EAAa,GACJA,EAAa,WACtBA,EAAa,WACJA,GAAa,aACtBA,GAAa,YAGXQ,EADJR,GAAcA,KAGZA,EAAaoC,EAAM,EAAK1I,EAAOiB,OAAS,GAItCqF,EAAa,IAAGA,EAAatG,EAAOiB,OAASqF,GAC7CA,GAActG,EAAOiB,OAAQ,CAC/B,GAAIyH,EAAK,OAAO,EACXpC,EAAatG,EAAOiB,OAAS,CACpC,MAAA,GAAWqF,EAAa,EAAG,CACzB,IAAIoC,EACC,OAAO,EADHpC,EAAa,CAExB,CAQA,GALmB,iBAARmC,IACTA,EAAMvE,EAAOsB,KAAKiD,EAAK/C,IAIrBxB,EAAO0C,SAAS6B,GAElB,OAAmB,IAAfA,EAAIxH,QACC,EAEF0H,EAAa3I,EAAQyI,EAAKnC,EAAYZ,EAAUgD,GACzD,GAA0B,iBAARD,EAEhB,OADAA,GAAY,IACsC,mBAAvCjE,EAAiBW,UAAUrD,QAChC4G,EACKlE,EAAiBW,UAAUrD,QAAQ8G,KAAK5I,EAAQyI,EAAKnC,GAErD9B,EAAiBW,UAAU0D,YAAYD,KAAK5I,EAAQyI,EAAKnC,GAG7DqC,EAAa3I,EAAQ,CAACyI,GAAMnC,EAAYZ,EAAUgD,GAG3D,MAAM,IAAIpD,UAAU,uCACtB,CAEA,SAASqD,EAAclI,EAAKgI,EAAKnC,EAAYZ,EAAUgD,GACrD,IA0BIlI,EA1BAsI,EAAY,EACZC,EAAYtI,EAAIQ,OAChB+H,EAAYP,EAAIxH,OAEpB,QAAiB,IAAbyE,IAEe,UADjBA,EAAWuD,OAAOvD,GAAUmC,gBACY,UAAbnC,GACV,YAAbA,GAAuC,aAAbA,GAAyB,CACrD,GAAIjF,EAAIQ,OAAS,GAAKwH,EAAIxH,OAAS,EACjC,OAAO,EAET6H,EAAY,EACZC,GAAa,EACbC,GAAa,EACb1C,GAAc,CAChB,CAGF,SAAS4C,EAAMlE,EAAKxE,GAClB,OAAkB,IAAdsI,EACK9D,EAAIxE,GAEJwE,EAAImE,aAAa3I,EAAIsI,EAEhC,CAGA,GAAIJ,EAAK,CACP,IAAIU,GAAa,EACjB,IAAK5I,EAAI8F,EAAY9F,EAAIuI,EAAWvI,IAClC,GAAI0I,EAAKzI,EAAKD,KAAO0I,EAAKT,GAAoB,IAAfW,EAAoB,EAAI5I,EAAI4I,IAEzD,QADIA,IAAmBA,EAAa5I,GAChCA,EAAI4I,EAAa,IAAMJ,SAAkBI,EAAaN,OAEvC,IAAfM,IAAmB5I,GAAKA,EAAI4I,GAChCA,GAAa,CAGnB,MAEE,IADI9C,EAAa0C,EAAYD,IAAWzC,EAAayC,EAAYC,GAC5DxI,EAAI8F,EAAY9F,GAAK,EAAGA,IAAK,CAChC,IAAI6I,GAAQ,EACZ,IAAA,IAASC,EAAI,EAAGA,EAAIN,EAAWM,IAC7B,GAAIJ,EAAKzI,EAAKD,EAAI8I,KAAOJ,EAAKT,EAAKa,GAAI,CACrCD,GAAQ,EACR,KACF,CAEF,GAAIA,EAAO,OAAO7I,CACpB,CAGF,OAAO,CACT,CAcA,SAAS+I,EAAUvE,EAAKS,EAAQpD,EAAQpB,GACtCoB,EAASmH,OAAOnH,IAAW,EAC3B,MAAMoH,EAAYzE,EAAI/D,OAASoB,EAC1BpB,GAGHA,EAASuI,OAAOvI,IACHwI,IACXxI,EAASwI,GAJXxI,EAASwI,EAQX,MAAMC,EAASjE,EAAOxE,OAKtB,IAAIT,EACJ,IAJIS,EAASyI,EAAS,IACpBzI,EAASyI,EAAS,GAGflJ,EAAI,EAAGA,EAAIS,IAAUT,EAAG,CAC3B,MAAMmJ,EAASC,SAASnE,EAAOoE,OAAW,EAAJrJ,EAAO,GAAI,IACjD,GAAIsG,EAAY6C,GAAS,OAAOnJ,EAChCwE,EAAI3C,EAAS7B,GAAKmJ,CACpB,CACA,OAAOnJ,CACT,CAEA,SAASsJ,EAAW9E,EAAKS,EAAQpD,EAAQpB,GACvC,OAAO8I,EAAWpC,EAAYlC,EAAQT,EAAI/D,OAASoB,GAAS2C,EAAK3C,EAAQpB,EAC3E,CAEA,SAAS+I,EAAYhF,EAAKS,EAAQpD,EAAQpB,GACxC,OAAO8I,EAypCT,SAAuBE,GACrB,MAAMC,EAAY,GAClB,IAAA,IAAS1J,EAAI,EAAGA,EAAIyJ,EAAIhJ,SAAUT,EAEhC0J,EAAU5I,KAAyB,IAApB2I,EAAIlJ,WAAWP,IAEhC,OAAO0J,CACT,CAhqCoBC,CAAa1E,GAAST,EAAK3C,EAAQpB,EACvD,CAEA,SAASmJ,EAAapF,EAAKS,EAAQpD,EAAQpB,GACzC,OAAO8I,EAAWnC,EAAcnC,GAAST,EAAK3C,EAAQpB,EACxD,CAEA,SAASoJ,EAAWrF,EAAKS,EAAQpD,EAAQpB,GACvC,OAAO8I,EA0pCT,SAAyBE,EAAKK,GAC5B,IAAIhH,EAAGiH,EAAIC,EACX,MAAMN,EAAY,GAClB,IAAA,IAAS1J,EAAI,EAAGA,EAAIyJ,EAAIhJ,WACjBqJ,GAAS,GAAK,KADa9J,EAGhC8C,EAAI2G,EAAIlJ,WAAWP,GACnB+J,EAAKjH,GAAK,EACVkH,EAAKlH,EAAI,IACT4G,EAAU5I,KAAKkJ,GACfN,EAAU5I,KAAKiJ,GAGjB,OAAOL,CACT,CAxqCoBO,CAAehF,EAAQT,EAAI/D,OAASoB,GAAS2C,EAAK3C,EAAQpB,EAC9E,CA8EA,SAASmH,EAAapD,EAAK/C,EAAOC,GAChC,OAAc,IAAVD,GAAeC,IAAQ8C,EAAI/D,OACtB6C,EAAO4G,cAAc1F,GAErBlB,EAAO4G,cAAc1F,EAAIe,MAAM9D,EAAOC,GAEjD,CAEA,SAAS+F,EAAWjD,EAAK/C,EAAOC,GAC9BA,EAAMiB,KAAKwH,IAAI3F,EAAI/D,OAAQiB,GAC3B,MAAM0I,EAAM,GAEZ,IAAIpK,EAAIyB,EACR,KAAOzB,EAAI0B,GAAK,CACd,MAAM2I,EAAY7F,EAAIxE,GACtB,IAAIsK,EAAY,KACZC,EAAoBF,EAAY,IAChC,EACCA,EAAY,IACT,EACCA,EAAY,IACT,EACA,EAEZ,GAAIrK,EAAIuK,GAAoB7I,EAAK,CAC/B,IAAI8I,EAAYC,EAAWC,EAAYC,EAEvC,OAAQJ,GACN,KAAK,EACCF,EAAY,MACdC,EAAYD,GAEd,MACF,KAAK,EACHG,EAAahG,EAAIxE,EAAI,GACO,MAAV,IAAbwK,KACHG,GAA6B,GAAZN,IAAqB,EAAoB,GAAbG,EACzCG,EAAgB,MAClBL,EAAYK,IAGhB,MACF,KAAK,EACHH,EAAahG,EAAIxE,EAAI,GACrByK,EAAYjG,EAAIxE,EAAI,GACQ,MAAV,IAAbwK,IAAsD,MAAV,IAAZC,KACnCE,GAA6B,GAAZN,IAAoB,IAAoB,GAAbG,IAAsB,EAAmB,GAAZC,EACrEE,EAAgB,OAAUA,EAAgB,OAAUA,EAAgB,SACtEL,EAAYK,IAGhB,MACF,KAAK,EACHH,EAAahG,EAAIxE,EAAI,GACrByK,EAAYjG,EAAIxE,EAAI,GACpB0K,EAAalG,EAAIxE,EAAI,GACO,MAAV,IAAbwK,IAAsD,MAAV,IAAZC,IAAsD,MAAV,IAAbC,KAClEC,GAA6B,GAAZN,IAAoB,IAAqB,GAAbG,IAAsB,IAAmB,GAAZC,IAAqB,EAAoB,GAAbC,EAClGC,EAAgB,OAAUA,EAAgB,UAC5CL,EAAYK,IAItB,CAEkB,OAAdL,GAGFA,EAAY,MACZC,EAAmB,GACVD,EAAY,QAErBA,GAAa,MACbF,EAAItJ,KAAKwJ,IAAc,GAAK,KAAQ,OACpCA,EAAY,MAAqB,KAAZA,GAGvBF,EAAItJ,KAAKwJ,GACTtK,GAAKuK,CACP,CAEA,OAQF,SAAgCK,GAC9B,MAAMvK,EAAMuK,EAAWnK,OACvB,GAAIJ,GAAOwK,EACT,OAAOpC,OAAOqC,aAAaC,MAAMtC,OAAQmC,GAI3C,IAAIR,EAAM,GACNpK,EAAI,EACR,KAAOA,EAAIK,GACT+J,GAAO3B,OAAOqC,aAAaC,MACzBtC,OACAmC,EAAWrF,MAAMvF,EAAGA,GAAK6K,IAG7B,OAAOT,CACT,CAxBSY,CAAsBZ,EAC/B,CA39BA1G,EAAOuH,oBAUP,WAEE,IACE,MAAMhL,EAAM,IAAI+D,EAAiB,GAC3BkH,EAAQ,CAAEC,IAAK,WAAc,OAAO,EAAG,GAG7C,OAFA1G,OAAOC,eAAewG,EAAOlH,EAAiBW,WAC9CF,OAAOC,eAAezE,EAAKiL,GACN,KAAdjL,EAAIkL,KACb,OAASlJ,GACP,OAAO,CACT,CACF,CArB6BmJ,GAExB1H,EAAOuH,qBAA0C,oBAAZI,SACb,mBAAlBA,QAAQC,OACjBD,QAAQC,MACN,iJAkBJ7G,OAAO8G,eAAe7H,EAAOiB,UAAW,SAAU,CAChD6G,YAAY,EACZC,IAAK,WACH,GAAK/H,EAAO0C,SAASmB,MACrB,OAAOA,KAAK/H,MACd,IAGFiF,OAAO8G,eAAe7H,EAAOiB,UAAW,SAAU,CAChD6G,YAAY,EACZC,IAAK,WACH,GAAK/H,EAAO0C,SAASmB,MACrB,OAAOA,KAAKzB,UACd,IAoCFpC,EAAOgI,SAAW,KA8DlBhI,EAAOsB,KAAO,SAAUnC,EAAOgC,EAAkBpE,GAC/C,OAAOuE,EAAKnC,EAAOgC,EAAkBpE,EACvC,EAIAgE,OAAOC,eAAehB,EAAOiB,UAAWX,EAAiBW,WACzDF,OAAOC,eAAehB,EAAQM,GA8B9BN,EAAOE,MAAQ,SAAUiD,EAAM8E,EAAMzG,GACnC,OArBF,SAAgB2B,EAAM8E,EAAMzG,GAE1B,OADA0B,EAAWC,GACPA,GAAQ,EACHvC,EAAauC,QAET,IAAT8E,EAIyB,iBAAbzG,EACVZ,EAAauC,GAAM8E,KAAKA,EAAMzG,GAC9BZ,EAAauC,GAAM8E,KAAKA,GAEvBrH,EAAauC,EACtB,CAOSjD,CAAMiD,EAAM8E,EAAMzG,EAC3B,EAUAxB,EAAOqB,YAAc,SAAU8B,GAC7B,OAAO9B,EAAY8B,EACrB,EAIAnD,EAAOkI,gBAAkB,SAAU/E,GACjC,OAAO9B,EAAY8B,EACrB,EA6GAnD,EAAO0C,SAAW,SAAmBF,GACnC,OAAY,MAALA,IAA6B,IAAhBA,EAAE2F,WACpB3F,IAAMxC,EAAOiB,SACjB,EAEAjB,EAAOoI,QAAU,SAAkBC,EAAG7F,GAGpC,GAFIP,EAAWoG,EAAG/H,KAAmB+H,EAAIrI,EAAOsB,KAAK+G,EAAGA,EAAElK,OAAQkK,EAAE3G,aAChEO,EAAWO,EAAGlC,KAAmBkC,EAAIxC,EAAOsB,KAAKkB,EAAGA,EAAErE,OAAQqE,EAAEd,cAC/D1B,EAAO0C,SAAS2F,KAAOrI,EAAO0C,SAASF,GAC1C,MAAM,IAAIpB,UACR,yEAIJ,GAAIiH,IAAM7F,EAAG,OAAO,EAEpB,IAAI8F,EAAID,EAAEtL,OACNwL,EAAI/F,EAAEzF,OAEV,IAAA,IAAST,EAAI,EAAGK,EAAMsC,KAAKwH,IAAI6B,EAAGC,GAAIjM,EAAIK,IAAOL,EAC/C,GAAI+L,EAAE/L,KAAOkG,EAAElG,GAAI,CACjBgM,EAAID,EAAE/L,GACNiM,EAAI/F,EAAElG,GACN,KACF,CAGF,OAAIgM,EAAIC,GAAU,EACdA,EAAID,EAAU,EACX,CACT,EAEAtI,EAAOyB,WAAa,SAAqBD,GACvC,OAAQuD,OAAOvD,GAAUmC,eACvB,IAAK,MACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO,EACT,QACE,OAAO,EAEb,EAEA3D,EAAOwI,OAAS,SAAiBC,EAAM1L,GACrC,IAAKU,MAAMqF,QAAQ2F,GACjB,MAAM,IAAIrH,UAAU,+CAGtB,GAAoB,IAAhBqH,EAAK1L,OACP,OAAOiD,EAAOE,MAAM,GAGtB,IAAI5D,EACJ,QAAe,IAAXS,EAEF,IADAA,EAAS,EACJT,EAAI,EAAGA,EAAImM,EAAK1L,SAAUT,EAC7BS,GAAU0L,EAAKnM,GAAGS,OAItB,MAAMjB,EAASkE,EAAOqB,YAAYtE,GAClC,IAAI2L,EAAM,EACV,IAAKpM,EAAI,EAAGA,EAAImM,EAAK1L,SAAUT,EAAG,CAChC,IAAIwE,EAAM2H,EAAKnM,GACf,GAAI2F,EAAWnB,EAAKR,GACdoI,EAAM5H,EAAI/D,OAASjB,EAAOiB,QACvBiD,EAAO0C,SAAS5B,KAAMA,EAAMd,EAAOsB,KAAKR,IAC7CA,EAAIoB,KAAKpG,EAAQ4M,IAEjBpI,EAAiBW,UAAU0H,IAAIjE,KAC7B5I,EACAgF,EACA4H,OAGN,KAAY1I,EAAO0C,SAAS5B,GAC1B,MAAM,IAAIM,UAAU,+CAEpBN,EAAIoB,KAAKpG,EAAQ4M,EACnB,CACAA,GAAO5H,EAAI/D,MACb,CACA,OAAOjB,CACT,EAiDAkE,EAAO0B,WAAaA,EA8EpB1B,EAAOiB,UAAUkH,WAAY,EAQ7BnI,EAAOiB,UAAU2H,OAAS,WACxB,MAAMjM,EAAMkH,KAAK9G,OACjB,GAAIJ,EAAM,GAAM,EACd,MAAM,IAAIkE,WAAW,6CAEvB,IAAA,IAASvE,EAAI,EAAGA,EAAIK,EAAKL,GAAK,EAC5B8H,EAAKP,KAAMvH,EAAGA,EAAI,GAEpB,OAAOuH,IACT,EAEA7D,EAAOiB,UAAU4H,OAAS,WACxB,MAAMlM,EAAMkH,KAAK9G,OACjB,GAAIJ,EAAM,GAAM,EACd,MAAM,IAAIkE,WAAW,6CAEvB,IAAA,IAASvE,EAAI,EAAGA,EAAIK,EAAKL,GAAK,EAC5B8H,EAAKP,KAAMvH,EAAGA,EAAI,GAClB8H,EAAKP,KAAMvH,EAAI,EAAGA,EAAI,GAExB,OAAOuH,IACT,EAEA7D,EAAOiB,UAAU6H,OAAS,WACxB,MAAMnM,EAAMkH,KAAK9G,OACjB,GAAIJ,EAAM,GAAM,EACd,MAAM,IAAIkE,WAAW,6CAEvB,IAAA,IAASvE,EAAI,EAAGA,EAAIK,EAAKL,GAAK,EAC5B8H,EAAKP,KAAMvH,EAAGA,EAAI,GAClB8H,EAAKP,KAAMvH,EAAI,EAAGA,EAAI,GACtB8H,EAAKP,KAAMvH,EAAI,EAAGA,EAAI,GACtB8H,EAAKP,KAAMvH,EAAI,EAAGA,EAAI,GAExB,OAAOuH,IACT,EAEA7D,EAAOiB,UAAUoC,SAAW,WAC1B,MAAMtG,EAAS8G,KAAK9G,OACpB,OAAe,IAAXA,EAAqB,GACA,IAArBwG,UAAUxG,OAAqBgH,EAAUF,KAAM,EAAG9G,GAC/C6G,EAAayD,MAAMxD,KAAMN,UAClC,EAEAvD,EAAOiB,UAAU8H,eAAiB/I,EAAOiB,UAAUoC,SAEnDrD,EAAOiB,UAAU+H,OAAS,SAAiBxG,GACzC,IAAKxC,EAAO0C,SAASF,GAAI,MAAM,IAAIpB,UAAU,6BAC7C,OAAIyC,OAASrB,GACsB,IAA5BxC,EAAOoI,QAAQvE,KAAMrB,EAC9B,EAEAxC,EAAOiB,UAAUgI,QAAU,WACzB,IAAIlD,EAAM,GACV,MAAMmD,EAAMvJ,EAAQQ,kBAGpB,OAFA4F,EAAMlC,KAAKR,SAAS,MAAO,EAAG6F,GAAKC,QAAQ,UAAW,OAAOC,OACzDvF,KAAK9G,OAASmM,IAAKnD,GAAO,SACvB,WAAaA,EAAM,GAC5B,EACIjG,IACFE,EAAOiB,UAAUnB,GAAuBE,EAAOiB,UAAUgI,SAG3DjJ,EAAOiB,UAAUmH,QAAU,SAAkBiB,EAAQtL,EAAOC,EAAKsL,EAAWC,GAI1E,GAHItH,EAAWoH,EAAQ/I,KACrB+I,EAASrJ,EAAOsB,KAAK+H,EAAQA,EAAOlL,OAAQkL,EAAO3H,cAEhD1B,EAAO0C,SAAS2G,GACnB,MAAM,IAAIjI,UACR,wFAC2BiI,GAiB/B,QAbc,IAAVtL,IACFA,EAAQ,QAEE,IAARC,IACFA,EAAMqL,EAASA,EAAOtM,OAAS,QAEf,IAAduM,IACFA,EAAY,QAEE,IAAZC,IACFA,EAAU1F,KAAK9G,QAGbgB,EAAQ,GAAKC,EAAMqL,EAAOtM,QAAUuM,EAAY,GAAKC,EAAU1F,KAAK9G,OACtE,MAAM,IAAI8D,WAAW,sBAGvB,GAAIyI,GAAaC,GAAWxL,GAASC,EACnC,OAAO,EAET,GAAIsL,GAAaC,EACf,OAAO,EAET,GAAIxL,GAASC,EACX,OAAO,EAQT,GAAI6F,OAASwF,EAAQ,OAAO,EAE5B,IAAIf,GAJJiB,KAAa,IADbD,KAAe,GAMXf,GAPJvK,KAAS,IADTD,KAAW,GASX,MAAMpB,EAAMsC,KAAKwH,IAAI6B,EAAGC,GAElBiB,EAAW3F,KAAKhC,MAAMyH,EAAWC,GACjCE,EAAaJ,EAAOxH,MAAM9D,EAAOC,GAEvC,IAAA,IAAS1B,EAAI,EAAGA,EAAIK,IAAOL,EACzB,GAAIkN,EAASlN,KAAOmN,EAAWnN,GAAI,CACjCgM,EAAIkB,EAASlN,GACbiM,EAAIkB,EAAWnN,GACf,KACF,CAGF,OAAIgM,EAAIC,GAAU,EACdA,EAAID,EAAU,EACX,CACT,EA2HAtI,EAAOiB,UAAUyI,SAAW,SAAmBnF,EAAKnC,EAAYZ,GAC9D,OAAmD,IAA5CqC,KAAKjG,QAAQ2G,EAAKnC,EAAYZ,EACvC,EAEAxB,EAAOiB,UAAUrD,QAAU,SAAkB2G,EAAKnC,EAAYZ,GAC5D,OAAO8C,EAAqBT,KAAMU,EAAKnC,EAAYZ,GAAU,EAC/D,EAEAxB,EAAOiB,UAAU0D,YAAc,SAAsBJ,EAAKnC,EAAYZ,GACpE,OAAO8C,EAAqBT,KAAMU,EAAKnC,EAAYZ,GAAU,EAC/D,EA4CAxB,EAAOiB,UAAUW,MAAQ,SAAgBL,EAAQpD,EAAQpB,EAAQyE,GAE/D,QAAe,IAAXrD,EACFqD,EAAW,OACXzE,EAAS8G,KAAK9G,OACdoB,EAAS,OAEX,QAAsB,IAAXpB,GAA0C,iBAAXoB,EACxCqD,EAAWrD,EACXpB,EAAS8G,KAAK9G,OACdoB,EAAS,MAEX,KAAWwL,SAASxL,GAUlB,MAAM,IAAIR,MACR,2EAVFQ,KAAoB,EAChBwL,SAAS5M,IACXA,KAAoB,OACH,IAAbyE,IAAwBA,EAAW,UAEvCA,EAAWzE,EACXA,OAAS,EAMb,CAEA,MAAMwI,EAAY1B,KAAK9G,OAASoB,EAGhC,SAFe,IAAXpB,GAAwBA,EAASwI,KAAWxI,EAASwI,GAEpDhE,EAAOxE,OAAS,IAAMA,EAAS,GAAKoB,EAAS,IAAOA,EAAS0F,KAAK9G,OACrE,MAAM,IAAI8D,WAAW,0CAGlBW,IAAUA,EAAW,QAE1B,IAAIgC,GAAc,EAClB,OACE,OAAQhC,GACN,IAAK,MACH,OAAO6D,EAASxB,KAAMtC,EAAQpD,EAAQpB,GAExC,IAAK,OACL,IAAK,QACH,OAAO6I,EAAU/B,KAAMtC,EAAQpD,EAAQpB,GAEzC,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAO+I,EAAWjC,KAAMtC,EAAQpD,EAAQpB,GAE1C,IAAK,SAEH,OAAOmJ,EAAYrC,KAAMtC,EAAQpD,EAAQpB,GAE3C,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOoJ,EAAUtC,KAAMtC,EAAQpD,EAAQpB,GAEzC,QACE,GAAIyG,EAAa,MAAM,IAAIpC,UAAU,qBAAuBI,GAC5DA,GAAY,GAAKA,GAAUmC,cAC3BH,GAAc,EAGtB,EAEAxD,EAAOiB,UAAU2I,OAAS,WACxB,MAAO,CACL/G,KAAM,SACNE,KAAMtF,MAAMwD,UAAUY,MAAM6C,KAAKb,KAAKgG,MAAQhG,KAAM,GAExD,EAyFA,MAAMsD,EAAuB,KAoB7B,SAASnD,EAAYlD,EAAK/C,EAAOC,GAC/B,IAAI8L,EAAM,GACV9L,EAAMiB,KAAKwH,IAAI3F,EAAI/D,OAAQiB,GAE3B,IAAA,IAAS1B,EAAIyB,EAAOzB,EAAI0B,IAAO1B,EAC7BwN,GAAO/E,OAAOqC,aAAsB,IAATtG,EAAIxE,IAEjC,OAAOwN,CACT,CAEA,SAAS7F,EAAanD,EAAK/C,EAAOC,GAChC,IAAI8L,EAAM,GACV9L,EAAMiB,KAAKwH,IAAI3F,EAAI/D,OAAQiB,GAE3B,IAAA,IAAS1B,EAAIyB,EAAOzB,EAAI0B,IAAO1B,EAC7BwN,GAAO/E,OAAOqC,aAAatG,EAAIxE,IAEjC,OAAOwN,CACT,CAEA,SAAShG,EAAUhD,EAAK/C,EAAOC,GAC7B,MAAMrB,EAAMmE,EAAI/D,SAEXgB,GAASA,EAAQ,KAAGA,EAAQ,KAC5BC,GAAOA,EAAM,GAAKA,EAAMrB,KAAKqB,EAAMrB,GAExC,IAAIoN,EAAM,GACV,IAAA,IAASzN,EAAIyB,EAAOzB,EAAI0B,IAAO1B,EAC7ByN,GAAOC,GAAoBlJ,EAAIxE,IAEjC,OAAOyN,CACT,CAEA,SAAS5F,EAAcrD,EAAK/C,EAAOC,GACjC,MAAMiM,EAAQnJ,EAAIe,MAAM9D,EAAOC,GAC/B,IAAI0I,EAAM,GAEV,IAAA,IAASpK,EAAI,EAAGA,EAAI2N,EAAMlN,OAAS,EAAGT,GAAK,EACzCoK,GAAO3B,OAAOqC,aAAa6C,EAAM3N,GAAqB,IAAf2N,EAAM3N,EAAI,IAEnD,OAAOoK,CACT,CAiCA,SAASwD,EAAa/L,EAAQgM,EAAKpN,GACjC,GAAKoB,EAAS,GAAO,GAAKA,EAAS,EAAG,MAAM,IAAI0C,WAAW,sBAC3D,GAAI1C,EAASgM,EAAMpN,EAAQ,MAAM,IAAI8D,WAAW,wCAClD,CAyQA,SAASuJ,EAAUtJ,EAAK3B,EAAOhB,EAAQgM,EAAKjB,EAAKzC,GAC/C,IAAKzG,EAAO0C,SAAS5B,GAAM,MAAM,IAAIM,UAAU,+CAC/C,GAAIjC,EAAQ+J,GAAO/J,EAAQsH,EAAK,MAAM,IAAI5F,WAAW,qCACrD,GAAI1C,EAASgM,EAAMrJ,EAAI/D,OAAQ,MAAM,IAAI8D,WAAW,qBACtD,CA+FA,SAASwJ,EAAgBvJ,EAAK3B,EAAOhB,EAAQsI,EAAKyC,GAChDoB,EAAWnL,EAAOsH,EAAKyC,EAAKpI,EAAK3C,EAAQ,GAEzC,IAAImI,EAAKhB,OAAOnG,EAAQoL,OAAO,aAC/BzJ,EAAI3C,KAAYmI,EAChBA,IAAW,EACXxF,EAAI3C,KAAYmI,EAChBA,IAAW,EACXxF,EAAI3C,KAAYmI,EAChBA,IAAW,EACXxF,EAAI3C,KAAYmI,EAChB,IAAID,EAAKf,OAAOnG,GAASoL,OAAO,IAAMA,OAAO,aAQ7C,OAPAzJ,EAAI3C,KAAYkI,EAChBA,IAAW,EACXvF,EAAI3C,KAAYkI,EAChBA,IAAW,EACXvF,EAAI3C,KAAYkI,EAChBA,IAAW,EACXvF,EAAI3C,KAAYkI,EACTlI,CACT,CAEA,SAASqM,EAAgB1J,EAAK3B,EAAOhB,EAAQsI,EAAKyC,GAChDoB,EAAWnL,EAAOsH,EAAKyC,EAAKpI,EAAK3C,EAAQ,GAEzC,IAAImI,EAAKhB,OAAOnG,EAAQoL,OAAO,aAC/BzJ,EAAI3C,EAAS,GAAKmI,EAClBA,IAAW,EACXxF,EAAI3C,EAAS,GAAKmI,EAClBA,IAAW,EACXxF,EAAI3C,EAAS,GAAKmI,EAClBA,IAAW,EACXxF,EAAI3C,EAAS,GAAKmI,EAClB,IAAID,EAAKf,OAAOnG,GAASoL,OAAO,IAAMA,OAAO,aAQ7C,OAPAzJ,EAAI3C,EAAS,GAAKkI,EAClBA,IAAW,EACXvF,EAAI3C,EAAS,GAAKkI,EAClBA,IAAW,EACXvF,EAAI3C,EAAS,GAAKkI,EAClBA,IAAW,EACXvF,EAAI3C,GAAUkI,EACPlI,EAAS,CAClB,CAkHA,SAASsM,EAAc3J,EAAK3B,EAAOhB,EAAQgM,EAAKjB,EAAKzC,GACnD,GAAItI,EAASgM,EAAMrJ,EAAI/D,OAAQ,MAAM,IAAI8D,WAAW,sBACpD,GAAI1C,EAAS,EAAG,MAAM,IAAI0C,WAAW,qBACvC,CAEA,SAAS6J,EAAY5J,EAAK3B,EAAOhB,EAAQwM,EAAcC,GAOrD,OANAzL,GAASA,EACThB,KAAoB,EACfyM,GACHH,EAAa3J,EAAK3B,EAAOhB,EAAQ,GAEnC0B,EAAU+B,MAAMd,EAAK3B,EAAOhB,EAAQwM,EAAc,GAAI,GAC/CxM,EAAS,CAClB,CAUA,SAAS0M,EAAa/J,EAAK3B,EAAOhB,EAAQwM,EAAcC,GAOtD,OANAzL,GAASA,EACThB,KAAoB,EACfyM,GACHH,EAAa3J,EAAK3B,EAAOhB,EAAQ,GAEnC0B,EAAU+B,MAAMd,EAAK3B,EAAOhB,EAAQwM,EAAc,GAAI,GAC/CxM,EAAS,CAClB,CAzkBA6B,EAAOiB,UAAUY,MAAQ,SAAgB9D,EAAOC,GAC9C,MAAMrB,EAAMkH,KAAK9G,QACjBgB,IAAUA,GAGE,GACVA,GAASpB,GACG,IAAGoB,EAAQ,GACdA,EAAQpB,IACjBoB,EAAQpB,IANVqB,OAAc,IAARA,EAAoBrB,IAAQqB,GASxB,GACRA,GAAOrB,GACG,IAAGqB,EAAM,GACVA,EAAMrB,IACfqB,EAAMrB,GAGJqB,EAAMD,IAAOC,EAAMD,GAEvB,MAAM+M,EAASjH,KAAKkH,SAAShN,EAAOC,GAIpC,OAFA+C,OAAOC,eAAe8J,EAAQ9K,EAAOiB,WAE9B6J,CACT,EAUA9K,EAAOiB,UAAU+J,WACjBhL,EAAOiB,UAAUgK,WAAa,SAAqB9M,EAAQuD,EAAYkJ,GACrEzM,KAAoB,EACpBuD,KAA4B,EACvBkJ,GAAUV,EAAY/L,EAAQuD,EAAYmC,KAAK9G,QAEpD,IAAIwH,EAAMV,KAAK1F,GACX+M,EAAM,EACN5O,EAAI,EACR,OAASA,EAAIoF,IAAewJ,GAAO,MACjC3G,GAAOV,KAAK1F,EAAS7B,GAAK4O,EAG5B,OAAO3G,CACT,EAEAvE,EAAOiB,UAAUkK,WACjBnL,EAAOiB,UAAUmK,WAAa,SAAqBjN,EAAQuD,EAAYkJ,GACrEzM,KAAoB,EACpBuD,KAA4B,EACvBkJ,GACHV,EAAY/L,EAAQuD,EAAYmC,KAAK9G,QAGvC,IAAIwH,EAAMV,KAAK1F,IAAWuD,GACtBwJ,EAAM,EACV,KAAOxJ,EAAa,IAAMwJ,GAAO,MAC/B3G,GAAOV,KAAK1F,IAAWuD,GAAcwJ,EAGvC,OAAO3G,CACT,EAEAvE,EAAOiB,UAAUoK,UACjBrL,EAAOiB,UAAUqK,UAAY,SAAoBnN,EAAQyM,GAGvD,OAFAzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QACpC8G,KAAK1F,EACd,EAEA6B,EAAOiB,UAAUsK,aACjBvL,EAAOiB,UAAUuK,aAAe,SAAuBrN,EAAQyM,GAG7D,OAFAzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QACpC8G,KAAK1F,GAAW0F,KAAK1F,EAAS,IAAM,CAC7C,EAEA6B,EAAOiB,UAAUwK,aACjBzL,EAAOiB,UAAUgE,aAAe,SAAuB9G,EAAQyM,GAG7D,OAFAzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QACnC8G,KAAK1F,IAAW,EAAK0F,KAAK1F,EAAS,EAC7C,EAEA6B,EAAOiB,UAAUyK,aACjB1L,EAAOiB,UAAU0K,aAAe,SAAuBxN,EAAQyM,GAI7D,OAHAzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,SAElC8G,KAAK1F,GACT0F,KAAK1F,EAAS,IAAM,EACpB0F,KAAK1F,EAAS,IAAM,IACD,SAAnB0F,KAAK1F,EAAS,EACrB,EAEA6B,EAAOiB,UAAU2K,aACjB5L,EAAOiB,UAAU4K,aAAe,SAAuB1N,EAAQyM,GAI7D,OAHAzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QAEpB,SAAf8G,KAAK1F,IACT0F,KAAK1F,EAAS,IAAM,GACrB0F,KAAK1F,EAAS,IAAM,EACrB0F,KAAK1F,EAAS,GAClB,EAEA6B,EAAOiB,UAAU6K,gBAAkBC,GAAmB,SAA0B5N,GAE9E6N,EADA7N,KAAoB,EACG,UACvB,MAAM8N,EAAQpI,KAAK1F,GACb+N,EAAOrI,KAAK1F,EAAS,QACb,IAAV8N,QAAgC,IAATC,GACzBC,EAAYhO,EAAQ0F,KAAK9G,OAAS,GAGpC,MAAMuJ,EAAK2F,EACQ,IAAjBpI,OAAO1F,GACU,MAAjB0F,OAAO1F,GACP0F,OAAO1F,GAAU,GAAK,GAElBkI,EAAKxC,OAAO1F,GACC,IAAjB0F,OAAO1F,GACU,MAAjB0F,OAAO1F,GACP+N,EAAO,GAAK,GAEd,OAAO3B,OAAOjE,IAAOiE,OAAOlE,IAAOkE,OAAO,IAC5C,GAEAvK,EAAOiB,UAAUmL,gBAAkBL,GAAmB,SAA0B5N,GAE9E6N,EADA7N,KAAoB,EACG,UACvB,MAAM8N,EAAQpI,KAAK1F,GACb+N,EAAOrI,KAAK1F,EAAS,QACb,IAAV8N,QAAgC,IAATC,GACzBC,EAAYhO,EAAQ0F,KAAK9G,OAAS,GAGpC,MAAMsJ,EAAK4F,EAAQ,GAAK,GACL,MAAjBpI,OAAO1F,GACU,IAAjB0F,OAAO1F,GACP0F,OAAO1F,GAEHmI,EAAKzC,OAAO1F,GAAU,GAAK,GACd,MAAjB0F,OAAO1F,GACU,IAAjB0F,OAAO1F,GACP+N,EAEF,OAAQ3B,OAAOlE,IAAOkE,OAAO,KAAOA,OAAOjE,EAC7C,GAEAtG,EAAOiB,UAAUoL,UAAY,SAAoBlO,EAAQuD,EAAYkJ,GACnEzM,KAAoB,EACpBuD,KAA4B,EACvBkJ,GAAUV,EAAY/L,EAAQuD,EAAYmC,KAAK9G,QAEpD,IAAIwH,EAAMV,KAAK1F,GACX+M,EAAM,EACN5O,EAAI,EACR,OAASA,EAAIoF,IAAewJ,GAAO,MACjC3G,GAAOV,KAAK1F,EAAS7B,GAAK4O,EAM5B,OAJAA,GAAO,IAEH3G,GAAO2G,IAAK3G,GAAOtF,KAAKC,IAAI,EAAG,EAAIwC,IAEhC6C,CACT,EAEAvE,EAAOiB,UAAUqL,UAAY,SAAoBnO,EAAQuD,EAAYkJ,GACnEzM,KAAoB,EACpBuD,KAA4B,EACvBkJ,GAAUV,EAAY/L,EAAQuD,EAAYmC,KAAK9G,QAEpD,IAAIT,EAAIoF,EACJwJ,EAAM,EACN3G,EAAMV,KAAK1F,IAAW7B,GAC1B,KAAOA,EAAI,IAAM4O,GAAO,MACtB3G,GAAOV,KAAK1F,IAAW7B,GAAK4O,EAM9B,OAJAA,GAAO,IAEH3G,GAAO2G,IAAK3G,GAAOtF,KAAKC,IAAI,EAAG,EAAIwC,IAEhC6C,CACT,EAEAvE,EAAOiB,UAAUsL,SAAW,SAAmBpO,EAAQyM,GAGrD,OAFAzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QACtB,IAAf8G,KAAK1F,IACyB,GAA3B,IAAO0F,KAAK1F,GAAU,GADK0F,KAAK1F,EAE3C,EAEA6B,EAAOiB,UAAUuL,YAAc,SAAsBrO,EAAQyM,GAC3DzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QAC3C,MAAMwH,EAAMV,KAAK1F,GAAW0F,KAAK1F,EAAS,IAAM,EAChD,OAAc,MAANoG,EAAsB,WAANA,EAAmBA,CAC7C,EAEAvE,EAAOiB,UAAUwL,YAAc,SAAsBtO,EAAQyM,GAC3DzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QAC3C,MAAMwH,EAAMV,KAAK1F,EAAS,GAAM0F,KAAK1F,IAAW,EAChD,OAAc,MAANoG,EAAsB,WAANA,EAAmBA,CAC7C,EAEAvE,EAAOiB,UAAUyL,YAAc,SAAsBvO,EAAQyM,GAI3D,OAHAzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QAEnC8G,KAAK1F,GACV0F,KAAK1F,EAAS,IAAM,EACpB0F,KAAK1F,EAAS,IAAM,GACpB0F,KAAK1F,EAAS,IAAM,EACzB,EAEA6B,EAAOiB,UAAU0L,YAAc,SAAsBxO,EAAQyM,GAI3D,OAHAzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QAEnC8G,KAAK1F,IAAW,GACrB0F,KAAK1F,EAAS,IAAM,GACpB0F,KAAK1F,EAAS,IAAM,EACpB0F,KAAK1F,EAAS,EACnB,EAEA6B,EAAOiB,UAAU2L,eAAiBb,GAAmB,SAAyB5N,GAE5E6N,EADA7N,KAAoB,EACG,UACvB,MAAM8N,EAAQpI,KAAK1F,GACb+N,EAAOrI,KAAK1F,EAAS,QACb,IAAV8N,QAAgC,IAATC,GACzBC,EAAYhO,EAAQ0F,KAAK9G,OAAS,GAGpC,MAAMwH,EAAMV,KAAK1F,EAAS,GACL,IAAnB0F,KAAK1F,EAAS,GACK,MAAnB0F,KAAK1F,EAAS,IACb+N,GAAQ,IAEX,OAAQ3B,OAAOhG,IAAQgG,OAAO,KAC5BA,OAAO0B,EACU,IAAjBpI,OAAO1F,GACU,MAAjB0F,OAAO1F,GACP0F,OAAO1F,GAAU,GAAK,GAC1B,GAEA6B,EAAOiB,UAAU4L,eAAiBd,GAAmB,SAAyB5N,GAE5E6N,EADA7N,KAAoB,EACG,UACvB,MAAM8N,EAAQpI,KAAK1F,GACb+N,EAAOrI,KAAK1F,EAAS,QACb,IAAV8N,QAAgC,IAATC,GACzBC,EAAYhO,EAAQ0F,KAAK9G,OAAS,GAGpC,MAAMwH,GAAO0H,GAAS,IACH,MAAjBpI,OAAO1F,GACU,IAAjB0F,OAAO1F,GACP0F,OAAO1F,GAET,OAAQoM,OAAOhG,IAAQgG,OAAO,KAC5BA,OAAO1G,OAAO1F,GAAU,GAAK,GACZ,MAAjB0F,OAAO1F,GACU,IAAjB0F,OAAO1F,GACP+N,EACJ,GAEAlM,EAAOiB,UAAU6L,YAAc,SAAsB3O,EAAQyM,GAG3D,OAFAzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QACpC8C,EAAUmF,KAAKnB,KAAM1F,GAAQ,EAAM,GAAI,EAChD,EAEA6B,EAAOiB,UAAU8L,YAAc,SAAsB5O,EAAQyM,GAG3D,OAFAzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QACpC8C,EAAUmF,KAAKnB,KAAM1F,GAAQ,EAAO,GAAI,EACjD,EAEA6B,EAAOiB,UAAU+L,aAAe,SAAuB7O,EAAQyM,GAG7D,OAFAzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QACpC8C,EAAUmF,KAAKnB,KAAM1F,GAAQ,EAAM,GAAI,EAChD,EAEA6B,EAAOiB,UAAUgM,aAAe,SAAuB9O,EAAQyM,GAG7D,OAFAzM,KAAoB,EACfyM,GAAUV,EAAY/L,EAAQ,EAAG0F,KAAK9G,QACpC8C,EAAUmF,KAAKnB,KAAM1F,GAAQ,EAAO,GAAI,EACjD,EAQA6B,EAAOiB,UAAUiM,YACjBlN,EAAOiB,UAAUkM,YAAc,SAAsBhO,EAAOhB,EAAQuD,EAAYkJ,GAI9E,GAHAzL,GAASA,EACThB,KAAoB,EACpBuD,KAA4B,GACvBkJ,EAAU,CAEbR,EAASvG,KAAM1E,EAAOhB,EAAQuD,EADbzC,KAAKC,IAAI,EAAG,EAAIwC,GAAc,EACK,EACtD,CAEA,IAAIwJ,EAAM,EACN5O,EAAI,EAER,IADAuH,KAAK1F,GAAkB,IAARgB,IACN7C,EAAIoF,IAAewJ,GAAO,MACjCrH,KAAK1F,EAAS7B,GAAM6C,EAAQ+L,EAAO,IAGrC,OAAO/M,EAASuD,CAClB,EAEA1B,EAAOiB,UAAUmM,YACjBpN,EAAOiB,UAAUoM,YAAc,SAAsBlO,EAAOhB,EAAQuD,EAAYkJ,GAI9E,GAHAzL,GAASA,EACThB,KAAoB,EACpBuD,KAA4B,GACvBkJ,EAAU,CAEbR,EAASvG,KAAM1E,EAAOhB,EAAQuD,EADbzC,KAAKC,IAAI,EAAG,EAAIwC,GAAc,EACK,EACtD,CAEA,IAAIpF,EAAIoF,EAAa,EACjBwJ,EAAM,EAEV,IADArH,KAAK1F,EAAS7B,GAAa,IAAR6C,IACV7C,GAAK,IAAM4O,GAAO,MACzBrH,KAAK1F,EAAS7B,GAAM6C,EAAQ+L,EAAO,IAGrC,OAAO/M,EAASuD,CAClB,EAEA1B,EAAOiB,UAAUqM,WACjBtN,EAAOiB,UAAUsM,WAAa,SAAqBpO,EAAOhB,EAAQyM,GAKhE,OAJAzL,GAASA,EACThB,KAAoB,EACfyM,GAAUR,EAASvG,KAAM1E,EAAOhB,EAAQ,EAAG,IAAM,GACtD0F,KAAK1F,GAAmB,IAARgB,EACThB,EAAS,CAClB,EAEA6B,EAAOiB,UAAUuM,cACjBxN,EAAOiB,UAAUwM,cAAgB,SAAwBtO,EAAOhB,EAAQyM,GAMtE,OALAzL,GAASA,EACThB,KAAoB,EACfyM,GAAUR,EAASvG,KAAM1E,EAAOhB,EAAQ,EAAG,MAAQ,GACxD0F,KAAK1F,GAAmB,IAARgB,EAChB0E,KAAK1F,EAAS,GAAMgB,IAAU,EACvBhB,EAAS,CAClB,EAEA6B,EAAOiB,UAAUyM,cACjB1N,EAAOiB,UAAU0M,cAAgB,SAAwBxO,EAAOhB,EAAQyM,GAMtE,OALAzL,GAASA,EACThB,KAAoB,EACfyM,GAAUR,EAASvG,KAAM1E,EAAOhB,EAAQ,EAAG,MAAQ,GACxD0F,KAAK1F,GAAWgB,IAAU,EAC1B0E,KAAK1F,EAAS,GAAc,IAARgB,EACbhB,EAAS,CAClB,EAEA6B,EAAOiB,UAAU2M,cACjB5N,EAAOiB,UAAU4M,cAAgB,SAAwB1O,EAAOhB,EAAQyM,GAQtE,OAPAzL,GAASA,EACThB,KAAoB,EACfyM,GAAUR,EAASvG,KAAM1E,EAAOhB,EAAQ,EAAG,WAAY,GAC5D0F,KAAK1F,EAAS,GAAMgB,IAAU,GAC9B0E,KAAK1F,EAAS,GAAMgB,IAAU,GAC9B0E,KAAK1F,EAAS,GAAMgB,IAAU,EAC9B0E,KAAK1F,GAAmB,IAARgB,EACThB,EAAS,CAClB,EAEA6B,EAAOiB,UAAU6M,cACjB9N,EAAOiB,UAAU8M,cAAgB,SAAwB5O,EAAOhB,EAAQyM,GAQtE,OAPAzL,GAASA,EACThB,KAAoB,EACfyM,GAAUR,EAASvG,KAAM1E,EAAOhB,EAAQ,EAAG,WAAY,GAC5D0F,KAAK1F,GAAWgB,IAAU,GAC1B0E,KAAK1F,EAAS,GAAMgB,IAAU,GAC9B0E,KAAK1F,EAAS,GAAMgB,IAAU,EAC9B0E,KAAK1F,EAAS,GAAc,IAARgB,EACbhB,EAAS,CAClB,EA8CA6B,EAAOiB,UAAU+M,iBAAmBjC,GAAmB,SAA2B5M,EAAOhB,EAAS,GAChG,OAAOkM,EAAexG,KAAM1E,EAAOhB,EAAQoM,OAAO,GAAIA,OAAO,sBAC/D,GAEAvK,EAAOiB,UAAUgN,iBAAmBlC,GAAmB,SAA2B5M,EAAOhB,EAAS,GAChG,OAAOqM,EAAe3G,KAAM1E,EAAOhB,EAAQoM,OAAO,GAAIA,OAAO,sBAC/D,GAEAvK,EAAOiB,UAAUiN,WAAa,SAAqB/O,EAAOhB,EAAQuD,EAAYkJ,GAG5E,GAFAzL,GAASA,EACThB,KAAoB,GACfyM,EAAU,CACb,MAAMuD,EAAQlP,KAAKC,IAAI,EAAI,EAAIwC,EAAc,GAE7C0I,EAASvG,KAAM1E,EAAOhB,EAAQuD,EAAYyM,EAAQ,GAAIA,EACxD,CAEA,IAAI7R,EAAI,EACJ4O,EAAM,EACNkD,EAAM,EAEV,IADAvK,KAAK1F,GAAkB,IAARgB,IACN7C,EAAIoF,IAAewJ,GAAO,MAC7B/L,EAAQ,GAAa,IAARiP,GAAsC,IAAzBvK,KAAK1F,EAAS7B,EAAI,KAC9C8R,EAAM,GAERvK,KAAK1F,EAAS7B,IAAO6C,EAAQ+L,EAAQ,GAAKkD,EAAM,IAGlD,OAAOjQ,EAASuD,CAClB,EAEA1B,EAAOiB,UAAUoN,WAAa,SAAqBlP,EAAOhB,EAAQuD,EAAYkJ,GAG5E,GAFAzL,GAASA,EACThB,KAAoB,GACfyM,EAAU,CACb,MAAMuD,EAAQlP,KAAKC,IAAI,EAAI,EAAIwC,EAAc,GAE7C0I,EAASvG,KAAM1E,EAAOhB,EAAQuD,EAAYyM,EAAQ,GAAIA,EACxD,CAEA,IAAI7R,EAAIoF,EAAa,EACjBwJ,EAAM,EACNkD,EAAM,EAEV,IADAvK,KAAK1F,EAAS7B,GAAa,IAAR6C,IACV7C,GAAK,IAAM4O,GAAO,MACrB/L,EAAQ,GAAa,IAARiP,GAAsC,IAAzBvK,KAAK1F,EAAS7B,EAAI,KAC9C8R,EAAM,GAERvK,KAAK1F,EAAS7B,IAAO6C,EAAQ+L,EAAQ,GAAKkD,EAAM,IAGlD,OAAOjQ,EAASuD,CAClB,EAEA1B,EAAOiB,UAAUqN,UAAY,SAAoBnP,EAAOhB,EAAQyM,GAM9D,OALAzL,GAASA,EACThB,KAAoB,EACfyM,GAAUR,EAASvG,KAAM1E,EAAOhB,EAAQ,EAAG,KAAM,KAClDgB,EAAQ,IAAGA,EAAQ,IAAOA,EAAQ,GACtC0E,KAAK1F,GAAmB,IAARgB,EACThB,EAAS,CAClB,EAEA6B,EAAOiB,UAAUsN,aAAe,SAAuBpP,EAAOhB,EAAQyM,GAMpE,OALAzL,GAASA,EACThB,KAAoB,EACfyM,GAAUR,EAASvG,KAAM1E,EAAOhB,EAAQ,EAAG,OAAQ,OACxD0F,KAAK1F,GAAmB,IAARgB,EAChB0E,KAAK1F,EAAS,GAAMgB,IAAU,EACvBhB,EAAS,CAClB,EAEA6B,EAAOiB,UAAUuN,aAAe,SAAuBrP,EAAOhB,EAAQyM,GAMpE,OALAzL,GAASA,EACThB,KAAoB,EACfyM,GAAUR,EAASvG,KAAM1E,EAAOhB,EAAQ,EAAG,OAAQ,OACxD0F,KAAK1F,GAAWgB,IAAU,EAC1B0E,KAAK1F,EAAS,GAAc,IAARgB,EACbhB,EAAS,CAClB,EAEA6B,EAAOiB,UAAUwN,aAAe,SAAuBtP,EAAOhB,EAAQyM,GAQpE,OAPAzL,GAASA,EACThB,KAAoB,EACfyM,GAAUR,EAASvG,KAAM1E,EAAOhB,EAAQ,EAAG,YAAY,YAC5D0F,KAAK1F,GAAmB,IAARgB,EAChB0E,KAAK1F,EAAS,GAAMgB,IAAU,EAC9B0E,KAAK1F,EAAS,GAAMgB,IAAU,GAC9B0E,KAAK1F,EAAS,GAAMgB,IAAU,GACvBhB,EAAS,CAClB,EAEA6B,EAAOiB,UAAUyN,aAAe,SAAuBvP,EAAOhB,EAAQyM,GASpE,OARAzL,GAASA,EACThB,KAAoB,EACfyM,GAAUR,EAASvG,KAAM1E,EAAOhB,EAAQ,EAAG,YAAY,YACxDgB,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GAC5C0E,KAAK1F,GAAWgB,IAAU,GAC1B0E,KAAK1F,EAAS,GAAMgB,IAAU,GAC9B0E,KAAK1F,EAAS,GAAMgB,IAAU,EAC9B0E,KAAK1F,EAAS,GAAc,IAARgB,EACbhB,EAAS,CAClB,EAEA6B,EAAOiB,UAAU0N,gBAAkB5C,GAAmB,SAA0B5M,EAAOhB,EAAS,GAC9F,OAAOkM,EAAexG,KAAM1E,EAAOhB,GAASoM,OAAO,sBAAuBA,OAAO,sBACnF,GAEAvK,EAAOiB,UAAU2N,gBAAkB7C,GAAmB,SAA0B5M,EAAOhB,EAAS,GAC9F,OAAOqM,EAAe3G,KAAM1E,EAAOhB,GAASoM,OAAO,sBAAuBA,OAAO,sBACnF,GAiBAvK,EAAOiB,UAAU4N,aAAe,SAAuB1P,EAAOhB,EAAQyM,GACpE,OAAOF,EAAW7G,KAAM1E,EAAOhB,GAAQ,EAAMyM,EAC/C,EAEA5K,EAAOiB,UAAU6N,aAAe,SAAuB3P,EAAOhB,EAAQyM,GACpE,OAAOF,EAAW7G,KAAM1E,EAAOhB,GAAQ,EAAOyM,EAChD,EAYA5K,EAAOiB,UAAU8N,cAAgB,SAAwB5P,EAAOhB,EAAQyM,GACtE,OAAOC,EAAYhH,KAAM1E,EAAOhB,GAAQ,EAAMyM,EAChD,EAEA5K,EAAOiB,UAAU+N,cAAgB,SAAwB7P,EAAOhB,EAAQyM,GACtE,OAAOC,EAAYhH,KAAM1E,EAAOhB,GAAQ,EAAOyM,EACjD,EAGA5K,EAAOiB,UAAUiB,KAAO,SAAemH,EAAQ4F,EAAalR,EAAOC,GACjE,IAAKgC,EAAO0C,SAAS2G,GAAS,MAAM,IAAIjI,UAAU,+BAQlD,GAPKrD,IAAOA,EAAQ,GACfC,GAAe,IAARA,MAAiB6F,KAAK9G,QAC9BkS,GAAe5F,EAAOtM,SAAQkS,EAAc5F,EAAOtM,QAClDkS,IAAaA,EAAc,GAC5BjR,EAAM,GAAKA,EAAMD,IAAOC,EAAMD,GAG9BC,IAAQD,EAAO,OAAO,EAC1B,GAAsB,IAAlBsL,EAAOtM,QAAgC,IAAhB8G,KAAK9G,OAAc,OAAO,EAGrD,GAAIkS,EAAc,EAChB,MAAM,IAAIpO,WAAW,6BAEvB,GAAI9C,EAAQ,GAAKA,GAAS8F,KAAK9G,OAAQ,MAAM,IAAI8D,WAAW,sBAC5D,GAAI7C,EAAM,EAAG,MAAM,IAAI6C,WAAW,2BAG9B7C,EAAM6F,KAAK9G,SAAQiB,EAAM6F,KAAK9G,QAC9BsM,EAAOtM,OAASkS,EAAcjR,EAAMD,IACtCC,EAAMqL,EAAOtM,OAASkS,EAAclR,GAGtC,MAAMpB,EAAMqB,EAAMD,EAalB,OAXI8F,OAASwF,GAA2D,mBAA1C/I,EAAiBW,UAAUiO,WAEvDrL,KAAKqL,WAAWD,EAAalR,EAAOC,GAEpCsC,EAAiBW,UAAU0H,IAAIjE,KAC7B2E,EACAxF,KAAKkH,SAAShN,EAAOC,GACrBiR,GAIGtS,CACT,EAMAqD,EAAOiB,UAAUgH,KAAO,SAAe1D,EAAKxG,EAAOC,EAAKwD,GAEtD,GAAmB,iBAAR+C,EAAkB,CAS3B,GARqB,iBAAVxG,GACTyD,EAAWzD,EACXA,EAAQ,EACRC,EAAM6F,KAAK9G,QACa,iBAARiB,IAChBwD,EAAWxD,EACXA,EAAM6F,KAAK9G,aAEI,IAAbyE,GAA8C,iBAAbA,EACnC,MAAM,IAAIJ,UAAU,6BAEtB,GAAwB,iBAAbI,IAA0BxB,EAAOyB,WAAWD,GACrD,MAAM,IAAIJ,UAAU,qBAAuBI,GAE7C,GAAmB,IAAf+C,EAAIxH,OAAc,CACpB,MAAMW,EAAO6G,EAAI1H,WAAW,IACV,SAAb2E,GAAuB9D,EAAO,KAClB,WAAb8D,KAEF+C,EAAM7G,EAEV,CACF,KAA0B,iBAAR6G,EAChBA,GAAY,IACY,kBAARA,IAChBA,EAAMe,OAAOf,IAIf,GAAIxG,EAAQ,GAAK8F,KAAK9G,OAASgB,GAAS8F,KAAK9G,OAASiB,EACpD,MAAM,IAAI6C,WAAW,sBAGvB,GAAI7C,GAAOD,EACT,OAAO8F,KAQT,IAAIvH,EACJ,GANAyB,KAAkB,EAClBC,OAAc,IAARA,EAAoB6F,KAAK9G,OAASiB,IAAQ,EAE3CuG,IAAKA,EAAM,GAGG,iBAARA,EACT,IAAKjI,EAAIyB,EAAOzB,EAAI0B,IAAO1B,EACzBuH,KAAKvH,GAAKiI,MAEP,CACL,MAAM0F,EAAQjK,EAAO0C,SAAS6B,GAC1BA,EACAvE,EAAOsB,KAAKiD,EAAK/C,GACf7E,EAAMsN,EAAMlN,OAClB,GAAY,IAARJ,EACF,MAAM,IAAIyE,UAAU,cAAgBmD,EAClC,qCAEJ,IAAKjI,EAAI,EAAGA,EAAI0B,EAAMD,IAASzB,EAC7BuH,KAAKvH,EAAIyB,GAASkM,EAAM3N,EAAIK,EAEhC,CAEA,OAAOkH,IACT,EAMA,MAAMsL,EAAS,CAAA,EACf,SAASC,EAAGC,EAAKC,EAAYC,GAC3BJ,EAAOE,GAAO,cAAwBE,EACpC,WAAAC,GACEC,QAEA1O,OAAO8G,eAAehE,KAAM,UAAW,CACrC1E,MAAOmQ,EAAWjI,MAAMxD,KAAMN,WAC9BmM,UAAU,EACVC,cAAc,IAIhB9L,KAAK+L,KAAO,GAAG/L,KAAK+L,SAASP,KAG7BxL,KAAKgM,aAEEhM,KAAK+L,IACd,CAEA,QAAIlS,GACF,OAAO2R,CACT,CAEA,QAAI3R,CAAMyB,GACR4B,OAAO8G,eAAehE,KAAM,OAAQ,CAClC8L,cAAc,EACd7H,YAAY,EACZ3I,MAAAA,EACAuQ,UAAU,GAEd,CAEA,QAAArM,GACE,MAAO,GAAGQ,KAAK+L,SAASP,OAASxL,KAAKiM,SACxC,EAEJ,CA+BA,SAASC,EAAuBxL,GAC9B,IAAImC,EAAM,GACNpK,EAAIiI,EAAIxH,OACZ,MAAMgB,EAAmB,MAAXwG,EAAI,GAAa,EAAI,EACnC,KAAOjI,GAAKyB,EAAQ,EAAGzB,GAAK,EAC1BoK,EAAM,IAAInC,EAAI1C,MAAMvF,EAAI,EAAGA,KAAKoK,IAElC,MAAO,GAAGnC,EAAI1C,MAAM,EAAGvF,KAAKoK,GAC9B,CAYA,SAAS4D,EAAYnL,EAAOsH,EAAKyC,EAAKpI,EAAK3C,EAAQuD,GACjD,GAAIvC,EAAQ+J,GAAO/J,EAAQsH,EAAK,CAC9B,MAAMpC,EAAmB,iBAARoC,EAAmB,IAAM,GAC1C,IAAIuJ,EAWJ,MARIA,EADU,IAARvJ,GAAaA,IAAQ8D,OAAO,GACtB,OAAOlG,YAAYA,QAA2B,GAAlB3C,EAAa,KAAS2C,IAElD,SAASA,QAA2B,GAAlB3C,EAAa,GAAS,IAAI2C,iBACtB,GAAlB3C,EAAa,GAAS,IAAI2C,IAKpC,IAAI8K,EAAOc,iBAAiB,QAASD,EAAO7Q,EACpD,EAtBF,SAAsB2B,EAAK3C,EAAQuD,GACjCsK,EAAe7N,EAAQ,eACH,IAAhB2C,EAAI3C,SAAsD,IAA7B2C,EAAI3C,EAASuD,IAC5CyK,EAAYhO,EAAQ2C,EAAI/D,QAAU2E,EAAa,GAEnD,CAkBEwO,CAAYpP,EAAK3C,EAAQuD,EAC3B,CAEA,SAASsK,EAAgB7M,EAAOyQ,GAC9B,GAAqB,iBAAVzQ,EACT,MAAM,IAAIgQ,EAAOgB,qBAAqBP,EAAM,SAAUzQ,EAE1D,CAEA,SAASgN,EAAahN,EAAOpC,EAAQ8F,GACnC,GAAI5D,KAAKO,MAAML,KAAWA,EAExB,MADA6M,EAAe7M,EAAO0D,GAChB,IAAIsM,EAAOc,iBAAyB,SAAU,aAAc9Q,GAGpE,GAAIpC,EAAS,EACX,MAAM,IAAIoS,EAAOiB,yBAGnB,MAAM,IAAIjB,EAAOc,iBAAyB,SACR,eAA6BlT,IAC7BoC,EACpC,CAvFAiQ,EAAE,2BACA,SAAUQ,GACR,OAAIA,EACK,GAAGA,gCAGL,gDACT,EAAG/O,YACLuO,EAAE,uBACA,SAAUQ,EAAMjO,GACd,MAAO,QAAQiO,4DAA+DjO,GAChF,EAAGP,WACLgO,EAAE,mBACA,SAAUrJ,EAAKiK,EAAOK,GACpB,IAAIC,EAAM,iBAAiBvK,sBACvBwK,EAAWF,EAWf,OAVI/K,OAAOkL,UAAUH,IAAUpR,KAAKK,IAAI+Q,GAAS,GAAK,GACpDE,EAAWR,EAAsBhL,OAAOsL,IACd,iBAAVA,IAChBE,EAAWxL,OAAOsL,IACdA,EAAQ9F,OAAO,IAAMA,OAAO,KAAO8F,IAAU9F,OAAO,IAAMA,OAAO,QACnEgG,EAAWR,EAAsBQ,IAEnCA,GAAY,KAEdD,GAAO,eAAeN,eAAmBO,IAClCD,CACT,EAAGzP,YAiEL,MAAM4P,EAAoB,oBAgB1B,SAAShN,EAAalC,EAAQ6E,GAE5B,IAAIQ,EADJR,EAAQA,GAASpH,IAEjB,MAAMjC,EAASwE,EAAOxE,OACtB,IAAI2T,EAAgB,KACpB,MAAMzG,EAAQ,GAEd,IAAA,IAAS3N,EAAI,EAAGA,EAAIS,IAAUT,EAAG,CAI/B,GAHAsK,EAAYrF,EAAO1E,WAAWP,GAG1BsK,EAAY,OAAUA,EAAY,MAAQ,CAE5C,IAAK8J,EAAe,CAElB,GAAI9J,EAAY,MAAQ,EAEjBR,GAAS,IAAK,KAAUhJ,KAAK,IAAM,IAAM,KAC9C,QACF,CAAA,GAAWd,EAAI,IAAMS,EAAQ,EAEtBqJ,GAAS,IAAK,KAAUhJ,KAAK,IAAM,IAAM,KAC9C,QACF,CAGAsT,EAAgB9J,EAEhB,QACF,CAGA,GAAIA,EAAY,MAAQ,EACjBR,GAAS,IAAK,KAAUhJ,KAAK,IAAM,IAAM,KAC9CsT,EAAgB9J,EAChB,QACF,CAGAA,EAAkE,OAArD8J,EAAgB,OAAU,GAAK9J,EAAY,MAC1D,MAAW8J,IAEJtK,GAAS,IAAK,KAAUhJ,KAAK,IAAM,IAAM,KAMhD,GAHAsT,EAAgB,KAGZ9J,EAAY,IAAM,CACpB,IAAKR,GAAS,GAAK,EAAG,MACtB6D,EAAM7M,KAAKwJ,EACb,MAAA,GAAWA,EAAY,KAAO,CAC5B,IAAKR,GAAS,GAAK,EAAG,MACtB6D,EAAM7M,KACJwJ,GAAa,EAAM,IACP,GAAZA,EAAmB,IAEvB,MAAA,GAAWA,EAAY,MAAS,CAC9B,IAAKR,GAAS,GAAK,EAAG,MACtB6D,EAAM7M,KACJwJ,GAAa,GAAM,IACnBA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,IAEvB,KAAA,MAAWA,EAAY,SASrB,MAAM,IAAIjJ,MAAM,sBARhB,IAAKyI,GAAS,GAAK,EAAG,MACtB6D,EAAM7M,KACJwJ,GAAa,GAAO,IACpBA,GAAa,GAAM,GAAO,IAC1BA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,IAIvB,CACF,CAEA,OAAOqD,CACT,CA2BA,SAASvG,EAAeqC,GACtB,OAAOnG,EAAO+Q,YAxHhB,SAAsB5K,GAMpB,IAFAA,GAFAA,EAAMA,EAAI6K,MAAM,KAAK,IAEXxH,OAAOD,QAAQsH,EAAmB,KAEpC1T,OAAS,EAAG,MAAO,GAE3B,KAAOgJ,EAAIhJ,OAAS,GAAM,GACxBgJ,GAAY,IAEd,OAAOA,CACT,CA4G4B8K,CAAY9K,GACxC,CAEA,SAASF,EAAYiL,EAAKC,EAAK5S,EAAQpB,GACrC,IAAIT,EACJ,IAAKA,EAAI,EAAGA,EAAIS,KACTT,EAAI6B,GAAU4S,EAAIhU,QAAYT,GAAKwU,EAAI/T,UADpBT,EAExByU,EAAIzU,EAAI6B,GAAU2S,EAAIxU,GAExB,OAAOA,CACT,CAKA,SAAS2F,EAAYQ,EAAKI,GACxB,OAAOJ,aAAeI,GACZ,MAAPJ,GAAkC,MAAnBA,EAAI+M,aAA+C,MAAxB/M,EAAI+M,YAAYI,MACzDnN,EAAI+M,YAAYI,OAAS/M,EAAK+M,IACpC,CACA,SAAShN,EAAaH,GAEpB,OAAOA,GAAQA,CACjB,CAIA,MAAMuH,GAAuB,WAC3B,MAAMgH,EAAW,mBACXC,EAAQ,IAAIxT,MAAM,KACxB,IAAA,IAASnB,EAAI,EAAGA,EAAI,KAAMA,EAAG,CAC3B,MAAM4U,EAAU,GAAJ5U,EACZ,IAAA,IAAS8I,EAAI,EAAGA,EAAI,KAAMA,EACxB6L,EAAMC,EAAM9L,GAAK4L,EAAS1U,GAAK0U,EAAS5L,EAE5C,CACA,OAAO6L,CACT,CAV6B,GAa7B,SAASlF,GAAoBoF,GAC3B,MAAyB,oBAAX5G,OAAyB6G,GAAyBD,CAClE,CAEA,SAASC,KACP,MAAM,IAAIzT,MAAM,uBAClB,EAljED,CAmjEG7B,GAEH,MAAMkE,EAASlE,EAAOkE,OAIhBqR,EAAWvV,EAAOkE,OClzElBsR,EAAS3Q,YAAwB4Q,KCAvC,SAASC,EAAyBlJ,GACjC,OAAOA,GAAKA,EAAEmJ,YAAc1Q,OAAOE,UAAUyQ,eAAehN,KAAK4D,EAAG,WAAaA,EAAW,QAAIA,CACjG,CAEA,IAUIqJ,EACAC,EAXAC,EAAU,CAAClS,QAAS,IAGpBmS,EAAUD,EAAQlS,QAAU,CAAA,EAUhC,SAASoS,IACL,MAAM,IAAIpU,MAAM,kCACpB,CACA,SAASqU,IACL,MAAM,IAAIrU,MAAM,oCACpB,CAqBA,SAASsU,EAAWC,GAChB,GAAIP,IAAqBQ,WAErB,OAAOA,WAAWD,EAAK,GAG3B,IAAKP,IAAqBI,IAAqBJ,IAAqBQ,WAEhE,OADAR,EAAmBQ,WACZA,WAAWD,EAAK,GAE3B,IAEI,OAAOP,EAAiBO,EAAK,EACjC,OAAQ3T,GACJ,IAEI,OAAOoT,EAAiBjN,KAAK,KAAMwN,EAAK,EAC5C,OAAQ3T,GAEJ,OAAOoT,EAAiBjN,KAAKb,KAAMqO,EAAK,EAC5C,CACJ,CAGJ,EA5CA,WACI,IAEQP,EADsB,mBAAfQ,WACYA,WAEAJ,CAE3B,OAASxT,GACLoT,EAAmBI,CACvB,CACA,IAEQH,EADwB,mBAAjBQ,aACcA,aAEAJ,CAE7B,OAASzT,GACLqT,EAAqBI,CACzB,CACJ,CAnBA,GAwEA,IAEIK,EAFAC,EAAQ,GACRC,GAAW,EAEXC,GAAa,EAEjB,SAASC,IACAF,GAAaF,IAGlBE,GAAW,EACPF,EAAatV,OACbuV,EAAQD,EAAa7J,OAAO8J,GAE5BE,GAAa,EAEbF,EAAMvV,QACN2V,IAER,CAEA,SAASA,IACL,IAAIH,EAAJ,CAGA,IAAII,EAAUV,EAAWQ,GACzBF,GAAW,EAGX,IADA,IAAI5V,EAAM2V,EAAMvV,OACVJ,GAAK,CAGP,IAFA0V,EAAeC,EACfA,EAAQ,KACCE,EAAa7V,GACd0V,GACAA,EAAaG,GAAYI,MAGjCJ,GAAa,EACb7V,EAAM2V,EAAMvV,MAChB,CACAsV,EAAe,KACfE,GAAW,EAnEf,SAAyBM,GACrB,GAAIjB,IAAuBQ,aAEvB,OAAOA,aAAaS,GAGxB,IAAKjB,IAAuBI,IAAwBJ,IAAuBQ,aAEvE,OADAR,EAAqBQ,aACdA,aAAaS,GAExB,IAEI,OAAOjB,EAAmBiB,EAC9B,OAAStU,GACL,IAEI,OAAOqT,EAAmBlN,KAAK,KAAMmO,EACzC,OAAStU,GAGL,OAAOqT,EAAmBlN,KAAKb,KAAMgP,EACzC,CACJ,CAIJ,CA0CIC,CAAgBH,EAlBhB,CAmBJ,CAgBA,SAASI,EAAKb,EAAK9O,GACfS,KAAKqO,IAAMA,EACXrO,KAAKT,MAAQA,CACjB,CAWA,SAAS4P,IAAQ,CA5BjBlB,EAAQmB,SAAW,SAAUf,GACzB,IAAIgB,EAAO,IAAIzV,MAAM8F,UAAUxG,OAAS,GACxC,GAAIwG,UAAUxG,OAAS,EACnB,IAAA,IAAST,EAAI,EAAGA,EAAIiH,UAAUxG,OAAQT,IAClC4W,EAAK5W,EAAI,GAAKiH,UAAUjH,GAGhCgW,EAAMlV,KAAK,IAAI2V,EAAKb,EAAKgB,IACJ,IAAjBZ,EAAMvV,QAAiBwV,GACvBN,EAAWS,EAEnB,EAOAK,EAAK9R,UAAU2R,IAAM,WACjB/O,KAAKqO,IAAI7K,MAAM,KAAMxD,KAAKT,MAC9B,EACA0O,EAAQqB,MAAQ,UAChBrB,EAAQD,SAAU,EAClBC,EAAQsB,IAAM,CAAA,EACdtB,EAAQuB,KAAO,GACfvB,EAAQwB,QAAU,GAClBxB,EAAQyB,SAAW,CAAA,EAInBzB,EAAQ0B,GAAKR,EACblB,EAAQ2B,YAAcT,EACtBlB,EAAQ4B,KAAOV,EACflB,EAAQ6B,IAAMX,EACdlB,EAAQ8B,eAAiBZ,EACzBlB,EAAQ+B,mBAAqBb,EAC7BlB,EAAQgC,KAAOd,EACflB,EAAQiC,gBAAkBf,EAC1BlB,EAAQkC,oBAAsBhB,EAE9BlB,EAAQmC,UAAY,SAAUrE,GAAQ,MAAO,EAAG,EAEhDkC,EAAQoC,QAAU,SAAUtE,GACxB,MAAM,IAAIjS,MAAM,mCACpB,EAEAmU,EAAQqC,IAAM,WAAc,MAAO,GAAI,EACvCrC,EAAQsC,MAAQ,SAAU5P,GACtB,MAAM,IAAI7G,MAAM,iCACpB,EACAmU,EAAQuC,MAAQ,WAAa,OAAO,CAAG,EAGvC,MAAMC,IADezC,EAAQlS,SC7Ld,SAAS4U,EAAKpD,EAAIqD,GAC/B,OAAO,WACL,OAAOrD,EAAG9J,MAAMmN,EAASjR,UAC3B,CACF,CCAA,eAAOF,GAAYtC,OAAOE,WACpBwT,eAACA,GAAkB1T,QACnB2T,SAACA,EAAAC,YAAUA,GAAe5U,OAE1B6U,EAAU,CAAAC,GAASC,IACrB,MAAM/O,EAAM1C,EAASqB,KAAKoQ,GAC1B,OAAOD,EAAM9O,KAAS8O,EAAM9O,GAAOA,EAAIlE,MAAM,GAAG,GAAI8B,gBAFxC,CAGb5C,OAAOgU,OAAO,OAEXC,EAAcnS,IAClBA,EAAOA,EAAKc,cACJmR,GAAUF,EAAOE,KAAWjS,GAGhCoS,EAAapS,GAAQiS,UAAgBA,IAAUjS,GAS/CC,QAACA,GAAWrF,MASZyX,EAAcD,EAAW,aAS/B,SAASvS,EAAS6B,GAChB,OAAe,OAARA,IAAiB2Q,EAAY3Q,IAA4B,OAApBA,EAAIiL,cAAyB0F,EAAY3Q,EAAIiL,cACpF2F,EAAW5Q,EAAIiL,YAAY9M,WAAa6B,EAAIiL,YAAY9M,SAAS6B,EACxE,CASA,MAAM6Q,EAAgBJ,EAAW,eA2BjC,MAAMK,EAAWJ,EAAW,UAQtBE,EAAaF,EAAW,YASxBK,EAAWL,EAAW,UAStBM,EAAYT,GAAoB,OAAVA,GAAmC,iBAAVA,EAiB/CU,EAAiBjR,IACrB,GAAoB,WAAhBqQ,EAAOrQ,GACT,OAAO,EAGT,MAAMtD,EAAYwT,EAAelQ,GACjC,QAAsB,OAAdtD,GAAsBA,IAAcF,OAAOE,WAAkD,OAArCF,OAAO0T,eAAexT,IAA0B0T,KAAepQ,GAAUmQ,KAAYnQ,IA+BjJkR,EAAST,EAAW,QASpBU,EAASV,EAAW,QASpBW,GAASX,EAAW,QASpBY,GAAaZ,EAAW,YAsCxBa,GAAoBb,EAAW,oBAE9Bc,GAAkBC,GAAWC,GAAYC,IAAa,CAAC,iBAAkB,UAAW,WAAY,WAAWC,IAAIlB,GA2BtH,SAASmB,GAAQ1T,EAAK0O,GAAIiF,WAACA,GAAa,GAAS,IAE/C,GAAI3T,QACF,OAGF,IAAInG,EACA+Z,EAQJ,GALmB,iBAAR5T,IAETA,EAAM,CAACA,IAGLK,EAAQL,GAEV,IAAKnG,EAAI,EAAG+Z,EAAI5T,EAAI1F,OAAQT,EAAI+Z,EAAG/Z,IACjC6U,EAAGzM,KAAK,KAAMjC,EAAInG,GAAIA,EAAGmG,OAEtB,CAEL,GAAIC,EAASD,GACX,OAIF,MAAM6T,EAAOF,EAAarV,OAAOwV,oBAAoB9T,GAAO1B,OAAOuV,KAAK7T,GAClE9F,EAAM2Z,EAAKvZ,OACjB,IAAIyZ,EAEJ,IAAKla,EAAI,EAAGA,EAAIK,EAAKL,IACnBka,EAAMF,EAAKha,GACX6U,EAAGzM,KAAK,KAAMjC,EAAI+T,GAAMA,EAAK/T,EAEjC,CACF,CAEA,SAASgU,GAAQhU,EAAK+T,GACpB,GAAI9T,EAASD,GACX,OAAO,KAGT+T,EAAMA,EAAI7S,cACV,MAAM2S,EAAOvV,OAAOuV,KAAK7T,GACzB,IACIiU,EADApa,EAAIga,EAAKvZ,OAEb,KAAOT,KAAM,GAEX,GADAoa,EAAOJ,EAAKha,GACRka,IAAQE,EAAK/S,cACf,OAAO+S,EAGX,OAAO,IACT,CAEA,MAAMC,GAEsB,oBAAfhW,WAAmCA,WACvB,oBAAT4Q,KAAuBA,KAA0B,oBAAXqF,OAAyBA,OAAStF,EAGlFuF,GAAoBC,IAAa5B,EAAY4B,IAAYA,IAAYH,GAoD3E,MA8HMI,GAAgB,CAAAC,GAEblC,GACEkC,GAAclC,aAAiBkC,EAHpB,CAKG,oBAAfxZ,YAA8BiX,EAAejX,aA2CjDyZ,GAAajC,EAAW,mBAWxBtD,GAAA,GAAoBA,eAAAA,KAAoB,CAACjP,EAAKyU,IAASxF,EAAehN,KAAKjC,EAAKyU,GAAhF,CAAuFnW,OAAOE,WAS9FkW,GAAWnC,EAAW,UAEtBoC,GAAoB,CAAC3U,EAAK4U,KAC9B,MAAMC,EAAcvW,OAAOwW,0BAA0B9U,GAC/C+U,EAAqB,CAAA,EAE3BrB,GAAQmB,EAAa,CAACG,EAAY7H,KAChC,IAAI9F,GAC2C,KAA1CA,EAAMuN,EAAQI,EAAY7H,EAAMnN,MACnC+U,EAAmB5H,GAAQ9F,GAAO2N,KAItC1W,OAAO2W,iBAAiBjV,EAAK+U,IAiE/B,MAoCMG,GAAY3C,EAAW,iBAQvB4C,IAAkBC,GAkBE,mBAAjBC,aAlBsCC,GAmB7C5C,EAAWwB,GAAQqB,aAlBfH,GACKC,aAGFC,IAAyBE,GAW7B,SAAShZ,KAAKiZ,WAXsBC,GAWV,GAV3BxB,GAAQyB,iBAAiB,UAAW,EAAEC,SAAQtV,WACxCsV,IAAW1B,IAAW5T,IAASkV,IACjCE,GAAUpb,QAAUob,GAAUG,OAAVH,KAErB,GAEKI,IACNJ,GAAU/a,KAAKmb,GACf5B,GAAQqB,YAAYC,GAAO,OAEKM,GAAOpG,WAAWoG,IAhBlD,IAAkBV,GAAuBE,GAKbE,GAAOE,GAiBzC,MAAMK,GAAiC,oBAAnBC,eAClBA,eAAelE,KAAKoC,SAAgC,IAAZ7E,GAA2BA,EAAQmB,UAAY2E,GAQzFc,GAAe,CACb5V,UACAsS,gBACA1S,WACAiW,WAlgBkB7D,IAClB,IAAI8D,EACJ,OAAO9D,IACgB,mBAAb+D,UAA2B/D,aAAiB+D,UAClD1D,EAAWL,EAAMgE,UACY,cAA1BF,EAAOhE,EAAOE,KAEL,WAAT8D,GAAqBzD,EAAWL,EAAMzR,WAAkC,sBAArByR,EAAMzR,cA4fhE0V,kBAjpBF,SAA2BxU,GACzB,IAAIyU,EAMJ,OAJEA,EAD0B,oBAAhBzY,aAAiCA,YAAYwB,OAC9CxB,YAAYwB,OAAOwC,GAElBA,GAASA,EAAIzI,QAAYsZ,EAAc7Q,EAAIzI,QAEhDkd,CACT,EA0oBE3D,WACAC,WACA2D,UAjmBgBnE,IAAmB,IAAVA,IAA4B,IAAVA,EAkmB7CS,SAAEA,EACAC,gBACA0D,cA3kBqB3U,IAErB,IAAKgR,EAAShR,IAAQ7B,EAAS6B,GAC7B,OAAO,EAGT,IACE,OAAmC,IAA5BxD,OAAOuV,KAAK/R,GAAKxH,QAAgBgE,OAAO0T,eAAelQ,KAASxD,OAAOE,SAChF,OAAS1C,GAEP,OAAO,CACT,GAikBAuX,oBACAC,aACAC,cACAC,aACAf,cACAO,SACAC,SACAC,UACAwB,YACAhC,aACAgE,SA7hBgB5U,GAAQgR,EAAShR,IAAQ4Q,EAAW5Q,EAAI6U,MA8hBxDvD,qBACAkB,gBACAnB,cACAO,WACAkD,MAtZF,SAASA,IACP,MAAMC,SAACA,GAAYzC,GAAiBhT,OAASA,MAAQ,CAAA,EAC/CmV,EAAS,CAAA,EACTO,EAAc,CAAChV,EAAKiS,KACxB,MAAMgD,EAAYF,GAAY7C,GAAQuC,EAAQxC,IAAQA,EAClDhB,EAAcwD,EAAOQ,KAAehE,EAAcjR,GACpDyU,EAAOQ,GAAaH,EAAML,EAAOQ,GAAYjV,GACpCiR,EAAcjR,GACvByU,EAAOQ,GAAaH,EAAM,CAAA,EAAI9U,GACrBzB,EAAQyB,GACjByU,EAAOQ,GAAajV,EAAI1C,QAExBmX,EAAOQ,GAAajV,GAIxB,IAAA,IAASjI,EAAI,EAAG+Z,EAAI9S,UAAUxG,OAAQT,EAAI+Z,EAAG/Z,IAC3CiH,UAAUjH,IAAM6Z,GAAQ5S,UAAUjH,GAAIid,GAExC,OAAOP,CACT,EAmYES,OAvXa,CAACpR,EAAG7F,EAAGgS,GAAU4B,cAAa,MAC3CD,GAAQ3T,EAAG,CAAC+B,EAAKiS,KACXhC,GAAWW,EAAW5Q,GACxB8D,EAAEmO,GAAOjC,EAAKhQ,EAAKiQ,GAEnBnM,EAAEmO,GAAOjS,GAEV,CAAC6R,eACG/N,GAgXPe,KA5fYrD,GAAQA,EAAIqD,KACxBrD,EAAIqD,OAASrD,EAAIoD,QAAQ,qCAAsC,IA4f/DuQ,SAvWgBC,IACc,QAA1BA,EAAQ9c,WAAW,KACrB8c,EAAUA,EAAQ9X,MAAM,IAEnB8X,GAoWPC,SAxVe,CAACpK,EAAaqK,EAAkBC,EAAOxC,KACtD9H,EAAYvO,UAAYF,OAAOgU,OAAO8E,EAAiB5Y,UAAWqW,GAClE9H,EAAYvO,UAAUuO,YAAcA,EACpCzO,OAAO8G,eAAe2H,EAAa,QAAS,CAC1CrQ,MAAO0a,EAAiB5Y,YAE1B6Y,GAAS/Y,OAAOgZ,OAAOvK,EAAYvO,UAAW6Y,IAmV9CE,aAvUmB,CAACC,EAAWC,EAASC,EAAQC,KAChD,IAAIN,EACAxd,EACA4a,EACJ,MAAMmD,EAAS,CAAA,EAIf,GAFAH,EAAUA,GAAW,CAAA,EAEJ,MAAbD,EAAmB,OAAOC,EAE9B,EAAG,CAGD,IAFAJ,EAAQ/Y,OAAOwV,oBAAoB0D,GACnC3d,EAAIwd,EAAM/c,OACHT,KAAM,GACX4a,EAAO4C,EAAMxd,GACP8d,IAAcA,EAAWlD,EAAM+C,EAAWC,IAAcG,EAAOnD,KACnEgD,EAAQhD,GAAQ+C,EAAU/C,GAC1BmD,EAAOnD,IAAQ,GAGnB+C,GAAuB,IAAXE,GAAoB1F,EAAewF,EACjD,OAASA,KAAeE,GAAUA,EAAOF,EAAWC,KAAaD,IAAclZ,OAAOE,WAEtF,OAAOiZ,GAiTPtF,SACAI,aACAsF,SAvSe,CAACvU,EAAKwU,EAAcC,KACnCzU,EAAMhB,OAAOgB,SACI,IAAbyU,GAA0BA,EAAWzU,EAAIhJ,UAC3Cyd,EAAWzU,EAAIhJ,QAEjByd,GAAYD,EAAaxd,OACzB,MAAM0d,EAAY1U,EAAInI,QAAQ2c,EAAcC,GAC5C,WAAOC,GAAoBA,IAAcD,GAiS3CE,QAtRiB5F,IACf,IAAKA,EAAO,OAAO,KACnB,GAAIhS,EAAQgS,GAAQ,OAAOA,EAC3B,IAAIxY,EAAIwY,EAAM/X,OACd,IAAKuY,EAAShZ,GAAI,OAAO,KACzB,MAAMC,EAAM,IAAIkB,MAAMnB,GACtB,KAAOA,KAAM,GACXC,EAAID,GAAKwY,EAAMxY,GAEjB,OAAOC,GA8QPoe,aAnPmB,CAAClY,EAAK0O,KACzB,MAEMyJ,GAFYnY,GAAOA,EAAIiS,IAEDhQ,KAAKjC,GAEjC,IAAIuW,EAEJ,MAAQA,EAAS4B,EAAUC,UAAY7B,EAAO8B,MAAM,CAClD,MAAMC,EAAO/B,EAAO7Z,MACpBgS,EAAGzM,KAAKjC,EAAKsY,EAAK,GAAIA,EAAK,GAC7B,GA0OAC,SA/Ne,CAACC,EAAQlV,KACxB,IAAImV,EACJ,MAAM3e,EAAM,GAEZ,KAAwC,QAAhC2e,EAAUD,EAAOE,KAAKpV,KAC5BxJ,EAAIa,KAAK8d,GAGX,OAAO3e,GAwNP0a,cACAvF,kBACA0J,WAAY1J,GACZ0F,qBACAiE,cA/KqB5Y,IACrB2U,GAAkB3U,EAAK,CAACgV,EAAY7H,KAElC,GAAIuF,EAAW1S,KAA4D,IAApD,CAAC,YAAa,SAAU,UAAU7E,QAAQgS,GAC/D,OAAO,EAGT,MAAMzQ,EAAQsD,EAAImN,GAEbuF,EAAWhW,KAEhBsY,EAAW3P,YAAa,EAEpB,aAAc2P,EAChBA,EAAW/H,UAAW,EAInB+H,EAAW9O,MACd8O,EAAW9O,IAAM,KACf,MAAMhL,MAAM,qCAAwCiS,EAAO,WA4JjE0L,YAtJkB,CAACC,EAAeC,KAClC,MAAM/Y,EAAM,CAAA,EAENgZ,EAAUlf,IACdA,EAAI4Z,QAAQhX,IACVsD,EAAItD,IAAS,KAMjB,OAFA2D,EAAQyY,GAAiBE,EAAOF,GAAiBE,EAAO1W,OAAOwW,GAAe3K,MAAM4K,IAE7E/Y,GA4IPiZ,YAxNkB3V,GACXA,EAAIpC,cAAcwF,QAAQ,wBAC/B,SAAkB3K,EAAGmd,EAAIC,GACvB,OAAOD,EAAGE,cAAgBD,CAC5B,GAqNF5I,KA1IW,OA2IX8I,eAzIqB,CAAC3c,EAAO4c,IACb,MAAT5c,GAAiBmG,OAAOqE,SAASxK,GAASA,GAASA,EAAQ4c,EAyIlEtF,WACAnF,OAAQqF,GACRE,oBACAmF,oBAlIF,SAA6BlH,GAC3B,SAAUA,GAASK,EAAWL,EAAMgE,SAAkC,aAAvBhE,EAAMH,IAA+BG,EAAMJ,GAC5F,EAiIEuH,aA/HoBxZ,IACpB,MAAMoN,EAAQ,IAAIpS,MAAM,IAElBye,EAAQ,CAAC7D,EAAQ/b,KAErB,GAAIiZ,EAAS8C,GAAS,CACpB,GAAIxI,EAAMjS,QAAQya,IAAW,EAC3B,OAIF,GAAI3V,EAAS2V,GACX,OAAOA,EAGT,KAAK,WAAYA,GAAS,CACxBxI,EAAMvT,GAAK+b,EACX,MAAMhP,EAASvG,EAAQuV,GAAU,GAAK,CAAA,EAStC,OAPAlC,GAAQkC,EAAQ,CAAClZ,EAAOqX,KACtB,MAAM2F,EAAeD,EAAM/c,EAAO7C,EAAI,IACrC4Y,EAAYiH,KAAkB9S,EAAOmN,GAAO2F,KAG/CtM,EAAMvT,QAAK,EAEJ+M,CACT,CACF,CAEA,OAAOgP,GAGT,OAAO6D,EAAMzZ,EAAK,IA+FlBkV,aACAyE,WA3FkBtH,GAClBA,IAAUS,EAAST,IAAUK,EAAWL,KAAWK,EAAWL,EAAMuH,OAASlH,EAAWL,EAAMwH,OA2F9FxE,aAAcF,GACdY,QACA+D,WA5DkBzH,GAAmB,MAATA,GAAiBK,EAAWL,EAAMJ,KC/rBhE,SAAS8H,GAAW1M,EAASpS,EAAM+e,EAAQC,EAASC,GAClDhf,MAAM+G,KAAKb,MAEPlG,MAAMif,kBACRjf,MAAMif,kBAAkB/Y,KAAMA,KAAK2L,aAEnC3L,KAAKgM,OAAS,IAAIlS,OAASkS,MAG7BhM,KAAKiM,QAAUA,EACfjM,KAAK+L,KAAO,aACZlS,IAASmG,KAAKnG,KAAOA,GACrB+e,IAAW5Y,KAAK4Y,OAASA,GACzBC,IAAY7Y,KAAK6Y,QAAUA,GACvBC,IACF9Y,KAAK8Y,SAAWA,EAChB9Y,KAAKgZ,OAASF,EAASE,OAASF,EAASE,OAAS,KAEtD,CAEAC,GAAMlD,SAAS4C,GAAY7e,MAAO,CAChCiM,OAAQ,WACN,MAAO,CAELkG,QAASjM,KAAKiM,QACdF,KAAM/L,KAAK+L,KAEXmN,YAAalZ,KAAKkZ,YAClBC,OAAQnZ,KAAKmZ,OAEbC,SAAUpZ,KAAKoZ,SACfC,WAAYrZ,KAAKqZ,WACjBC,aAActZ,KAAKsZ,aACnBtN,MAAOhM,KAAKgM,MAEZ4M,OAAQK,GAAMb,aAAapY,KAAK4Y,QAChC/e,KAAMmG,KAAKnG,KACXmf,OAAQhZ,KAAKgZ,OAEjB,IAGF,MAAM5b,GAAYub,GAAWvb,UACvBqW,GAAc,CAAA,EAEpB,CACE,uBACA,iBACA,eACA,YACA,cACA,4BACA,iBACA,mBACA,kBACA,eACA,kBACA,mBAEAnB,QAAQzY,IACR4Z,GAAY5Z,GAAQ,CAACyB,MAAOzB,KAG9BqD,OAAO2W,iBAAiB8E,GAAYlF,IACpCvW,OAAO8G,eAAe5G,GAAW,eAAgB,CAAC9B,OAAO,IAGzDqd,GAAWlb,KAAO,CAACsG,EAAOlK,EAAM+e,EAAQC,EAASC,EAAUS,KACzD,MAAMC,EAAatc,OAAOgU,OAAO9T,IAgBjC,OAdA6b,GAAM9C,aAAapS,EAAOyV,EAAY,SAAgB5a,GACpD,OAAOA,IAAQ9E,MAAMsD,SACvB,EAAGiW,GACe,iBAATA,GAGTsF,GAAW9X,KAAK2Y,EAAYzV,EAAMkI,QAASpS,EAAM+e,EAAQC,EAASC,GAElEU,EAAWC,MAAQ1V,EAEnByV,EAAWzN,KAAOhI,EAAMgI,KAExBwN,GAAerc,OAAOgZ,OAAOsD,EAAYD,GAElCC,GCrFT,SAASE,GAAYzI,GACnB,OAAOgI,GAAMtH,cAAcV,IAAUgI,GAAMha,QAAQgS,EACrD,CASA,SAAS0I,GAAehH,GACtB,OAAOsG,GAAMxC,SAAS9D,EAAK,MAAQA,EAAI3U,MAAM,GAAG,GAAM2U,CACxD,CAWA,SAASiH,GAAUC,EAAMlH,EAAKmH,GAC5B,OAAKD,EACEA,EAAKlV,OAAOgO,GAAKN,IAAI,SAAc+B,EAAO3b,GAG/C,OADA2b,EAAQuF,GAAevF,IACf0F,GAAQrhB,EAAI,IAAM2b,EAAQ,IAAMA,CAC1C,GAAG1a,KAAKogB,EAAO,IAAM,IALHnH,CAMpB,CAaA,MAAMoH,GAAad,GAAM9C,aAAa8C,GAAO,CAAA,EAAI,KAAM,SAAgB5F,GACrE,MAAO,WAAW2G,KAAK3G,EACzB,GAyBA,SAAS4G,GAAWrb,EAAKsb,EAAUC,GACjC,IAAKlB,GAAMvH,SAAS9S,GAClB,MAAM,IAAIrB,UAAU,4BAItB2c,EAAWA,GAAY,IAAyBlF,SAYhD,MAAMoF,GATND,EAAUlB,GAAM9C,aAAagE,EAAS,CACpCC,YAAY,EACZN,MAAM,EACNO,SAAS,IACR,EAAO,SAAiBC,EAAQ9F,GAEjC,OAAQyE,GAAM5H,YAAYmD,EAAO8F,GACnC,IAE2BF,WAErBG,EAAUJ,EAAQI,SAAWC,EAC7BV,EAAOK,EAAQL,KACfO,EAAUF,EAAQE,QAElBI,GADQN,EAAQO,MAAwB,oBAATA,MAAwBA,OACpCzB,GAAMd,oBAAoB+B,GAEnD,IAAKjB,GAAM3H,WAAWiJ,GACpB,MAAM,IAAIhd,UAAU,8BAGtB,SAASod,EAAarf,GACpB,GAAc,OAAVA,EAAgB,MAAO,GAE3B,GAAI2d,GAAMrH,OAAOtW,GACf,OAAOA,EAAMsf,cAGf,GAAI3B,GAAM7D,UAAU9Z,GAClB,OAAOA,EAAMkE,WAGf,IAAKib,GAAWxB,GAAMnH,OAAOxW,GAC3B,MAAM,IAAIqd,GAAW,gDAGvB,OAAIM,GAAM1H,cAAcjW,IAAU2d,GAAM/F,aAAa5X,GAC5Cmf,GAA2B,mBAATC,KAAsB,IAAIA,KAAK,CAACpf,IAAUa,EAAOsB,KAAKnC,GAG1EA,CACT,CAYA,SAASkf,EAAelf,EAAOqX,EAAKkH,GAClC,IAAInhB,EAAM4C,EAEV,GAAIA,IAAUue,GAAyB,iBAAVve,EAC3B,GAAI2d,GAAMxC,SAAS9D,EAAK,MAEtBA,EAAMyH,EAAazH,EAAMA,EAAI3U,MAAM,GAAG,GAEtC1C,EAAQuf,KAAKC,UAAUxf,QACzB,GACG2d,GAAMha,QAAQ3D,IAvGvB,SAAqB5C,GACnB,OAAOugB,GAAMha,QAAQvG,KAASA,EAAIqiB,KAAKrB,GACzC,CAqGiCsB,CAAY1f,KACnC2d,GAAMlH,WAAWzW,IAAU2d,GAAMxC,SAAS9D,EAAK,SAAWja,EAAMugB,GAAMpC,QAAQvb,IAYhF,OATAqX,EAAMgH,GAAehH,GAErBja,EAAI4Z,QAAQ,SAAc2I,EAAIC,IAC1BjC,GAAM5H,YAAY4J,IAAc,OAAPA,GAAgBf,EAASjF,QAEtC,IAAZoF,EAAmBT,GAAU,CAACjH,GAAMuI,EAAOpB,GAAqB,OAAZO,EAAmB1H,EAAMA,EAAM,KACnFgI,EAAaM,GAEjB,IACO,EAIX,QAAIvB,GAAYpe,KAIhB4e,EAASjF,OAAO2E,GAAUC,EAAMlH,EAAKmH,GAAOa,EAAarf,KAElD,EACT,CAEA,MAAM0Q,EAAQ,GAERmP,EAAiBje,OAAOgZ,OAAO6D,GAAY,CAC/CS,iBACAG,eACAjB,iBAyBF,IAAKT,GAAMvH,SAAS9S,GAClB,MAAM,IAAIrB,UAAU,0BAKtB,OA5BA,SAAS6d,EAAM9f,EAAOue,GACpB,IAAIZ,GAAM5H,YAAY/V,GAAtB,CAEA,IAA6B,IAAzB0Q,EAAMjS,QAAQuB,GAChB,MAAMxB,MAAM,kCAAoC+f,EAAKngB,KAAK,MAG5DsS,EAAMzS,KAAK+B,GAEX2d,GAAM3G,QAAQhX,EAAO,SAAc2f,EAAItI,IAKtB,OAJEsG,GAAM5H,YAAY4J,IAAc,OAAPA,IAAgBV,EAAQ1Z,KAChEqZ,EAAUe,EAAIhC,GAAMzH,SAASmB,GAAOA,EAAIpN,OAASoN,EAAKkH,EAAMsB,KAI5DC,EAAMH,EAAIpB,EAAOA,EAAKlV,OAAOgO,GAAO,CAACA,GAEzC,GAEA3G,EAAMqP,KAlBwB,CAmBhC,CAMAD,CAAMxc,GAECsb,CACT,CChNA,SAASoB,GAAOpZ,GACd,MAAMqZ,EAAU,CACd,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,MAAO,IACP,MAAO,MAET,OAAOC,mBAAmBtZ,GAAKoD,QAAQ,mBAAoB,SAAkBmW,GAC3E,OAAOF,EAAQE,EACjB,EACF,CAUA,SAASC,GAAqBC,EAAQxB,GACpCna,KAAK4b,OAAS,GAEdD,GAAU1B,GAAW0B,EAAQ3b,KAAMma,EACrC,CAEA,MAAM/c,GAAYse,GAAqBte,UC5BvC,SAASke,GAAO5a,GACd,OAAO8a,mBAAmB9a,GACxB4E,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,IACrB,CAWe,SAASuW,GAASC,EAAKH,EAAQxB,GAE5C,IAAKwB,EACH,OAAOG,EAGT,MAAMC,EAAU5B,GAAWA,EAAQmB,QAAUA,GAEzCrC,GAAM3H,WAAW6I,KACnBA,EAAU,CACR6B,UAAW7B,IAIf,MAAM8B,EAAc9B,GAAWA,EAAQ6B,UAEvC,IAAIE,EAUJ,GAPEA,EADED,EACiBA,EAAYN,EAAQxB,GAEpBlB,GAAMjH,kBAAkB2J,GACzCA,EAAOnc,WACP,IAAIkc,GAAqBC,EAAQxB,GAAS3a,SAASuc,GAGnDG,EAAkB,CACpB,MAAMC,EAAgBL,EAAI/hB,QAAQ,MAEZ,IAAlBoiB,IACFL,EAAMA,EAAI9d,MAAM,EAAGme,IAErBL,KAA6B,IAArBA,EAAI/hB,QAAQ,KAAc,IAAM,KAAOmiB,CACjD,CAEA,OAAOJ,CACT,CDzBA1e,GAAU6X,OAAS,SAAgBlJ,EAAMzQ,GACvC0E,KAAK4b,OAAOriB,KAAK,CAACwS,EAAMzQ,GAC1B,EAEA8B,GAAUoC,SAAW,SAAkB4c,GACrC,MAAML,EAAUK,EAAU,SAAS9gB,GACjC,OAAO8gB,EAAQvb,KAAKb,KAAM1E,EAAOggB,GACnC,EAAIA,GAEJ,OAAOtb,KAAK4b,OAAOvJ,IAAI,SAAc6E,GACnC,OAAO6E,EAAQ7E,EAAK,IAAM,IAAM6E,EAAQ7E,EAAK,GAC/C,EAAG,IAAIxd,KAAK,IACd,EEnDA,MAAM2iB,GACJ,WAAA1Q,GACE3L,KAAKsc,SAAW,EAClB,CAUA,GAAAC,CAAIC,EAAWC,EAAUtC,GAOvB,OANAna,KAAKsc,SAAS/iB,KAAK,CACjBijB,YACAC,WACAC,cAAavC,GAAUA,EAAQuC,YAC/BC,QAASxC,EAAUA,EAAQwC,QAAU,OAEhC3c,KAAKsc,SAASpjB,OAAS,CAChC,CASA,KAAA0jB,CAAMC,GACA7c,KAAKsc,SAASO,KAChB7c,KAAKsc,SAASO,GAAM,KAExB,CAOA,KAAAC,GACM9c,KAAKsc,WACPtc,KAAKsc,SAAW,GAEpB,CAYA,OAAAhK,CAAQhF,GACN2L,GAAM3G,QAAQtS,KAAKsc,SAAU,SAAwBS,GACzC,OAANA,GACFzP,EAAGyP,EAEP,EACF,ECjEF,MAAAC,GAAe,CACbC,mBAAmB,EACnBC,mBAAmB,EACnBC,qBAAqB,GCDvBC,GAAe,CACbC,WAAW,EACXC,QAAS,CACXC,gBCJ0C,oBAApBA,gBAAkCA,gBAAkB7B,GDK1E1G,SENmC,oBAAbA,SAA2BA,SAAW,KFO5D0F,KGP+B,oBAATA,KAAuBA,KAAO,MHSlD8C,UAAW,CAAC,OAAQ,QAAS,OAAQ,OAAQ,MAAO,SIXhDC,GAAkC,oBAAX1K,QAA8C,oBAAb2K,SAExDC,GAAkC,iBAAdC,WAA0BA,gBAAa,EAmB3DC,GAAwBJ,MAC1BE,IAAc,CAAC,cAAe,eAAgB,MAAM5jB,QAAQ4jB,GAAWG,SAAW,GAWhFC,GAE2B,oBAAtBC,mBAEPtQ,gBAAgBsQ,mBACc,mBAAvBtQ,KAAKuQ,cAIVC,GAAST,IAAiB1K,OAAOoL,SAASC,MAAQ,mBCvCxDC,GAAe,qMAEVA,IC2CL,SAASC,GAAepE,GACtB,SAASqE,EAAU1E,EAAMve,EAAOkK,EAAQ0V,GACtC,IAAInP,EAAO8N,EAAKqB,KAEhB,GAAa,cAATnP,EAAsB,OAAO,EAEjC,MAAMyS,EAAe/c,OAAOqE,UAAUiG,GAChC0S,EAASvD,GAASrB,EAAK3gB,OAG7B,GAFA6S,GAAQA,GAAQkN,GAAMha,QAAQuG,GAAUA,EAAOtM,OAAS6S,EAEpD0S,EAOF,OANIxF,GAAM1B,WAAW/R,EAAQuG,GAC3BvG,EAAOuG,GAAQ,CAACvG,EAAOuG,GAAOzQ,GAE9BkK,EAAOuG,GAAQzQ,GAGTkjB,EAGLhZ,EAAOuG,IAAUkN,GAAMvH,SAASlM,EAAOuG,MAC1CvG,EAAOuG,GAAQ,IASjB,OANewS,EAAU1E,EAAMve,EAAOkK,EAAOuG,GAAOmP,IAEtCjC,GAAMha,QAAQuG,EAAOuG,MACjCvG,EAAOuG,GA/Cb,SAAuBrT,GACrB,MAAMkG,EAAM,CAAA,EACN6T,EAAOvV,OAAOuV,KAAK/Z,GACzB,IAAID,EACJ,MAAMK,EAAM2Z,EAAKvZ,OACjB,IAAIyZ,EACJ,IAAKla,EAAI,EAAGA,EAAIK,EAAKL,IACnBka,EAAMF,EAAKha,GACXmG,EAAI+T,GAAOja,EAAIia,GAEjB,OAAO/T,CACT,CAoCqB8f,CAAclZ,EAAOuG,MAG9ByS,CACV,CAEA,GAAIvF,GAAMnE,WAAWoF,IAAajB,GAAM3H,WAAW4I,EAASyE,SAAU,CACpE,MAAM/f,EAAM,CAAA,EAMZ,OAJAqa,GAAMnC,aAAaoD,EAAU,CAACnO,EAAMzQ,KAClCijB,EA1EN,SAAuBxS,GAKrB,OAAOkN,GAAM9B,SAAS,gBAAiBpL,GAAMsG,IAAIoJ,GAC3B,OAAbA,EAAM,GAAc,GAAKA,EAAM,IAAMA,EAAM,GAEtD,CAkEgBmD,CAAc7S,GAAOzQ,EAAOsD,EAAK,KAGtCA,CACT,CAEA,OAAO,IACT,CCzDA,MAAMigB,GAAW,CAEfC,aAAc9B,GAEd+B,QAAS,CAAC,MAAO,OAAQ,SAEzBC,iBAAkB,CAAC,SAA0B9f,EAAM+f,GACjD,MAAMC,EAAcD,EAAQE,kBAAoB,GAC1CC,EAAqBF,EAAYnlB,QAAQ,qBAAsB,EAC/DslB,EAAkBpG,GAAMvH,SAASxS,GAEnCmgB,GAAmBpG,GAAM7F,WAAWlU,KACtCA,EAAO,IAAI8V,SAAS9V,IAKtB,GAFmB+Z,GAAMnE,WAAW5V,GAGlC,OAAOkgB,EAAqBvE,KAAKC,UAAUwD,GAAepf,IAASA,EAGrE,GAAI+Z,GAAM1H,cAAcrS,IACtB+Z,GAAMpa,SAASK,IACf+Z,GAAM3D,SAASpW,IACf+Z,GAAMpH,OAAO3S,IACb+Z,GAAMnH,OAAO5S,IACb+Z,GAAMhH,iBAAiB/S,GAEvB,OAAOA,EAET,GAAI+Z,GAAM/D,kBAAkBhW,GAC1B,OAAOA,EAAKjH,OAEd,GAAIghB,GAAMjH,kBAAkB9S,GAE1B,OADA+f,EAAQK,eAAe,mDAAmD,GACnEpgB,EAAKM,WAGd,IAAIuS,EAEJ,GAAIsN,EAAiB,CACnB,GAAIH,EAAYnlB,QAAQ,sCAAuC,EAC7D,OCvEO,SAA0BmF,EAAMib,GAC7C,OAAOF,GAAW/a,EAAM,IAAImf,GAASf,QAAQC,gBAAmB,CAC9DhD,QAAS,SAASjf,EAAOqX,EAAKkH,EAAM0F,GAClC,OAAIlB,GAASmB,QAAUvG,GAAMpa,SAASvD,IACpC0E,KAAKiV,OAAOtC,EAAKrX,EAAMkE,SAAS,YACzB,GAGF+f,EAAQ/E,eAAehX,MAAMxD,KAAMN,UAC5C,KACGya,GAEP,CD2DesF,CAAiBvgB,EAAMc,KAAK0f,gBAAgBlgB,WAGrD,IAAKuS,EAAakH,GAAMlH,WAAW7S,KAAUggB,EAAYnlB,QAAQ,wBAAyB,EAAI,CAC5F,MAAM4lB,EAAY3f,KAAKuP,KAAOvP,KAAKuP,IAAIyF,SAEvC,OAAOiF,GACLlI,EAAa,CAAC,UAAW7S,GAAQA,EACjCygB,GAAa,IAAIA,EACjB3f,KAAK0f,eAET,CACF,CAEA,OAAIL,GAAmBD,GACrBH,EAAQK,eAAe,oBAAoB,GAxEjD,SAAyBM,EAAUC,EAAQzD,GACzC,GAAInD,GAAMzH,SAASoO,GACjB,IAEE,OADCC,GAAUhF,KAAKiF,OAAOF,GAChB3G,GAAM1T,KAAKqa,EACpB,OAASllB,GACP,GAAe,gBAAXA,EAAEqR,KACJ,MAAMrR,CAEV,CAGF,OAAQ0hB,GAAWvB,KAAKC,WAAW8E,EACrC,CA4DaG,CAAgB7gB,IAGlBA,CACT,GAEA8gB,kBAAmB,CAAC,SAA2B9gB,GAC7C,MAAM4f,EAAe9e,KAAK8e,cAAgBD,GAASC,aAC7C5B,EAAoB4B,GAAgBA,EAAa5B,kBACjD+C,EAAsC,SAAtBjgB,KAAKkgB,aAE3B,GAAIjH,GAAM9G,WAAWjT,IAAS+Z,GAAMhH,iBAAiB/S,GACnD,OAAOA,EAGT,GAAIA,GAAQ+Z,GAAMzH,SAAStS,KAAWge,IAAsBld,KAAKkgB,cAAiBD,GAAgB,CAChG,MACME,IADoBrB,GAAgBA,EAAa7B,oBACPgD,EAEhD,IACE,OAAOpF,KAAKiF,MAAM5gB,EACpB,OAASxE,GACP,GAAIylB,EAAmB,CACrB,GAAe,gBAAXzlB,EAAEqR,KACJ,MAAM4M,GAAWlb,KAAK/C,EAAGie,GAAWyH,iBAAkBpgB,KAAM,KAAMA,KAAK8Y,UAEzE,MAAMpe,CACR,CACF,CACF,CAEA,OAAOwE,CACT,GAMA4P,QAAS,EAETuR,eAAgB,aAChBC,eAAgB,eAEhBC,kBAAkB,EAClBC,eAAe,EAEfjR,IAAK,CACHyF,SAAUqJ,GAASf,QAAQtI,SAC3B0F,KAAM2D,GAASf,QAAQ5C,MAGzB+F,eAAgB,SAAwBzH,GACtC,OAAOA,GAAU,KAAOA,EAAS,GACnC,EAEAiG,QAAS,CACPyB,OAAQ,CACNC,OAAU,oCACV,oBAAgB,KAKtB1H,GAAM3G,QAAQ,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,SAAWsO,IAChE/B,GAASI,QAAQ2B,GAAU,CAAA,IEvJ7B,MAAMC,GAAoB5H,GAAMxB,YAAY,CAC1C,MAAO,gBAAiB,iBAAkB,eAAgB,OAC1D,UAAW,OAAQ,OAAQ,oBAAqB,sBAChD,gBAAiB,WAAY,eAAgB,sBAC7C,UAAW,cAAe,eCLtBqJ,GAAa5kB,OAAO,aAE1B,SAAS6kB,GAAgBC,GACvB,OAAOA,GAAU9f,OAAO8f,GAAQzb,OAAOzF,aACzC,CAEA,SAASmhB,GAAe3lB,GACtB,OAAc,IAAVA,GAA4B,MAATA,EACdA,EAGF2d,GAAMha,QAAQ3D,GAASA,EAAM+W,IAAI4O,IAAkB/f,OAAO5F,EACnE,CAgBA,SAAS4lB,GAAiBjO,EAAS3X,EAAO0lB,EAAQ1K,EAAQ6K,GACxD,OAAIlI,GAAM3H,WAAWgF,GACZA,EAAOzV,KAAKb,KAAM1E,EAAO0lB,IAG9BG,IACF7lB,EAAQ0lB,GAGL/H,GAAMzH,SAASlW,GAEhB2d,GAAMzH,SAAS8E,IACgB,IAA1Bhb,EAAMvB,QAAQuc,GAGnB2C,GAAM3F,SAASgD,GACVA,EAAO0D,KAAK1e,QADrB,OANA,EASF,CAsBA,IAAA8lB,GAAA,MACE,WAAAzV,CAAYsT,GACVA,GAAWjf,KAAK8E,IAAIma,EACtB,CAEA,GAAAna,CAAIkc,EAAQK,EAAgBC,GAC1B,MAAM5T,EAAO1N,KAEb,SAASuhB,EAAUC,EAAQC,EAASC,GAClC,MAAMC,EAAUZ,GAAgBU,GAEhC,IAAKE,EACH,MAAM,IAAI7nB,MAAM,0CAGlB,MAAM6Y,EAAMsG,GAAMrG,QAAQlF,EAAMiU,KAE5BhP,QAAqB,IAAdjF,EAAKiF,KAAmC,IAAb+O,QAAmC,IAAbA,IAAwC,IAAdhU,EAAKiF,MACzFjF,EAAKiF,GAAO8O,GAAWR,GAAeO,GAE1C,CAEA,MAAMI,EAAa,CAAC3C,EAASyC,IAC3BzI,GAAM3G,QAAQ2M,EAAS,CAACuC,EAAQC,IAAYF,EAAUC,EAAQC,EAASC,IAEzE,GAAIzI,GAAMtH,cAAcqP,IAAWA,aAAkBhhB,KAAK2L,YACxDiW,EAAWZ,EAAQK,QACrB,GAAUpI,GAAMzH,SAASwP,KAAYA,EAASA,EAAOzb,UArEtB,iCAAiCyU,KAqEmBgH,EArEVzb,QAsEvEqc,ED1ES,CAAAC,IACb,MAAMjgB,EAAS,CAAA,EACf,IAAI+Q,EACAjS,EACAjI,EAsBJ,OApBAopB,GAAcA,EAAW9U,MAAM,MAAMuF,QAAQ,SAAgBwP,GAC3DrpB,EAAIqpB,EAAK/nB,QAAQ,KACjB4Y,EAAMmP,EAAKC,UAAU,EAAGtpB,GAAG8M,OAAOzF,cAClCY,EAAMohB,EAAKC,UAAUtpB,EAAI,GAAG8M,QAEvBoN,GAAQ/Q,EAAO+Q,IAAQkO,GAAkBlO,KAIlC,eAARA,EACE/Q,EAAO+Q,GACT/Q,EAAO+Q,GAAKpZ,KAAKmH,GAEjBkB,EAAO+Q,GAAO,CAACjS,GAGjBkB,EAAO+Q,GAAO/Q,EAAO+Q,GAAO/Q,EAAO+Q,GAAO,KAAOjS,EAAMA,EAE3D,GAEOkB,GCgDQogB,CAAahB,GAASK,QACnC,GAAWpI,GAAMvH,SAASsP,IAAW/H,GAAMP,WAAWsI,GAAS,CAC7D,IAAciB,EAAMtP,EAAhB/T,EAAM,GACV,IAAA,MAAWsjB,KAASlB,EAAQ,CAC1B,IAAK/H,GAAMha,QAAQijB,GACjB,MAAM3kB,UAAU,gDAGlBqB,EAAI+T,EAAMuP,EAAM,KAAOD,EAAOrjB,EAAI+T,IAC/BsG,GAAMha,QAAQgjB,GAAQ,IAAIA,EAAMC,EAAM,IAAM,CAACD,EAAMC,EAAM,IAAOA,EAAM,EAC3E,CAEAN,EAAWhjB,EAAKyiB,EAClB,MACY,MAAVL,GAAkBO,EAAUF,EAAgBL,EAAQM,GAGtD,OAAOthB,IACT,CAEA,GAAAkE,CAAI8c,EAAQnB,GAGV,GAFAmB,EAASD,GAAgBC,GAEb,CACV,MAAMrO,EAAMsG,GAAMrG,QAAQ5S,KAAMghB,GAEhC,GAAIrO,EAAK,CACP,MAAMrX,EAAQ0E,KAAK2S,GAEnB,IAAKkN,EACH,OAAOvkB,EAGT,IAAe,IAAXukB,EACF,OApHV,SAAqB3d,GACnB,MAAMigB,EAASjlB,OAAOgU,OAAO,MACvBkR,EAAW,mCACjB,IAAI3G,EAEJ,KAAQA,EAAQ2G,EAAS9K,KAAKpV,IAC5BigB,EAAO1G,EAAM,IAAMA,EAAM,GAG3B,OAAO0G,CACT,CA0GiBE,CAAY/mB,GAGrB,GAAI2d,GAAM3H,WAAWuO,GACnB,OAAOA,EAAOhf,KAAKb,KAAM1E,EAAOqX,GAGlC,GAAIsG,GAAM3F,SAASuM,GACjB,OAAOA,EAAOvI,KAAKhc,GAGrB,MAAM,IAAIiC,UAAU,yCACtB,CACF,CACF,CAEA,GAAA+kB,CAAItB,EAAQuB,GAGV,GAFAvB,EAASD,GAAgBC,GAEb,CACV,MAAMrO,EAAMsG,GAAMrG,QAAQ5S,KAAMghB,GAEhC,SAAUrO,QAAqB,IAAd3S,KAAK2S,IAAwB4P,IAAWrB,GAAiBlhB,EAAMA,KAAK2S,GAAMA,EAAK4P,GAClG,CAEA,OAAO,CACT,CAEA,OAAOvB,EAAQuB,GACb,MAAM7U,EAAO1N,KACb,IAAIwiB,GAAU,EAEd,SAASC,EAAahB,GAGpB,GAFAA,EAAUV,GAAgBU,GAEb,CACX,MAAM9O,EAAMsG,GAAMrG,QAAQlF,EAAM+T,IAE5B9O,GAAS4P,IAAWrB,GAAiBxT,EAAMA,EAAKiF,GAAMA,EAAK4P,YACtD7U,EAAKiF,GAEZ6P,GAAU,EAEd,CACF,CAQA,OANIvJ,GAAMha,QAAQ+hB,GAChBA,EAAO1O,QAAQmQ,GAEfA,EAAazB,GAGRwB,CACT,CAEA,KAAA1F,CAAMyF,GACJ,MAAM9P,EAAOvV,OAAOuV,KAAKzS,MACzB,IAAIvH,EAAIga,EAAKvZ,OACTspB,GAAU,EAEd,KAAO/pB,KAAK,CACV,MAAMka,EAAMF,EAAKha,GACb8pB,IAAWrB,GAAiBlhB,EAAMA,KAAK2S,GAAMA,EAAK4P,GAAS,YACtDviB,KAAK2S,GACZ6P,GAAU,EAEd,CAEA,OAAOA,CACT,CAEA,SAAAE,CAAUC,GACR,MAAMjV,EAAO1N,KACPif,EAAU,CAAA,EAsBhB,OApBAhG,GAAM3G,QAAQtS,KAAM,CAAC1E,EAAO0lB,KAC1B,MAAMrO,EAAMsG,GAAMrG,QAAQqM,EAAS+B,GAEnC,GAAIrO,EAGF,OAFAjF,EAAKiF,GAAOsO,GAAe3lB,eACpBoS,EAAKsT,GAId,MAAM4B,EAAaD,EAtKzB,SAAsB3B,GACpB,OAAOA,EAAOzb,OACXzF,cAAcwF,QAAQ,kBAAmB,CAACud,EAAGC,EAAM5gB,IAC3C4gB,EAAK9K,cAAgB9V,EAElC,CAiKkC6gB,CAAa/B,GAAU9f,OAAO8f,GAAQzb,OAE9Dqd,IAAe5B,UACVtT,EAAKsT,GAGdtT,EAAKkV,GAAc3B,GAAe3lB,GAElC2jB,EAAQ2D,IAAc,IAGjB5iB,IACT,CAEA,MAAA2E,IAAUqe,GACR,OAAOhjB,KAAK2L,YAAYhH,OAAO3E,QAASgjB,EAC1C,CAEA,MAAAjd,CAAOkd,GACL,MAAMrkB,EAAM1B,OAAOgU,OAAO,MAM1B,OAJA+H,GAAM3G,QAAQtS,KAAM,CAAC1E,EAAO0lB,KACjB,MAAT1lB,IAA2B,IAAVA,IAAoBsD,EAAIoiB,GAAUiC,GAAahK,GAAMha,QAAQ3D,GAASA,EAAM5B,KAAK,MAAQ4B,KAGrGsD,CACT,CAEA,CAAC1C,OAAO2U,YACN,OAAO3T,OAAOyhB,QAAQ3e,KAAK+F,UAAU7J,OAAO2U,WAC9C,CAEA,QAAArR,GACE,OAAOtC,OAAOyhB,QAAQ3e,KAAK+F,UAAUsM,IAAI,EAAE2O,EAAQ1lB,KAAW0lB,EAAS,KAAO1lB,GAAO5B,KAAK,KAC5F,CAEA,YAAAwpB,GACE,OAAOljB,KAAKkE,IAAI,eAAiB,EACnC,CAEA,IAAKhI,OAAO4U,eACV,MAAO,cACT,CAEA,WAAOrT,CAAKwT,GACV,OAAOA,aAAiBjR,KAAOiR,EAAQ,IAAIjR,KAAKiR,EAClD,CAEA,aAAOtM,CAAOyD,KAAU4a,GACtB,MAAMG,EAAW,IAAInjB,KAAKoI,GAI1B,OAFA4a,EAAQ1Q,QAAS9M,GAAW2d,EAASre,IAAIU,IAElC2d,CACT,CAEA,eAAOC,CAASpC,GACd,MAIMqC,GAJYrjB,KAAK8gB,IAAe9gB,KAAK8gB,IAAc,CACvDuC,UAAW,CAAA,IAGeA,UACtBjmB,EAAY4C,KAAK5C,UAEvB,SAASkmB,EAAe7B,GACtB,MAAME,EAAUZ,GAAgBU,GAE3B4B,EAAU1B,MAlOrB,SAAwB/iB,EAAKoiB,GAC3B,MAAMuC,EAAetK,GAAMpB,YAAY,IAAMmJ,GAE7C,CAAC,MAAO,MAAO,OAAO1O,QAAQkR,IAC5BtmB,OAAO8G,eAAepF,EAAK4kB,EAAaD,EAAc,CACpDjoB,MAAO,SAASmoB,EAAMC,EAAMC,GAC1B,OAAO3jB,KAAKwjB,GAAY3iB,KAAKb,KAAMghB,EAAQyC,EAAMC,EAAMC,EACzD,EACA7X,cAAc,KAGpB,CAwNQ8X,CAAexmB,EAAWqkB,GAC1B4B,EAAU1B,IAAW,EAEzB,CAIA,OAFA1I,GAAMha,QAAQ+hB,GAAUA,EAAO1O,QAAQgR,GAAkBA,EAAetC,GAEjEhhB,IACT,GCzRa,SAAS6jB,GAAcC,EAAKhL,GACzC,MAAMF,EAAS5Y,MAAQ6e,GACjB5L,EAAU6F,GAAYF,EACtBqG,EAAU8E,GAAatmB,KAAKwV,EAAQgM,SAC1C,IAAI/f,EAAO+T,EAAQ/T,KAQnB,OANA+Z,GAAM3G,QAAQwR,EAAK,SAAmBxW,GACpCpO,EAAOoO,EAAGzM,KAAK+X,EAAQ1Z,EAAM+f,EAAQyD,YAAa5J,EAAWA,EAASE,YAAS,EACjF,GAEAiG,EAAQyD,YAEDxjB,CACT,CCzBe,SAAS8kB,GAAS1oB,GAC/B,SAAUA,IAASA,EAAM2oB,WAC3B,CCUA,SAASC,GAAcjY,EAAS2M,EAAQC,GAEtCF,GAAW9X,KAAKb,KAAiB,MAAXiM,EAAkB,WAAaA,EAAS0M,GAAWwL,aAAcvL,EAAQC,GAC/F7Y,KAAK+L,KAAO,eACd,CCLe,SAASqY,GAAOC,EAASC,EAAQxL,GAC9C,MAAM2H,EAAiB3H,EAASF,OAAO6H,eAClC3H,EAASE,QAAWyH,IAAkBA,EAAe3H,EAASE,QAGjEsL,EAAO,IAAI3L,GACT,mCAAqCG,EAASE,OAC9C,CAACL,GAAW4L,gBAAiB5L,GAAWyH,kBAAkBhlB,KAAKO,MAAMmd,EAASE,OAAS,KAAO,GAC9FF,EAASF,OACTE,EAASD,QACTC,IAPFuL,EAAQvL,EAUZ,CJgRAiL,GAAaX,SAAS,CAAC,eAAgB,iBAAkB,SAAU,kBAAmB,aAAc,kBAGpGnK,GAAM1F,kBAAkBwQ,GAAa3mB,UAAW,EAAE9B,MAAAA,GAAQqX,KACxD,IAAI6R,EAAS7R,EAAI,GAAGqF,cAAgBrF,EAAI3U,MAAM,GAC9C,MAAO,CACLkG,IAAK,IAAM5I,EACX,GAAAwJ,CAAI2f,GACFzkB,KAAKwkB,GAAUC,CACjB,KAIJxL,GAAMzB,cAAcuM,IGnSpB9K,GAAMlD,SAASmO,GAAevL,GAAY,CACxCsL,YAAY,IEjBP,MAAMS,GAAuB,CAACC,EAAUC,EAAkBC,EAAO,KACtE,IAAIC,EAAgB,EACpB,MAAMC,ECER,SAAqBC,EAAcpiB,GACjCoiB,EAAeA,GAAgB,GAC/B,MAAM5e,EAAQ,IAAIxM,MAAMorB,GAClBC,EAAa,IAAIrrB,MAAMorB,GAC7B,IAEIE,EAFAC,EAAO,EACPC,EAAO,EAKX,OAFAxiB,OAAc,IAARA,EAAoBA,EAAM,IAEzB,SAAcyiB,GACnB,MAAMC,EAAMC,KAAKD,MAEXE,EAAYP,EAAWG,GAExBF,IACHA,EAAgBI,GAGlBlf,EAAM+e,GAAQE,EACdJ,EAAWE,GAAQG,EAEnB,IAAI7sB,EAAI2sB,EACJK,EAAa,EAEjB,KAAOhtB,IAAM0sB,GACXM,GAAcrf,EAAM3N,KACpBA,GAAQusB,EASV,GANAG,GAAQA,EAAO,GAAKH,EAEhBG,IAASC,IACXA,GAAQA,EAAO,GAAKJ,GAGlBM,EAAMJ,EAAgBtiB,EACxB,OAGF,MAAM8iB,EAASF,GAAaF,EAAME,EAElC,OAAOE,EAAStqB,KAAKuqB,MAAmB,IAAbF,EAAoBC,QAAU,CAC3D,CACF,CD9CuBE,CAAY,GAAI,KAErC,OEFF,SAAkBtY,EAAIuX,GACpB,IAEIgB,EACAC,EAHAC,EAAY,EACZC,EAAY,IAAOnB,EAIvB,MAAMoB,EAAS,CAAC5W,EAAMiW,EAAMC,KAAKD,SAC/BS,EAAYT,EACZO,EAAW,KACPC,IACFvX,aAAauX,GACbA,EAAQ,MAEVxY,KAAM+B,IAqBR,MAAO,CAlBW,IAAIA,KACpB,MAAMiW,EAAMC,KAAKD,MACXI,EAASJ,EAAMS,EAChBL,GAAUM,EACbC,EAAO5W,EAAMiW,IAEbO,EAAWxW,EACNyW,IACHA,EAAQxX,WAAW,KACjBwX,EAAQ,KACRG,EAAOJ,IACNG,EAAYN,MAKP,IAAMG,GAAYI,EAAOJ,GAGzC,CFjCSK,CAASxrB,IACd,MAAMyrB,EAASzrB,EAAEyrB,OACXC,EAAQ1rB,EAAE2rB,iBAAmB3rB,EAAE0rB,WAAQ,EACvCE,EAAgBH,EAASrB,EACzByB,EAAOxB,EAAauB,GAG1BxB,EAAgBqB,EAchBxB,EAZa,CACXwB,SACAC,QACAI,SAAUJ,EAASD,EAASC,OAAS,EACrChgB,MAAOkgB,EACPC,KAAMA,QAAc,EACpBE,UAAWF,GAAQH,GAVLD,GAAUC,GAUeA,EAAQD,GAAUI,OAAO,EAChEG,MAAOhsB,EACP2rB,iBAA2B,MAATD,EAClB,CAACxB,EAAmB,WAAa,WAAW,KAI7CC,IAGQ8B,GAAyB,CAACP,EAAOQ,KAC5C,MAAMP,EAA4B,MAATD,EAEzB,MAAO,CAAED,GAAWS,EAAU,GAAG,CAC/BP,mBACAD,QACAD,WACES,EAAU,KAGHC,GAAkBvZ,GAAO,IAAI+B,IAAS4J,GAAMtE,KAAK,IAAMrH,KAAM+B,IGzC1EyX,GAAezI,GAASR,wBAA0BK,EAAQ6I,IAAYjL,IACpEA,EAAM,IAAIkL,IAAIlL,EAAKuC,GAASH,QAG1BA,EAAO+I,WAAanL,EAAImL,UACxB/I,EAAOgJ,OAASpL,EAAIoL,OACnBH,GAAU7I,EAAOiJ,OAASrL,EAAIqL,QAGjC,IAAIH,IAAI3I,GAASH,QACjBG,GAAST,WAAa,kBAAkB5D,KAAKqE,GAAST,UAAUwJ,YAC9D,KAAM,ECVVC,GAAehJ,GAASR,sBAAA,CAIpB,KAAA9f,CAAMgO,EAAMzQ,EAAOgsB,EAASzN,EAAM0N,EAAQC,GACxC,MAAMC,EAAS,CAAC1b,EAAO,IAAMyP,mBAAmBlgB,IAEhD2d,GAAMxH,SAAS6V,IAAYG,EAAOluB,KAAK,WAAa,IAAIgsB,KAAK+B,GAASI,eAEtEzO,GAAMzH,SAASqI,IAAS4N,EAAOluB,KAAK,QAAUsgB,GAE9CZ,GAAMzH,SAAS+V,IAAWE,EAAOluB,KAAK,UAAYguB,IAEvC,IAAXC,GAAmBC,EAAOluB,KAAK,UAE/BmkB,SAAS+J,OAASA,EAAO/tB,KAAK,KAChC,EAEA,IAAAyH,CAAK4K,GACH,MAAM0P,EAAQiC,SAAS+J,OAAOhM,MAAM,IAAIkM,OAAO,aAAe5b,EAAO,cACrE,OAAQ0P,EAAQmM,mBAAmBnM,EAAM,IAAM,IACjD,EAEA,MAAAoM,CAAO9b,GACL/L,KAAKjC,MAAMgO,EAAM,GAAIwZ,KAAKD,MAAQ,MACpC,GACJ,CAMI,KAAAvnB,GAAS,EACToD,KAAA,IACS,KAET,MAAA0mB,GAAU,GCxBC,SAASC,GAAcC,EAASC,EAAcC,GAC3D,IAAIC,GCHG,8BAA8BlO,KDGFgO,GACnC,OAAID,IAAYG,GAAsC,GAArBD,GEPpB,SAAqBF,EAASI,GAC3C,OAAOA,EACHJ,EAAQziB,QAAQ,SAAU,IAAM,IAAM6iB,EAAY7iB,QAAQ,OAAQ,IAClEyiB,CACN,CFIWK,CAAYL,EAASC,GAEvBA,CACT,CGhBA,MAAMK,GAAmBpX,GAAUA,aAAiB8S,GAAe,IAAK9S,GAAUA,EAWnE,SAASqX,GAAYC,EAASC,GAE3CA,EAAUA,GAAW,CAAA,EACrB,MAAM5P,EAAS,CAAA,EAEf,SAAS6P,EAAejjB,EAAQgP,EAAQnB,EAAMoC,GAC5C,OAAIwD,GAAMtH,cAAcnM,IAAWyT,GAAMtH,cAAc6C,GAC9CyE,GAAMzD,MAAM3U,KAAK,CAAC4U,YAAWjQ,EAAQgP,GACnCyE,GAAMtH,cAAc6C,GACtByE,GAAMzD,MAAM,CAAA,EAAIhB,GACdyE,GAAMha,QAAQuV,GAChBA,EAAOxW,QAETwW,CACT,CAGA,SAASkU,EAAoBlkB,EAAG7F,EAAG0U,EAAOoC,GACxC,OAAKwD,GAAM5H,YAAY1S,GAEXsa,GAAM5H,YAAY7M,QAA9B,EACSikB,OAAe,EAAWjkB,EAAG6O,EAAOoC,GAFpCgT,EAAejkB,EAAG7F,EAAG0U,EAAOoC,EAIvC,CAGA,SAASkT,EAAiBnkB,EAAG7F,GAC3B,IAAKsa,GAAM5H,YAAY1S,GACrB,OAAO8pB,OAAe,EAAW9pB,EAErC,CAGA,SAASiqB,EAAiBpkB,EAAG7F,GAC3B,OAAKsa,GAAM5H,YAAY1S,GAEXsa,GAAM5H,YAAY7M,QAA9B,EACSikB,OAAe,EAAWjkB,GAF1BikB,OAAe,EAAW9pB,EAIrC,CAGA,SAASkqB,EAAgBrkB,EAAG7F,EAAG0U,GAC7B,OAAIA,KAAQmV,EACHC,EAAejkB,EAAG7F,GAChB0U,KAAQkV,EACVE,OAAe,EAAWjkB,QADnC,CAGF,CAEA,MAAMskB,EAAW,CACfhN,IAAK6M,EACL/H,OAAQ+H,EACRzpB,KAAMypB,EACNZ,QAASa,EACT5J,iBAAkB4J,EAClB5I,kBAAmB4I,EACnBG,iBAAkBH,EAClB9Z,QAAS8Z,EACTI,eAAgBJ,EAChBK,gBAAiBL,EACjBM,cAAeN,EACf7J,QAAS6J,EACT1I,aAAc0I,EACdvI,eAAgBuI,EAChBtI,eAAgBsI,EAChBO,iBAAkBP,EAClBQ,mBAAoBR,EACpBS,WAAYT,EACZrI,iBAAkBqI,EAClBpI,cAAeoI,EACfU,eAAgBV,EAChBW,UAAWX,EACXY,UAAWZ,EACXa,WAAYb,EACZc,YAAad,EACbe,WAAYf,EACZgB,iBAAkBhB,EAClBnI,eAAgBoI,EAChB5J,QAAS,CAACza,EAAG7F,EAAI0U,IAASqV,EAAoBL,GAAgB7jB,GAAI6jB,GAAgB1pB,GAAG0U,GAAM,IAS7F,OANA4F,GAAM3G,QAAQpV,OAAOuV,KAAK,IAAI8V,KAAYC,IAAW,SAA4BnV,GAC/E,MAAMmC,EAAQsT,EAASzV,IAASqV,EAC1BmB,EAAcrU,EAAM+S,EAAQlV,GAAOmV,EAAQnV,GAAOA,GACvD4F,GAAM5H,YAAYwY,IAAgBrU,IAAUqT,IAAqBjQ,EAAOvF,GAAQwW,EACnF,GAEOjR,CACT,CChGA,MAAAkR,GAAgBlR,IACd,MAAMmR,EAAYzB,GAAY,CAAA,EAAI1P,GAElC,IAaIsG,GAbAhgB,KAACA,EAAAgqB,cAAMA,EAAA5I,eAAeA,iBAAgBD,EAAApB,QAAgBA,EAAA+K,KAASA,GAAQD,EAe3E,GAbAA,EAAU9K,QAAUA,EAAU8E,GAAatmB,KAAKwhB,GAEhD8K,EAAUjO,IAAMD,GAASiM,GAAciC,EAAUhC,QAASgC,EAAUjO,IAAKiO,EAAU9B,mBAAoBrP,EAAO+C,OAAQ/C,EAAOmQ,kBAGzHiB,GACF/K,EAAQna,IAAI,gBAAiB,SAC3BmlB,MAAMD,EAAKE,UAAY,IAAM,KAAOF,EAAKG,SAAWC,SAAS5O,mBAAmBwO,EAAKG,WAAa,MAMlGlR,GAAMnE,WAAW5V,GACnB,GAAImf,GAASR,uBAAyBQ,GAASN,+BAC7CkB,EAAQK,oBAAe,QACzB,IAAwD,KAA5CJ,EAAcD,EAAQE,kBAA6B,CAE7D,MAAOngB,KAASmjB,GAAUjD,EAAcA,EAAYnS,MAAM,KAAKsF,IAAI+B,GAASA,EAAM7O,QAAQ+Q,OAAO+T,SAAW,GAC5GpL,EAAQK,eAAe,CAACtgB,GAAQ,yBAA0BmjB,GAAQzoB,KAAK,MACzE,CAOF,GAAI2kB,GAASR,wBACXqL,GAAiBjQ,GAAM3H,WAAW4X,KAAmBA,EAAgBA,EAAca,IAE/Eb,IAAoC,IAAlBA,GAA2BpC,GAAgBiD,EAAUjO,MAAO,CAEhF,MAAMwO,EAAYhK,GAAkBD,GAAkBgH,GAAQlmB,KAAKkf,GAE/DiK,GACFrL,EAAQna,IAAIwb,EAAgBgK,EAEhC,CAGF,OAAOP,GCzCTQ,GAFwD,oBAAnBC,gBAEG,SAAU5R,GAChD,OAAO,IAAI6R,QAAQ,SAA4BpG,EAASC,GACtD,MAAMoG,EAAUZ,GAAclR,GAC9B,IAAI+R,EAAcD,EAAQxrB,KAC1B,MAAM0rB,EAAiB7G,GAAatmB,KAAKitB,EAAQzL,SAASyD,YAC1D,IACImI,EACAC,EAAiBC,EACjBC,EAAaC,GAHb/K,aAACA,EAAAiJ,iBAAcA,EAAAC,mBAAkBA,GAAsBsB,EAK3D,SAASzT,IACP+T,GAAeA,IACfC,GAAiBA,IAEjBP,EAAQhB,aAAegB,EAAQhB,YAAYwB,YAAYL,GAEvDH,EAAQS,QAAUT,EAAQS,OAAOC,oBAAoB,QAASP,EAChE,CAEA,IAAIhS,EAAU,IAAI2R,eAOlB,SAASa,IACP,IAAKxS,EACH,OAGF,MAAMyS,EAAkBvH,GAAatmB,KACnC,0BAA2Bob,GAAWA,EAAQ0S,yBAahDnH,GAAO,SAAkB9oB,GACvB+oB,EAAQ/oB,GACR2b,GACF,EAAG,SAAiBuU,GAClBlH,EAAOkH,GACPvU,GACF,EAfiB,CACf/X,KAHoBghB,GAAiC,SAAjBA,GAA4C,SAAjBA,EACxCrH,EAAQC,SAA/BD,EAAQ4S,aAGRzS,OAAQH,EAAQG,OAChB0S,WAAY7S,EAAQ6S,WACpBzM,QAASqM,EACT1S,SACAC,YAYFA,EAAU,IACZ,CAlCAA,EAAQ8S,KAAKjB,EAAQ9J,OAAO5I,cAAe0S,EAAQ5O,KAAK,GAGxDjD,EAAQ/J,QAAU4b,EAAQ5b,QAiCtB,cAAe+J,EAEjBA,EAAQwS,UAAYA,EAGpBxS,EAAQ+S,mBAAqB,WACtB/S,GAAkC,IAAvBA,EAAQgT,aAQD,IAAnBhT,EAAQG,QAAkBH,EAAQiT,aAAwD,IAAzCjT,EAAQiT,YAAY/xB,QAAQ,WAKjFuU,WAAW+c,EACb,EAIFxS,EAAQkT,QAAU,WACXlT,IAILyL,EAAO,IAAI3L,GAAW,kBAAmBA,GAAWqT,aAAcpT,EAAQC,IAG1EA,EAAU,KACZ,EAGAA,EAAQoT,QAAU,WAGhB3H,EAAO,IAAI3L,GAAW,gBAAiBA,GAAWuT,YAAatT,EAAQC,IAGvEA,EAAU,IACZ,EAGAA,EAAQsT,UAAY,WAClB,IAAIC,EAAsB1B,EAAQ5b,QAAU,cAAgB4b,EAAQ5b,QAAU,cAAgB,mBAC9F,MAAMgQ,EAAe4L,EAAQ5L,cAAgB9B,GACzC0N,EAAQ0B,sBACVA,EAAsB1B,EAAQ0B,qBAEhC9H,EAAO,IAAI3L,GACTyT,EACAtN,EAAa3B,oBAAsBxE,GAAW0T,UAAY1T,GAAWqT,aACrEpT,EACAC,IAGFA,EAAU,IACZ,OAGgB,IAAhB8R,GAA6BC,EAAetL,eAAe,MAGvD,qBAAsBzG,GACxBI,GAAM3G,QAAQsY,EAAe7kB,SAAU,SAA0BrF,EAAKiS,GACpEkG,EAAQyT,iBAAiB3Z,EAAKjS,EAChC,GAIGuY,GAAM5H,YAAYqZ,EAAQzB,mBAC7BpQ,EAAQoQ,kBAAoByB,EAAQzB,iBAIlC/I,GAAiC,SAAjBA,IAClBrH,EAAQqH,aAAewK,EAAQxK,cAI7BkJ,KACA2B,EAAmBE,GAAiBvG,GAAqB0E,GAAoB,GAC/EvQ,EAAQtE,iBAAiB,WAAYwW,IAInC5B,GAAoBtQ,EAAQ0T,UAC5BzB,EAAiBE,GAAetG,GAAqByE,GAEvDtQ,EAAQ0T,OAAOhY,iBAAiB,WAAYuW,GAE5CjS,EAAQ0T,OAAOhY,iBAAiB,UAAWyW,KAGzCN,EAAQhB,aAAegB,EAAQS,UAGjCN,EAAa2B,IACN3T,IAGLyL,GAAQkI,GAAUA,EAAOxtB,KAAO,IAAIklB,GAAc,KAAMtL,EAAQC,GAAW2T,GAC3E3T,EAAQ4T,QACR5T,EAAU,OAGZ6R,EAAQhB,aAAegB,EAAQhB,YAAYgD,UAAU7B,GACjDH,EAAQS,SACVT,EAAQS,OAAOwB,QAAU9B,IAAeH,EAAQS,OAAO5W,iBAAiB,QAASsW,KAIrF,MAAM5D,ECvLK,SAAuBnL,GACpC,MAAML,EAAQ,4BAA4BnE,KAAKwE,GAC/C,OAAOL,GAASA,EAAM,IAAM,EAC9B,CDoLqBmR,CAAclC,EAAQ5O,KAEnCmL,IAAqD,IAAzC5I,GAASb,UAAUzjB,QAAQktB,GACzC3C,EAAO,IAAI3L,GAAW,wBAA0BsO,EAAW,IAAKtO,GAAW4L,gBAAiB3L,IAM9FC,EAAQgU,KAAKlC,GAAe,KAC9B,EACF,EEhMMmC,GAAiB,CAACC,EAASje,KAC/B,MAAM5V,OAACA,GAAW6zB,EAAUA,EAAUA,EAAQzW,OAAO+T,SAAW,GAEhE,GAAIvb,GAAW5V,EAAQ,CACrB,IAEIyzB,EAFAK,EAAa,IAAIC,gBAIrB,MAAMlB,EAAU,SAAUmB,GACxB,IAAKP,EAAS,CACZA,GAAU,EACVzB,IACA,MAAMM,EAAM0B,aAAkBpzB,MAAQozB,EAASltB,KAAKktB,OACpDF,EAAWP,MAAMjB,aAAe7S,GAAa6S,EAAM,IAAItH,GAAcsH,aAAe1xB,MAAQ0xB,EAAIvf,QAAUuf,GAC5G,CACF,EAEA,IAAI1F,EAAQhX,GAAWR,WAAW,KAChCwX,EAAQ,KACRiG,EAAQ,IAAIpT,GAAW,WAAW7J,mBAA0B6J,GAAW0T,aACtEvd,GAEH,MAAMoc,EAAc,KACd6B,IACFjH,GAASvX,aAAauX,GACtBA,EAAQ,KACRiH,EAAQza,QAAQ6Y,IACdA,EAAOD,YAAcC,EAAOD,YAAYa,GAAWZ,EAAOC,oBAAoB,QAASW,KAEzFgB,EAAU,OAIdA,EAAQza,QAAS6Y,GAAWA,EAAO5W,iBAAiB,QAASwX,IAE7D,MAAMZ,OAACA,GAAU6B,EAIjB,OAFA7B,EAAOD,YAAc,IAAMjS,GAAMtE,KAAKuW,GAE/BC,CACT,GC3CWgC,GAAc,UAAWC,EAAOC,GAC3C,IAAIv0B,EAAMs0B,EAAMvvB,WAEhB,GAAkB/E,EAAMu0B,EAEtB,kBADMD,GAIR,IACIjzB,EADA0K,EAAM,EAGV,KAAOA,EAAM/L,GACXqB,EAAM0K,EAAMwoB,QACND,EAAMpvB,MAAM6G,EAAK1K,GACvB0K,EAAM1K,CAEV,EAQMmzB,GAAaC,gBAAiBC,GAClC,GAAIA,EAAOtxB,OAAOuxB,eAEhB,kBADOD,GAIT,MAAME,EAASF,EAAOG,YACtB,IACE,OAAS,CACP,MAAM1W,KAACA,EAAM3b,MAAAA,SAAeoyB,EAAOvsB,OACnC,GAAI8V,EACF,YAEI3b,CACR,CACF,CAAA,cACQoyB,EAAOlB,QACf,CACF,EAEaoB,GAAc,CAACJ,EAAQH,EAAWQ,EAAYC,KACzD,MAAMjd,EA3BiB0c,gBAAiBQ,EAAUV,GAClD,UAAA,MAAiBD,KAASE,GAAWS,SAC5BZ,GAAYC,EAAOC,EAE9B,CAuBmBW,CAAUR,EAAQH,GAEnC,IACIpW,EADA7Q,EAAQ,EAER6nB,EAAavzB,IACVuc,IACHA,GAAO,EACP6W,GAAYA,EAASpzB,KAIzB,OAAO,IAAIwzB,eAAe,CACxB,UAAMC,CAAKnB,GACT,IACE,MAAO/V,KAAAA,EAAM3b,MAAAA,SAAeuV,EAASmG,OAErC,GAAIC,EAGF,OAFDgX,SACCjB,EAAWoB,QAIb,IAAIt1B,EAAMwC,EAAMuC,WAChB,GAAIgwB,EAAY,CACd,IAAIQ,EAAcjoB,GAAStN,EAC3B+0B,EAAWQ,EACb,CACArB,EAAWsB,QAAQ,IAAI30B,WAAW2B,GACpC,OAASkwB,GAEP,MADAyC,EAAUzC,GACJA,CACR,CACF,EACAgB,OAAOU,IACLe,EAAUf,GACHrc,EAAS0d,WAEjB,CACDC,cAAe,KC1EbC,GAAoC,mBAAVC,OAA2C,mBAAZC,SAA8C,mBAAbC,SAC1FC,GAA4BJ,IAA8C,mBAAnBP,eAGvDY,GAAaL,KAA4C,mBAAhBM,YAC1C,CAAC3S,GAAala,GAAQka,EAAQd,OAAOpZ,GAArC,CAA2C,IAAI6sB,aAChDxB,MAAOrrB,GAAQ,IAAIvI,iBAAiB,IAAIi1B,SAAS1sB,GAAK8sB,gBAGpDhV,GAAO,CAAC1M,KAAO+B,KACnB,IACE,QAAS/B,KAAM+B,EACjB,OAAS3U,GACP,OAAO,CACT,GAGIu0B,GAAwBJ,IAA6B7U,GAAK,KAC9D,IAAIkV,GAAiB,EAErB,MAAMC,EAAiB,IAAIR,QAAQtQ,GAASH,OAAQ,CAClDkR,KAAM,IAAIlB,eACVtN,OAAQ,OACR,UAAIyO,GAEF,OADAH,GAAiB,EACV,MACT,IACCjQ,QAAQqD,IAAI,gBAEf,OAAO4M,IAAmBC,IAKtBG,GAAyBT,IAC7B7U,GAAK,IAAMf,GAAMhH,iBAAiB,IAAI2c,SAAS,IAAIQ,OAG/CG,GAAY,CAChB/B,OAAQ8B,IAAA,CAA4BzsB,GAAQA,EAAIusB,OAGlD,IAAuBvsB,GAAvB4rB,KAAuB5rB,GAOpB,IAAI+rB,SANL,CAAC,OAAQ,cAAe,OAAQ,WAAY,UAAUtc,QAAQtT,KAC3DuwB,GAAUvwB,KAAUuwB,GAAUvwB,GAAQia,GAAM3H,WAAWzO,GAAI7D,IAAU6D,GAAQA,EAAI7D,KAChF,CAACwwB,EAAG5W,KACF,MAAM,IAAID,GAAW,kBAAkB3Z,sBAA0B2Z,GAAW8W,gBAAiB7W,QAKrG,MA8BM8W,GAAoBnC,MAAOtO,EAASmQ,KACxC,MAAMl2B,EAAS+f,GAAMhB,eAAegH,EAAQ0Q,oBAE5C,OAAiB,MAAVz2B,EAjCaq0B,OAAO6B,IAC3B,GAAY,MAARA,EACF,OAAO,EAGT,GAAGnW,GAAMnH,OAAOsd,GACd,OAAOA,EAAK9vB,KAGd,GAAG2Z,GAAMd,oBAAoBiX,GAAO,CAClC,MAAMQ,EAAW,IAAIjB,QAAQtQ,GAASH,OAAQ,CAC5C0C,OAAQ,OACRwO,SAEF,aAAcQ,EAASZ,eAAenxB,UACxC,CAEA,OAAGob,GAAM/D,kBAAkBka,IAASnW,GAAM1H,cAAc6d,GAC/CA,EAAKvxB,YAGXob,GAAMjH,kBAAkBod,KACzBA,GAAc,IAGbnW,GAAMzH,SAAS4d,UACFN,GAAWM,IAAOvxB,gBADlC,IAQwBgyB,CAAcT,GAAQl2B,GCxF1C42B,GAAgB,CACpBC,KCNa,KDObC,IAAKzF,GACLmE,MDwFaD,IAAA,OAA4B7V,IACzC,IACEkD,IAAAA,EAAAA,OACA8E,EAAA1hB,KACAA,EAAAisB,OACAA,EAAAzB,YACAA,EAAA5a,QACAA,EAAAsa,mBACAA,EAAAD,iBACAA,EAAAjJ,aACAA,EAAAjB,QACAA,EAAAgK,gBACAA,EAAkB,cAAAgH,aAClBA,GACEnG,GAAclR,GAElBsH,EAAeA,GAAgBA,EAAe,IAAIpgB,cAAgB,OAElE,IAEI+Y,EAFAqX,EAAiBpD,GAAe,CAAC3B,EAAQzB,GAAeA,EAAYyG,iBAAkBrhB,GAI1F,MAAMoc,EAAcgF,GAAkBA,EAAehF,aAAA,MACjDgF,EAAehF,aACnB,GAEA,IAAIkF,EAEJ,IACE,GACEjH,GAAoB8F,IAAoC,QAAXrO,GAA+B,SAAXA,GACG,KAAnEwP,QAA6BV,GAAkBzQ,EAAS/f,IACzD,CACA,IAMImxB,EANAT,EAAW,IAAIjB,QAAQ7S,EAAK,CAC9B8E,OAAQ,OACRwO,KAAMlwB,EACNmwB,OAAQ,SASV,GAJIpW,GAAMnE,WAAW5V,KAAUmxB,EAAoBT,EAAS3Q,QAAQ/a,IAAI,kBACtE+a,EAAQK,eAAe+Q,GAGrBT,EAASR,KAAM,CACjB,MAAOvB,EAAYyC,GAAS3J,GAC1ByJ,EACA1L,GAAqBmC,GAAesC,KAGtCjqB,EAAO0uB,GAAYgC,EAASR,KA1GT,MA0GmCvB,EAAYyC,EACpE,CACF,CAEKrX,GAAMzH,SAASyX,KAClBA,EAAkBA,EAAkB,UAAY,QAKlD,MAAMsH,EAAyB,gBAAiB5B,QAAQvxB,UACxDyb,EAAU,IAAI8V,QAAQ7S,EAAK,IACtBmU,EACH9E,OAAQ+E,EACRtP,OAAQA,EAAO5I,cACfiH,QAASA,EAAQyD,YAAY3c,SAC7BqpB,KAAMlwB,EACNmwB,OAAQ,OACRmB,YAAaD,EAAyBtH,OAAkB,IAG1D,IAAInQ,QAAiB4V,MAAM7V,EAASoX,GAEpC,MAAMQ,EAAmBnB,KAA4C,WAAjBpP,GAA8C,aAAjBA,GAEjF,GAAIoP,KAA2BlG,GAAuBqH,GAAoBvF,GAAe,CACvF,MAAM/Q,EAAU,CAAA,EAEhB,CAAC,SAAU,aAAc,WAAW7H,QAAQe,IAC1C8G,EAAQ9G,GAAQyF,EAASzF,KAG3B,MAAMqd,EAAwBzX,GAAMhB,eAAea,EAASmG,QAAQ/a,IAAI,oBAEjE2pB,EAAYyC,GAASlH,GAAsBzC,GAChD+J,EACAhM,GAAqBmC,GAAeuC,IAAqB,KACtD,GAELtQ,EAAW,IAAI8V,SACbhB,GAAY9U,EAASsW,KAlJF,MAkJ4BvB,EAAY,KACzDyC,GAASA,IACTpF,GAAeA,MAEjB/Q,EAEJ,CAEA+F,EAAeA,GAAgB,OAE/B,IAAIyQ,QAAqBpB,GAAUtW,GAAMrG,QAAQ2c,GAAWrP,IAAiB,QAAQpH,EAAUF,GAI/F,OAFC6X,GAAoBvF,GAAeA,UAEvB,IAAIT,QAAQ,CAACpG,EAASC,KACjCF,GAAOC,EAASC,EAAQ,CACtBplB,KAAMyxB,EACN1R,QAAS8E,GAAatmB,KAAKqb,EAASmG,SACpCjG,OAAQF,EAASE,OACjB0S,WAAY5S,EAAS4S,WACrB9S,SACAC,aAGN,OAAS2S,GAGP,GAFAN,GAAeA,IAEXM,GAAoB,cAAbA,EAAIzf,MAAwB,qBAAqBiO,KAAKwR,EAAIvf,SACnE,MAAM/O,OAAOgZ,OACX,IAAIyC,GAAW,gBAAiBA,GAAWuT,YAAatT,EAAQC,GAChE,CACEY,MAAO+R,EAAI/R,OAAS+R,IAK1B,MAAM7S,GAAWlb,KAAK+tB,EAAKA,GAAOA,EAAI3xB,KAAM+e,EAAQC,EACtD,CACF,ICtNAI,GAAM3G,QAAQwd,GAAe,CAACxiB,EAAIhS,KAChC,GAAIgS,EAAI,CACN,IACEpQ,OAAO8G,eAAesJ,EAAI,OAAQ,CAAChS,MAAAA,GACrC,OAASZ,GAET,CACAwC,OAAO8G,eAAesJ,EAAI,cAAe,CAAChS,MAAAA,GAC5C,IAGF,MAAMs1B,GAAgB1D,GAAW,KAAKA,IAEhC2D,GAAoB9R,GAAY9F,GAAM3H,WAAWyN,IAAwB,OAAZA,IAAgC,IAAZA,EAEvF+R,GACeA,IACXA,EAAW7X,GAAMha,QAAQ6xB,GAAYA,EAAW,CAACA,GAEjD,MAAM53B,OAACA,GAAU43B,EACjB,IAAIC,EACAhS,EAEJ,MAAMiS,EAAkB,CAAA,EAExB,IAAA,IAASv4B,EAAI,EAAGA,EAAIS,EAAQT,IAAK,CAE/B,IAAIokB,EAIJ,GALAkU,EAAgBD,EAASr4B,GAGzBsmB,EAAUgS,GAELF,GAAiBE,KACpBhS,EAAU+Q,IAAejT,EAAK3b,OAAO6vB,IAAgBjxB,oBAErC,IAAZif,GACF,MAAM,IAAIpG,GAAW,oBAAoBkE,MAI7C,GAAIkC,EACF,MAGFiS,EAAgBnU,GAAM,IAAMpkB,GAAKsmB,CACnC,CAEA,IAAKA,EAAS,CAEZ,MAAMkS,EAAU/zB,OAAOyhB,QAAQqS,GAC5B3e,IAAI,EAAEwK,EAAIqU,KAAW,WAAWrU,OACpB,IAAVqU,EAAkB,sCAAwC,kCAO/D,MAAM,IAAIvY,GACR,yDALMzf,EACL+3B,EAAQ/3B,OAAS,EAAI,YAAc+3B,EAAQ5e,IAAIue,IAAcl3B,KAAK,MAAQ,IAAMk3B,GAAaK,EAAQ,IACtG,2BAIA,kBAEJ,CAEA,OAAOlS,GE3DX,SAASoS,GAA6BvY,GAKpC,GAJIA,EAAO8Q,aACT9Q,EAAO8Q,YAAY0H,mBAGjBxY,EAAOuS,QAAUvS,EAAOuS,OAAOwB,QACjC,MAAM,IAAIzI,GAAc,KAAMtL,EAElC,CASe,SAASyY,GAAgBzY,GACtCuY,GAA6BvY,GAE7BA,EAAOqG,QAAU8E,GAAatmB,KAAKmb,EAAOqG,SAG1CrG,EAAO1Z,KAAO2kB,GAAchjB,KAC1B+X,EACAA,EAAOoG,mBAG+C,IAApD,CAAC,OAAQ,MAAO,SAASjlB,QAAQ6e,EAAOgI,SAC1ChI,EAAOqG,QAAQK,eAAe,qCAAqC,GAKrE,OAFgBwR,GAAoBlY,EAAOmG,SAAWF,GAASE,QAExDA,CAAQnG,GAAQJ,KAAK,SAA6BM,GAYvD,OAXAqY,GAA6BvY,GAG7BE,EAAS5Z,KAAO2kB,GAAchjB,KAC5B+X,EACAA,EAAOoH,kBACPlH,GAGFA,EAASmG,QAAU8E,GAAatmB,KAAKqb,EAASmG,SAEvCnG,CACT,EAAG,SAA4BoU,GAe7B,OAdKlJ,GAASkJ,KACZiE,GAA6BvY,GAGzBsU,GAAUA,EAAOpU,WACnBoU,EAAOpU,SAAS5Z,KAAO2kB,GAAchjB,KACnC+X,EACAA,EAAOoH,kBACPkN,EAAOpU,UAEToU,EAAOpU,SAASmG,QAAU8E,GAAatmB,KAAKyvB,EAAOpU,SAASmG,WAIzDwL,QAAQnG,OAAO4I,EACxB,EACF,CChFO,MAAMoE,GAAU,SCKjBC,GAAa,CAAA,EAGnB,CAAC,SAAU,UAAW,SAAU,WAAY,SAAU,UAAUjf,QAAQ,CAACtT,EAAMvG,KAC7E84B,GAAWvyB,GAAQ,SAAmBiS,GACpC,cAAcA,IAAUjS,GAAQ,KAAOvG,EAAI,EAAI,KAAO,KAAOuG,CAC/D,IAGF,MAAMwyB,GAAqB,CAAA,EAW3BD,GAAWzS,aAAe,SAAsB2S,EAAWhiB,EAASxD,GAClE,SAASylB,EAAcC,EAAKC,GAC1B,MAAO,WAAaN,GAAU,0BAA6BK,EAAM,IAAOC,GAAQ3lB,EAAU,KAAOA,EAAU,GAC7G,CAGA,MAAO,CAAC3Q,EAAOq2B,EAAKE,KAClB,IAAkB,IAAdJ,EACF,MAAM,IAAI9Y,GACR+Y,EAAcC,EAAK,qBAAuBliB,EAAU,OAASA,EAAU,KACvEkJ,GAAWmZ,gBAef,OAXIriB,IAAY+hB,GAAmBG,KACjCH,GAAmBG,IAAO,EAE1B7tB,QAAQiuB,KACNL,EACEC,EACA,+BAAiCliB,EAAU,8CAK1CgiB,GAAYA,EAAUn2B,EAAOq2B,EAAKE,GAE7C,EAEAN,GAAWS,SAAW,SAAkBC,GACtC,MAAO,CAAC32B,EAAOq2B,KAEb7tB,QAAQiuB,KAAK,GAAGJ,gCAAkCM,MAC3C,EAEX,EAmCA,MAAAR,GAAe,CACbS,cAxBF,SAAuB/X,EAASgY,EAAQC,GACtC,GAAuB,iBAAZjY,EACT,MAAM,IAAIxB,GAAW,4BAA6BA,GAAW0Z,sBAE/D,MAAM5f,EAAOvV,OAAOuV,KAAK0H,GACzB,IAAI1hB,EAAIga,EAAKvZ,OACb,KAAOT,KAAM,GAAG,CACd,MAAMk5B,EAAMlf,EAAKha,GACXg5B,EAAYU,EAAOR,GACzB,GAAIF,EAAW,CACb,MAAMn2B,EAAQ6e,EAAQwX,GAChBxc,OAAmB,IAAV7Z,GAAuBm2B,EAAUn2B,EAAOq2B,EAAKxX,GAC5D,IAAe,IAAXhF,EACF,MAAM,IAAIwD,GAAW,UAAYgZ,EAAM,YAAcxc,EAAQwD,GAAW0Z,sBAE1E,QACF,CACA,IAAqB,IAAjBD,EACF,MAAM,IAAIzZ,GAAW,kBAAoBgZ,EAAKhZ,GAAW2Z,eAE7D,CACF,EAIAf,WAAEA,ICtFIA,GAAaE,GAAUF,WAS7B,IAAAgB,GAAA,MACE,WAAA5mB,CAAY6mB,GACVxyB,KAAK6e,SAAW2T,GAAkB,CAAA,EAClCxyB,KAAKyyB,aAAe,CAClB5Z,QAAS,IAAIwD,GACbvD,SAAU,IAAIuD,GAElB,CAUA,aAAMxD,CAAQ6Z,EAAa9Z,GACzB,IACE,aAAa5Y,KAAK4vB,SAAS8C,EAAa9Z,EAC1C,OAAS4S,GACP,GAAIA,aAAe1xB,MAAO,CACxB,IAAI64B,EAAQ,CAAA,EAEZ74B,MAAMif,kBAAoBjf,MAAMif,kBAAkB4Z,GAAUA,EAAQ,IAAI74B,MAGxE,MAAMkS,EAAQ2mB,EAAM3mB,MAAQ2mB,EAAM3mB,MAAM1G,QAAQ,QAAS,IAAM,GAC/D,IACOkmB,EAAIxf,MAGEA,IAAU9K,OAAOsqB,EAAIxf,OAAOyK,SAASzK,EAAM1G,QAAQ,YAAa,OACzEkmB,EAAIxf,OAAS,KAAOA,GAHpBwf,EAAIxf,MAAQA,CAKhB,OAAStR,GAET,CACF,CAEA,MAAM8wB,CACR,CACF,CAEA,QAAAoE,CAAS8C,EAAa9Z,GAGO,iBAAhB8Z,GACT9Z,EAASA,GAAU,CAAA,GACZkD,IAAM4W,EAEb9Z,EAAS8Z,GAAe,CAAA,EAG1B9Z,EAAS0P,GAAYtoB,KAAK6e,SAAUjG,GAEpC,MAAMkG,aAACA,EAAAiK,iBAAcA,EAAA9J,QAAkBA,GAAWrG,OAE7B,IAAjBkG,GACF2S,GAAUS,cAAcpT,EAAc,CACpC7B,kBAAmBsU,GAAWzS,aAAayS,GAAWqB,SACtD1V,kBAAmBqU,GAAWzS,aAAayS,GAAWqB,SACtDzV,oBAAqBoU,GAAWzS,aAAayS,GAAWqB,WACvD,GAGmB,MAApB7J,IACE9P,GAAM3H,WAAWyX,GACnBnQ,EAAOmQ,iBAAmB,CACxB/M,UAAW+M,GAGb0I,GAAUS,cAAcnJ,EAAkB,CACxCzN,OAAQiW,GAAWsB,SACnB7W,UAAWuV,GAAWsB,WACrB,SAK0B,IAA7Bja,EAAOqP,yBAEoC,IAApCjoB,KAAK6e,SAASoJ,kBACvBrP,EAAOqP,kBAAoBjoB,KAAK6e,SAASoJ,kBAEzCrP,EAAOqP,mBAAoB,GAG7BwJ,GAAUS,cAActZ,EAAQ,CAC9Bka,QAASvB,GAAWS,SAAS,WAC7Be,cAAexB,GAAWS,SAAS,mBAClC,GAGHpZ,EAAOgI,QAAUhI,EAAOgI,QAAU5gB,KAAK6e,SAAS+B,QAAU,OAAO9gB,cAGjE,IAAIkzB,EAAiB/T,GAAWhG,GAAMzD,MACpCyJ,EAAQyB,OACRzB,EAAQrG,EAAOgI,SAGjB3B,GAAWhG,GAAM3G,QACf,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,QAAS,UACjDsO,WACQ3B,EAAQ2B,KAInBhI,EAAOqG,QAAU8E,GAAapf,OAAOquB,EAAgB/T,GAGrD,MAAMgU,EAA0B,GAChC,IAAIC,GAAiC,EACrClzB,KAAKyyB,aAAa5Z,QAAQvG,QAAQ,SAAoC6gB,GACjC,mBAAxBA,EAAYxW,UAA0D,IAAhCwW,EAAYxW,QAAQ/D,KAIrEsa,EAAiCA,GAAkCC,EAAYzW,YAE/EuW,EAAwBG,QAAQD,EAAY3W,UAAW2W,EAAY1W,UACrE,GAEA,MAAM4W,EAA2B,GAKjC,IAAIC,EAJJtzB,KAAKyyB,aAAa3Z,SAASxG,QAAQ,SAAkC6gB,GACnEE,EAAyB95B,KAAK45B,EAAY3W,UAAW2W,EAAY1W,SACnE,GAGA,IACI3jB,EADAL,EAAI,EAGR,IAAKy6B,EAAgC,CACnC,MAAMK,EAAQ,CAAClC,GAAgB3gB,KAAK1Q,WAAO,GAO3C,IANAuzB,EAAMH,WAAWH,GACjBM,EAAMh6B,QAAQ85B,GACdv6B,EAAMy6B,EAAMr6B,OAEZo6B,EAAU7I,QAAQpG,QAAQzL,GAEnBngB,EAAIK,GACTw6B,EAAUA,EAAQ9a,KAAK+a,EAAM96B,KAAM86B,EAAM96B,MAG3C,OAAO66B,CACT,CAEAx6B,EAAMm6B,EAAwB/5B,OAE9B,IAAI6wB,EAAYnR,EAIhB,IAFAngB,EAAI,EAEGA,EAAIK,GAAK,CACd,MAAM06B,EAAcP,EAAwBx6B,KACtCg7B,EAAaR,EAAwBx6B,KAC3C,IACEsxB,EAAYyJ,EAAYzJ,EAC1B,OAAShmB,GACP0vB,EAAW5yB,KAAKb,KAAM+D,GACtB,KACF,CACF,CAEA,IACEuvB,EAAUjC,GAAgBxwB,KAAKb,KAAM+pB,EACvC,OAAShmB,GACP,OAAO0mB,QAAQnG,OAAOvgB,EACxB,CAKA,IAHAtL,EAAI,EACJK,EAAMu6B,EAAyBn6B,OAExBT,EAAIK,GACTw6B,EAAUA,EAAQ9a,KAAK6a,EAAyB56B,KAAM46B,EAAyB56B,MAGjF,OAAO66B,CACT,CAEA,MAAAI,CAAO9a,GAGL,OAAOiD,GADUiM,IADjBlP,EAAS0P,GAAYtoB,KAAK6e,SAAUjG,IACEmP,QAASnP,EAAOkD,IAAKlD,EAAOqP,mBACxCrP,EAAO+C,OAAQ/C,EAAOmQ,iBAClD,GAIF9P,GAAM3G,QAAQ,CAAC,SAAU,MAAO,OAAQ,WAAY,SAA6BsO,GAE/E+S,GAAMv2B,UAAUwjB,GAAU,SAAS9E,EAAKlD,GACtC,OAAO5Y,KAAK6Y,QAAQyP,GAAY1P,GAAU,CAAA,EAAI,CAC5CgI,SACA9E,IAAAA,EACA5c,MAAO0Z,GAAU,IAAI1Z,OAEzB,CACF,GAEA+Z,GAAM3G,QAAQ,CAAC,OAAQ,MAAO,SAAU,SAA+BsO,GAGrE,SAASgT,EAAmBC,GAC1B,OAAO,SAAoB/X,EAAK5c,EAAM0Z,GACpC,OAAO5Y,KAAK6Y,QAAQyP,GAAY1P,GAAU,CAAA,EAAI,CAC5CgI,SACA3B,QAAS4U,EAAS,CAChB,eAAgB,uBACd,CAAA,EACJ/X,IAAAA,EACA5c,SAEJ,CACF,CAEAy0B,GAAMv2B,UAAUwjB,GAAUgT,IAE1BD,GAAMv2B,UAAUwjB,EAAS,QAAUgT,GAAmB,EACxD,GC/OA,MAAME,GAAiB,CACrBC,SAAU,IACVC,mBAAoB,IACpBC,WAAY,IACZC,WAAY,IACZC,GAAI,IACJC,QAAS,IACTC,SAAU,IACVC,4BAA6B,IAC7BC,UAAW,IACXC,aAAc,IACdC,eAAgB,IAChBC,YAAa,IACbC,gBAAiB,IACjBC,OAAQ,IACRC,gBAAiB,IACjBC,iBAAkB,IAClBC,MAAO,IACPC,SAAU,IACVC,YAAa,IACbC,SAAU,IACVC,OAAQ,IACRC,kBAAmB,IACnBC,kBAAmB,IACnBC,WAAY,IACZC,aAAc,IACdC,gBAAiB,IACjBC,UAAW,IACXC,SAAU,IACVC,iBAAkB,IAClBC,cAAe,IACfC,4BAA6B,IAC7BC,eAAgB,IAChBC,SAAU,IACVC,KAAM,IACNC,eAAgB,IAChBC,mBAAoB,IACpBC,gBAAiB,IACjBC,WAAY,IACZC,qBAAsB,IACtBC,oBAAqB,IACrBC,kBAAmB,IACnBC,UAAW,IACXC,mBAAoB,IACpBC,oBAAqB,IACrBC,OAAQ,IACRC,iBAAkB,IAClBC,SAAU,IACVC,gBAAiB,IACjBC,qBAAsB,IACtBC,gBAAiB,IACjBC,4BAA6B,IAC7BC,2BAA4B,IAC5BC,oBAAqB,IACrBC,eAAgB,IAChBC,WAAY,IACZC,mBAAoB,IACpBC,eAAgB,IAChBC,wBAAyB,IACzBC,sBAAuB,IACvBC,oBAAqB,IACrBC,aAAc,IACdC,YAAa,IACbC,8BAA+B,KAGjC36B,OAAOyhB,QAAQmV,IAAgBxhB,QAAQ,EAAEK,EAAKrX,MAC5Cw4B,GAAex4B,GAASqX,ICrB1B,MAAMmlB,GAnBN,SAASC,EAAeC,GACtB,MAAM/kB,EAAU,IAAI0gB,GAAMqE,GACpBC,EAAWvnB,EAAKijB,GAAMv2B,UAAUyb,QAAS5F,GAa/C,OAVAgG,GAAMrD,OAAOqiB,EAAUtE,GAAMv2B,UAAW6V,EAAS,CAACV,YAAY,IAG9D0G,GAAMrD,OAAOqiB,EAAUhlB,EAAS,KAAM,CAACV,YAAY,IAGnD0lB,EAAS/mB,OAAS,SAAgBshB,GAChC,OAAOuF,EAAezP,GAAY0P,EAAexF,GACnD,EAEOyF,CACT,CAGcF,CAAelZ,IAG7BiZ,GAAMnE,MAAQA,GAGdmE,GAAM5T,cAAgBA,GACtB4T,GAAMI,YC1CN,MAAMA,EACJ,WAAAvsB,CAAYwsB,GACV,GAAwB,mBAAbA,EACT,MAAM,IAAI56B,UAAU,gCAGtB,IAAI66B,EAEJp4B,KAAKszB,QAAU,IAAI7I,QAAQ,SAAyBpG,GAClD+T,EAAiB/T,CACnB,GAEA,MAAMjQ,EAAQpU,KAGdA,KAAKszB,QAAQ9a,KAAKgU,IAChB,IAAKpY,EAAMikB,WAAY,OAEvB,IAAI5/B,EAAI2b,EAAMikB,WAAWn/B,OAEzB,KAAOT,KAAM,GACX2b,EAAMikB,WAAW5/B,GAAG+zB,GAEtBpY,EAAMikB,WAAa,OAIrBr4B,KAAKszB,QAAQ9a,KAAO8f,IAClB,IAAIC,EAEJ,MAAMjF,EAAU,IAAI7I,QAAQpG,IAC1BjQ,EAAMsY,UAAUrI,GAChBkU,EAAWlU,IACV7L,KAAK8f,GAMR,OAJAhF,EAAQ9G,OAAS,WACfpY,EAAM8W,YAAYqN,EACpB,EAEOjF,GAGT6E,EAAS,SAAgBlsB,EAAS2M,EAAQC,GACpCzE,EAAM8Y,SAKV9Y,EAAM8Y,OAAS,IAAIhJ,GAAcjY,EAAS2M,EAAQC,GAClDuf,EAAehkB,EAAM8Y,QACvB,EACF,CAKA,gBAAAkE,GACE,GAAIpxB,KAAKktB,OACP,MAAMltB,KAAKktB,MAEf,CAMA,SAAAR,CAAU/H,GACJ3kB,KAAKktB,OACPvI,EAAS3kB,KAAKktB,QAIZltB,KAAKq4B,WACPr4B,KAAKq4B,WAAW9+B,KAAKorB,GAErB3kB,KAAKq4B,WAAa,CAAC1T,EAEvB,CAMA,WAAAuG,CAAYvG,GACV,IAAK3kB,KAAKq4B,WACR,OAEF,MAAMnd,EAAQlb,KAAKq4B,WAAWt+B,QAAQ4qB,IACxB,IAAVzJ,GACFlb,KAAKq4B,WAAWG,OAAOtd,EAAO,EAElC,CAEA,aAAAiV,GACE,MAAMnD,EAAa,IAAIC,gBAEjBR,EAASjB,IACbwB,EAAWP,MAAMjB,IAOnB,OAJAxrB,KAAK0sB,UAAUD,GAEfO,EAAW7B,OAAOD,YAAc,IAAMlrB,KAAKkrB,YAAYuB,GAEhDO,EAAW7B,MACpB,CAMA,aAAO3W,GACL,IAAIgY,EAIJ,MAAO,CACLpY,MAJY,IAAI8jB,EAAY,SAAkB38B,GAC9CixB,EAASjxB,CACX,GAGEixB,SAEJ,GD7EFsL,GAAM9T,SAAWA,GACjB8T,GAAMxG,QAAUA,GAChBwG,GAAM7d,WAAaA,GAGnB6d,GAAMnf,WAAaA,GAGnBmf,GAAMW,OAASX,GAAM5T,cAGrB4T,GAAMY,IAAM,SAAaC,GACvB,OAAOlO,QAAQiO,IAAIC,EACrB,EAEAb,GAAMc,OE9CS,SAAgBC,GAC7B,OAAO,SAAcngC,GACnB,OAAOmgC,EAASr1B,MAAM,KAAM9K,EAC9B,CACF,EF6CAo/B,GAAMgB,aG7DS,SAAsBC,GACnC,OAAO9f,GAAMvH,SAASqnB,KAAsC,IAAzBA,EAAQD,YAC7C,EH8DAhB,GAAMxP,YAAcA,GAEpBwP,GAAM/T,aAAeA,GAErB+T,GAAMkB,WAAa/nB,GAASqN,GAAerF,GAAM7F,WAAWnC,GAAS,IAAI+D,SAAS/D,GAASA,GAE3F6mB,GAAMmB,WAAanI,GAEnBgH,GAAMhE,eAAiBA,GAEvBgE,GAAMoB,QAAUpB,GIhFhB,MAAMnE,MACJA,GAAAhb,WACAA,GAAAuL,cACAA,GAAAF,SACAA,GAAAkU,YACAA,GAAA5G,QACAA,GAAAoH,IACAA,GAAAD,OACAA,GAAAK,aACAA,GAAAF,OACAA,GAAA3e,WACAA,GAAA8J,aACAA,GAAA+P,eACAA,GAAAkF,WACAA,GAAAC,WACAA,GAAA3Q,YACAA,IACEwP,GCtBSqB,GAAN,MAAMA,EAIH,WAAAxtB,GAFAytB,EAAAp5B,KAAA,gBAGNA,KAAKq5B,aAAwC,eAAzBprB,EAAQsB,IAAI+pB,QAClC,CAEA,kBAAOC,GAIL,OAHKJ,EAAOlB,WACVkB,EAAOlB,SAAW,IAAIkB,GAEjBA,EAAOlB,QAChB,CAEA,KAAAuB,CAAMvtB,KAAoBoD,GACnBrP,KAAKq5B,cACRv1B,QAAQ01B,MAAMvtB,KAAYoD,EAE9B,CAEA,IAAAoqB,CAAKxtB,KAAoBoD,GAClBrP,KAAKq5B,cACRv1B,QAAQ21B,KAAKxtB,KAAYoD,EAE7B,CAEA,IAAA0iB,CAAK9lB,KAAoBoD,GACvBvL,QAAQiuB,KAAK9lB,KAAYoD,EAC3B,CAEA,KAAAtL,CAAMkI,KAAoBoD,GACxBvL,QAAQC,MAAMkI,KAAYoD,EAC5B,GAhCA+pB,EADWD,GACI,YADV,IAAMO,GAANP,GCsIA,MAAMQ,WAAwB7/B,MACnC,WAAA6R,CAAYM,GACVL,MAAMK,GACNjM,KAAK+L,KAAO,iBACd,ECjIK,SAAS6tB,GACdC,GAEA,IAEE,MAAO,CAAEC,aAAc,QAASC,WADbC,EAAAA,WAAWC,gBAAgBJ,GAEhD,OAASK,GACP,IAEE,MAAO,CAAEJ,aAAc,UAAWC,WADfC,EAAAA,WAAWG,kBAAkBN,GAElD,CAAA,MACE,MAAM,IAAI//B,MACR,2DAA2DoH,OACzDg5B,KAGN,CACF,CACF,CCXO,MAAME,GAMX,WAAAzuB,CAAYiN,GAIV,GATewgB,EAAAp5B,KAAA,aACAo5B,EAAAp5B,KAAA,cACAo5B,EAAAp5B,KAAA,WACAo5B,EAAAp5B,KAAA,WAGfA,KAAKq6B,UAAYzhB,EAAOyhB,UAGS,iBAAtBzhB,EAAOmhB,WAAyB,CAEzC,MAAMO,EAAeV,GAAwBhhB,EAAOmhB,YACpD/5B,KAAK+5B,WAAaO,EAAaP,UACjC,MAEE/5B,KAAK+5B,WAAanhB,EAAOmhB,WAG3B/5B,KAAKu6B,QAAU3hB,EAAO2hB,SAAW,UACjCv6B,KAAK8yB,QAAUla,EAAOka,SAAW,wBACnC,CAEA,kBAAM0H,aACJ,MAAMC,QAAiC3C,GAAM5zB,IAC3C,GAAGlE,KAAK8yB,qCACR,CACE7T,QAAS,CACP,YAAajf,KAAKq6B,aAKxB,KAAK,OAAAK,EAAAD,EAAyBv7B,WAAzB,EAAAw7B,EAA+BzuB,SAClC,MAAM,IAAInS,MAAM,mCAGlB,MAAMmS,EAAUwuB,EAAyBv7B,KAAK+M,QACxC0uB,QAAkB36B,KAAK46B,YAAY3uB,GAEnC4uB,QAAqB/C,GAAMgD,KAC/B,GAAG96B,KAAK8yB,gCACR,CACEiI,SAAU,CACRle,GAAI7c,KAAKq6B,UACTM,YACAz7B,KAAM+M,EACNsuB,QAASv6B,KAAKu6B,SAEhBS,QAAS,WAIb,KAAK,OAAAC,EAAA,OAAAC,EAAAL,EAAa37B,WAAb,EAAAg8B,EAAmBC,WAAnB,EAAAF,EAAyBG,cAC5B,MAAM,IAAIthC,MAAM,yBAGlB,MAAO,CACLuhC,OAAQR,EAAa37B,KAAKm8B,OAE9B,CAEA,iBAAcT,CAAY3uB,GACxB,MAAMqvB,GAAe,IAAIvM,aAAczT,OAAOrP,GACxCsvB,QAAuBv7B,KAAK+5B,WAAWyB,KAAKF,GAClD,OAAOn/B,EAAOsB,KAAK89B,GAAgB/7B,SAAS,MAC9C,ECtEK,MAAMi8B,GAGX,WAAA9vB,CAAY4uB,EAAkBzH,GAFbsG,EAAAp5B,KAAA,WAGfA,KAAK8yB,QAAUA,GAWnB,SAAqCyH,GACnC,MAAmB,YAAZA,EACH,+CACA,uCACN,CAf8BmB,CAA4BnB,EACxD,CAEA,oBAAMoB,CAAetB,GAInB,aAHuBvC,GAAM5zB,IAC3B,GAAGlE,KAAK8yB,2BAA2BuH,MAErBn7B,IAClB,ECPK,MAAM08B,GAOX,WAAAjwB,CAAYiN,GANKwgB,EAAAp5B,KAAA,aACAo5B,EAAAp5B,KAAA,UACAo5B,EAAAp5B,KAAA,WACAo5B,EAAAp5B,KAAA,WACAo5B,EAAAp5B,KAAA,UAGfA,KAAKq6B,UAAYzhB,EAAOyhB,UACxBr6B,KAAK67B,OAASjjB,EAAOijB,OACrB77B,KAAKu6B,QAAU3hB,EAAO2hB,SAAW,UACjCv6B,KAAK8yB,QAAUla,EAAOka,SAAW,yBACjC9yB,KAAK87B,OAASljB,EAAOkjB,MACvB,CAEA,kBAAMtB,aACJ,MAAMC,QAAiC3C,GAAM5zB,IAC3C,GAAGlE,KAAK8yB,qCACR,CACE7T,QAAS,CACP,YAAajf,KAAKq6B,aAKxB,KAAK,OAAAK,EAAAD,EAAyBv7B,WAAzB,EAAAw7B,EAA+BzuB,SAClC,MAAM,IAAInS,MAAM,mCAGlB,MAAMmS,EAAUwuB,EAAyBv7B,KAAK+M,QAExC0uB,QAAkB36B,KAAK46B,YAAY/f,KAAKC,UAAU7O,IAElD4uB,QAAqB/C,GAAMgD,KAC/B,GAAG96B,KAAK8yB,gCACR,CACEiI,SAAU,CACRle,GAAI7c,KAAKq6B,UACTM,YACAz7B,KAAM+M,EACNsuB,QAASv6B,KAAKu6B,SAEhBS,QAAS,WAIb,KAAK,OAAAC,EAAA,OAAAC,EAAAL,EAAa37B,WAAb,EAAAg8B,EAAmBC,WAAnB,EAAAF,EAAyBG,cAC5B,MAAM,IAAIthC,MAAM,yBAGlB,MAAO,CACLuhC,OAAQR,EAAa37B,KAAKm8B,OAE9B,CAEA,iBAAcT,CAAY3uB,GACxB,IACE,MAAMqvB,GAAe,IAAIvM,aAAczT,OAAOrP,GAC9CjM,KAAK87B,OAAOtC,MAAM,mBAClB,MAAM+B,QAAuBv7B,KAAK67B,OAAOL,KAAK,CAACF,GAAe,CAC5D39B,SAAU,UAEZ,OAAOxB,EAAOsB,KAAK,MAAA89B,OAAA,EAAAA,EAAiB,GAAGZ,WAAWn7B,SAAS,MAC7D,OAAS9E,GAEP,MADAsF,KAAK87B,OAAO/3B,MAAM,yBAA0BrJ,GACtC,IAAIZ,MAAM,yBAClB,CACF;yFClFF,SAASiiC,GAAGx8B,GACR,OAAO,IAAIy8B,SAASz8B,EAAMtH,OAAQsH,EAAMhB,WAC5C,WCHAlE,GAAA8G,KAAe,SAAUlJ,EAAQqC,EAAQC,EAAMC,EAAMC,GACnD,IAAIC,EAAGC,EACHC,EAAiB,EAATH,EAAcD,EAAO,EAC7BK,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,GAAQ,EACRtC,EAAI8B,EAAQE,EAAS,EAAK,EAC1BO,EAAIT,GAAO,EAAK,EAChBU,EAAIhD,EAAOqC,EAAS7B,GAOxB,IALAA,GAAKuC,EAELN,EAAIO,GAAM,IAAOF,GAAU,EAC3BE,KAAQF,EACRA,GAASH,EACFG,EAAQ,EAAGL,EAAS,IAAJA,EAAWzC,EAAOqC,EAAS7B,GAAIA,GAAKuC,EAAGD,GAAS,GAKvE,IAHAJ,EAAID,GAAM,IAAOK,GAAU,EAC3BL,KAAQK,EACRA,GAASP,EACFO,EAAQ,EAAGJ,EAAS,IAAJA,EAAW1C,EAAOqC,EAAS7B,GAAIA,GAAKuC,EAAGD,GAAS,GAEvE,GAAU,IAANL,EACFA,EAAI,EAAII,MACZ,IAAaJ,IAAMG,EACf,OAAOF,EAAIO,IAAsBC,KAAdF,GAAI,EAAK,GAE5BN,GAAQS,KAAKC,IAAI,EAAGb,GACpBE,GAAQI,CACZ,CACE,OAAQG,KAAS,GAAKN,EAAIS,KAAKC,IAAI,EAAGX,EAAIF,EAC5C,EAEAH,GAAA0D,MAAgB,SAAU9F,EAAQqD,EAAOhB,EAAQC,EAAMC,EAAMC,GAC3D,IAAIC,EAAGC,EAAGY,EACNX,EAAiB,EAATH,EAAcD,EAAO,EAC7BK,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBW,EAAe,KAAThB,EAAcY,KAAKC,IAAI,GAAG,IAAOD,KAAKC,IAAI,GAAG,IAAO,EAC1D5C,EAAI8B,EAAO,EAAKE,EAAS,EACzBO,EAAIT,EAAO,GAAI,EACfU,EAAIK,EAAQ,GAAgB,IAAVA,GAAe,EAAIA,EAAQ,EAAK,EAAI,EAmC1D,IAjCAA,EAAQF,KAAKK,IAAIH,GAEbI,MAAMJ,IAAUA,IAAUH,KAC5BR,EAAIe,MAAMJ,GAAS,EAAI,EACvBZ,EAAIG,IAEJH,EAAIU,KAAKO,MAAMP,KAAKQ,IAAIN,GAASF,KAAKS,KAClCP,GAASC,EAAIH,KAAKC,IAAI,GAAIX,IAAM,IAClCA,IACAa,GAAK,IAGLD,GADEZ,EAAII,GAAS,EACNU,EAAKD,EAELC,EAAKJ,KAAKC,IAAI,EAAG,EAAIP,IAEpBS,GAAK,IACfb,IACAa,GAAK,GAGHb,EAAII,GAASD,GACfF,EAAI,EACJD,EAAIG,GACKH,EAAII,GAAS,GACtBH,GAAMW,EAAQC,EAAK,GAAKH,KAAKC,IAAI,EAAGb,GACpCE,GAAQI,IAERH,EAAIW,EAAQF,KAAKC,IAAI,EAAGP,EAAQ,GAAKM,KAAKC,IAAI,EAAGb,GACjDE,EAAI,IAIDF,GAAQ,EAAGvC,EAAOqC,EAAS7B,GAAS,IAAJkC,EAAUlC,GAAKuC,EAAGL,GAAK,IAAKH,GAAQ,GAI3E,IAFAE,EAAKA,GAAKF,EAAQG,EAClBC,GAAQJ,EACDI,EAAO,EAAG3C,EAAOqC,EAAS7B,GAAS,IAAJiC,EAAUjC,GAAKuC,EAAGN,GAAK,IAAKE,GAAQ,GAE1E3C,EAAOqC,EAAS7B,EAAIuC,IAAU,IAAJC,CAC5B,GD5EO,MAAMghC,GAAQ,CACjBnjC,IAAK,EACLoL,IAAA,CAAI3E,EAAOjF,IACAyhC,GAAGx8B,GAAO28B,SAAS5hC,GAE9B6hC,IAAA,CAAI58B,EAAOjF,EAAQgB,KACfygC,GAAGx8B,GAAO68B,SAAS9hC,EAAQgB,GACpBhB,EAAS,IAMX+hC,GAAY,CACrBvjC,IAAK,EACLoL,IAAA,CAAI3E,EAAOjF,IACAyhC,GAAGx8B,GAAO+8B,UAAUhiC,GAAQ,GAEvC6hC,IAAA,CAAI58B,EAAOjF,EAAQgB,KACfygC,GAAGx8B,GAAOg9B,UAAUjiC,EAAQgB,GAAO,GAC5BhB,EAAS,IAMXkiC,GAAY,CACrB1jC,IAAK,EACLoL,IAAA,CAAI3E,EAAOjF,IACAyhC,GAAGx8B,GAAO+8B,UAAUhiC,GAE/B6hC,IAAA,CAAI58B,EAAOjF,EAAQgB,KACfygC,GAAGx8B,GAAOg9B,UAAUjiC,EAAQgB,GACrBhB,EAAS,IAsCXmiC,GAAY,CACrB3jC,IAAK,EACLoL,IAAA,CAAI3E,EAAOjF,IACAyhC,GAAGx8B,GAAOm9B,UAAUpiC,GAAQ,GAEvC6hC,IAAA,CAAI58B,EAAOjF,EAAQgB,KACfygC,GAAGx8B,GAAOo9B,UAAUriC,EAAQgB,GAAO,GAC5BhB,EAAS,IAMXsiC,GAAY,CACrB9jC,IAAK,EACLoL,IAAA,CAAI3E,EAAOjF,IACAyhC,GAAGx8B,GAAOm9B,UAAUpiC,GAE/B6hC,IAAA,CAAI58B,EAAOjF,EAAQgB,KACfygC,GAAGx8B,GAAOo9B,UAAUriC,EAAQgB,GACrBhB,EAAS,IA6EXuiC,GAAW,CACpB/jC,IAAK,EACLoL,IAAA,CAAI3E,EAAOjF,IACAyhC,GAAGx8B,GAAOu9B,SAASxiC,GAE9B6hC,IAAA,CAAI58B,EAAOjF,EAAQgB,KACfygC,GAAGx8B,GAAOw9B,SAASziC,EAAQgB,GACpBhB,EAAS,IAmBX0iC,GAAY,CACrBlkC,IAAK,EACLoL,IAAA,CAAI3E,EAAOjF,IACAyhC,GAAGx8B,GAAO09B,aAAa3iC,GAAQ,GAE1C6hC,IAAA,CAAI58B,EAAOjF,EAAQgB,KACfygC,GAAGx8B,GAAO29B,aAAa5iC,EAAQgB,GAAO,GAC/BhB,EAAS,IA4KjB,MAAM6iC,GACT,WAAAxxB,CAAY7S,EAAK6E,GAEb,GADAqC,KAAKlH,IAAMA,EACP6E,GAAuC,iBAA3BA,EAASmC,cACrBE,KAAKo9B,QAAUD,GAAWE,sBAEzB,CACD,MAAMC,EAAc,IAAIC,YAAY5/B,GACpCqC,KAAKo9B,QAAWh3B,GAAUk3B,EAAYE,OAAOp3B,EACjD,CACJ,CACA,GAAAlC,CAAIhF,EAAM5E,EAAS,GACf,MAAM8L,EAAQlH,EAAKgI,SAAS5M,EAAQA,EAAS0F,KAAKlH,KAClD,OAAOkH,KAAKo9B,QAAQh3B,EACxB,CACA,wBAAOi3B,CAAkBj3B,GACrB,IAAI+O,EAAS,GACb,IAAA,IAAS1c,EAAI,EAAGA,EAAI2N,EAAMlN,OAAQT,IAAK,CACnC,MAAMglC,EAAOr3B,EAAM3N,GACnB0c,GAAUsoB,EAAO,KAAQA,GAAQ,IAC3Bv8B,OAAOqC,aAAak6B,GACpBN,GAAWO,WAAWD,EAAO,IACvC,CACA,OAAOtoB,CACX,EAEJgoB,GAAWO,WAAa,mCEnZjB,MAAMC,WAAyB7jC,MAClC,WAAA6R,GACIC,MANuB,iBAOvB5L,KAAK+L,KAAO,kBAChB,EAEG,MAAM6xB,WAAmB9jC,MAC5B,WAAA6R,CAAYM,EAAU,6BAClBL,MAAMK,GACNjM,KAAK+L,KAAO,YAChB,ECbG,MAAM8xB,GACT,WAAAlyB,GACI3L,KAAK89B,aAAc,EACnB99B,KAAK+9B,aAAc,EAKnB/9B,KAAKg+B,UAAY,EACrB,CACA,UAAMC,CAAKC,EAAYC,GAAY,GAC/B,MAAMC,QAAkBp+B,KAAKmB,KAAK+8B,EAAYC,GAE9C,OADAn+B,KAAKg+B,UAAUzkC,KAAK2kC,EAAWh3B,SAAS,EAAGk3B,IACpCA,CACX,CACA,UAAMj9B,CAAKlJ,EAAQkmC,GAAY,GAC3B,GAAsB,IAAlBlmC,EAAOiB,OACP,OAAO,EAEX,IAAIklC,EAAYp+B,KAAKq+B,mBAAmBpmC,GAIxC,GAHK+H,KAAK89B,cACNM,SAAmBp+B,KAAKs+B,wBAAwBrmC,EAAOiP,SAASk3B,GAAYD,IAE9D,IAAdC,IAAoBD,EACpB,MAAM,IAAIR,GAEd,OAAOS,CACX,CAMA,kBAAAC,CAAmBpmC,GACf,IAAIyJ,EAAYzJ,EAAOiB,OACnBklC,EAAY,EAEhB,KAAOp+B,KAAKg+B,UAAU9kC,OAAS,GAAKwI,EAAY,GAAG,CAC/C,MAAM68B,EAAWv+B,KAAKg+B,UAAU3iB,MAChC,IAAKkjB,EACD,MAAM,IAAIzkC,MAAM,8BACpB,MAAM0kC,EAAUpjC,KAAKwH,IAAI27B,EAASrlC,OAAQwI,GAC1CzJ,EAAO6M,IAAIy5B,EAASr3B,SAAS,EAAGs3B,GAAUJ,GAC1CA,GAAaI,EACb98B,GAAa88B,EACTA,EAAUD,EAASrlC,QAEnB8G,KAAKg+B,UAAUzkC,KAAKglC,EAASr3B,SAASs3B,GAE9C,CACA,OAAOJ,CACX,CACA,6BAAME,CAAwBrmC,EAAQkmC,GAClC,IAAIC,EAAY,EAEhB,KAAOA,EAAYnmC,EAAOiB,SAAW8G,KAAK89B,aAAa,CACnD,GAAI99B,KAAK+9B,YACL,MAAM,IAAIH,GAEd,MAAMa,QAAiBz+B,KAAK0+B,eAAezmC,EAAOiP,SAASk3B,GAAYD,GACvE,GAAiB,IAAbM,EACA,MACJL,GAAaK,CACjB,CACA,IAAKN,GAAaC,EAAYnmC,EAAOiB,OACjC,MAAM,IAAIykC,GAEd,OAAOS,CACX,ECpEG,MAAMO,WAAwBd,GACjC,WAAAlyB,CAAY+hB,GACR9hB,QACA5L,KAAK0tB,OAASA,CAClB,CACA,WAAMjB,GACF,OAAOzsB,KAAKouB,OAChB,CACA,WAAMA,GACFpuB,KAAK0tB,OAAOkR,aAChB,ECNG,MAAMC,WAA4BF,GAOrC,oBAAMD,CAAezmC,EAAQkmC,GACzB,GAAsB,IAAlBlmC,EAAOiB,OACP,OAAO,EAEX,MAAMic,QAAenV,KAAK0tB,OAAOvsB,KAAK,IAAIxH,WAAW1B,EAAOiB,QAAS,CAAE0J,IAAKu7B,OAAY,EAAYlmC,EAAOiB,SAI3G,OAHIic,EAAO8B,OACPjX,KAAK89B,YAAc3oB,EAAO8B,MAE1B9B,EAAO7Z,OACPrD,EAAO6M,IAAIqQ,EAAO7Z,OACX6Z,EAAO7Z,MAAMpC,QAEjB,CACX,ECvBG,MAAM4lC,WAA+BjB,GACxC,WAAAlyB,CAAY+hB,GACR9hB,QACA5L,KAAK0tB,OAASA,EACd1tB,KAAK/H,OAAS,IAClB,CAIA,UAAA8mC,CAAWv5B,EAAQ4nB,GACf,MAAM4R,EAAU5jC,KAAKwH,IAAIwqB,EAAMl0B,OAAQsM,EAAOtM,QAS9C,OARAsM,EAAOV,IAAIsoB,EAAMlmB,SAAS,EAAG83B,IAEzBA,EAAU5R,EAAMl0B,OAChB8G,KAAK/H,OAASm1B,EAAMlmB,SAAS83B,GAG7Bh/B,KAAK/H,OAAS,KAEX+mC,CACX,CAOA,oBAAMN,CAAezmC,EAAQkmC,GACzB,GAAsB,IAAlBlmC,EAAOiB,OACP,OAAO,EACX,IAAI+lC,EAAiB,EAMrB,IAJIj/B,KAAK/H,SACLgnC,GAAkBj/B,KAAK++B,WAAW9mC,EAAQ+H,KAAK/H,SAG5CgnC,EAAiBhnC,EAAOiB,SAAW8G,KAAK89B,aAAa,CACxD,MAAM3oB,QAAenV,KAAK0tB,OAAOvsB,OACjC,GAAIgU,EAAO8B,KAAM,CACbjX,KAAK89B,aAAc,EACnB,KACJ,CACI3oB,EAAO7Z,QACP2jC,GAAkBj/B,KAAK++B,WAAW9mC,EAAOiP,SAAS+3B,GAAiB9pB,EAAO7Z,OAElF,CACA,IAAK6iC,GAAgC,IAAnBc,GAAwBj/B,KAAK89B,YAC3C,MAAM,IAAIH,GAEd,OAAOsB,CACX,CACA,KAAAxS,GAEI,OADAzsB,KAAK+9B,aAAc,EACZ/9B,KAAK0tB,OAAOlB,QACvB,CACA,WAAM4B,SACIpuB,KAAKysB,QACXzsB,KAAK0tB,OAAOkR,aAChB,ECxDG,MAAMM,GAMT,WAAAvzB,CAAYwO,GACRna,KAAKm/B,UAAY,IAAIxlC,WAAW,GAIhCqG,KAAK2W,SAAW,EAChB3W,KAAKo/B,QAAU,MAAAjlB,OAAA,EAAAA,EAASilB,eACpBjlB,WAASklB,cACTllB,EAAQklB,YAAY9qB,iBAAiB,QAAS,KAC1CvU,KAAKysB,SAGjB,CAOA,eAAM6S,CAAUlrB,EAAOuC,EAAW3W,KAAK2W,UACnC,MAAMunB,EAAa,IAAIvkC,WAAWya,EAAMtb,KAExC,SADkBkH,KAAKu/B,WAAWrB,EAAY,CAAEvnB,aACtCvC,EAAMtb,IACZ,MAAM,IAAI6kC,GACd,OAAOvpB,EAAMlQ,IAAIg6B,EAAY,EACjC,CAOA,eAAMsB,CAAUprB,EAAOuC,EAAW3W,KAAK2W,UACnC,MAAMunB,EAAa,IAAIvkC,WAAWya,EAAMtb,KAExC,SADkBkH,KAAKy/B,WAAWvB,EAAY,CAAEvnB,aACtCvC,EAAMtb,IACZ,MAAM,IAAI6kC,GACd,OAAOvpB,EAAMlQ,IAAIg6B,EAAY,EACjC,CAMA,gBAAMwB,CAAWtrB,GAEb,SADkBpU,KAAKu/B,WAAWv/B,KAAKm/B,UAAW,CAAEjmC,OAAQkb,EAAMtb,MACxDsb,EAAMtb,IACZ,MAAM,IAAI6kC,GACd,OAAOvpB,EAAMlQ,IAAIlE,KAAKm/B,UAAW,EACrC,CAMA,gBAAMQ,CAAWvrB,GAEb,SADkBpU,KAAKy/B,WAAWz/B,KAAKm/B,UAAW,CAAEjmC,OAAQkb,EAAMtb,MACxDsb,EAAMtb,IACZ,MAAM,IAAI6kC,GACd,OAAOvpB,EAAMlQ,IAAIlE,KAAKm/B,UAAW,EACrC,CAMA,YAAMS,CAAO1mC,GACT,QAA2B,IAAvB8G,KAAK6/B,SAASvgC,KAAoB,CAClC,MAAMwgC,EAAY9/B,KAAK6/B,SAASvgC,KAAOU,KAAK2W,SAC5C,GAAIzd,EAAS4mC,EAET,OADA9/B,KAAK2W,UAAYmpB,EACVA,CAEf,CAEA,OADA9/B,KAAK2W,UAAYzd,EACVA,CACX,CACA,WAAMk1B,eACIpuB,KAAKysB,cACL,OAAAiO,EAAA16B,KAAKo/B,cAAL,EAAA1E,EAAA75B,KAAAb,MACV,CACA,gBAAA+/B,CAAiB7B,EAAY/jB,GACzB,IAAKna,KAAKggC,wBAA0B7lB,QAAgC,IAArBA,EAAQxD,UAA0BwD,EAAQxD,SAAW3W,KAAK2W,SACrG,MAAM,IAAI7c,MAAM,yEAEpB,MAAO,CAECqkC,WAAW,EACX7jC,OAAQ,EACRpB,OAAQglC,EAAWhlC,OACnByd,SAAU3W,KAAK2W,YACbwD,EAEd,CACA,KAAAsS,GACI,OAAOhC,QAAQpG,SACnB,ECvGG,MAAM4b,WAA4Bf,GAMrC,WAAAvzB,CAAYu0B,EAAc/lB,GACtBvO,MAAMuO,GACNna,KAAKkgC,aAAeA,EACpBlgC,KAAK6/B,UAAW,MAAA1lB,OAAA,EAAAA,EAAS0lB,WAAY,CAAA,CACzC,CAOA,gBAAMN,CAAWrB,EAAY/jB,GACzB,MAAMgmB,EAAcngC,KAAK+/B,iBAAiB7B,EAAY/jB,GAChDimB,EAAYD,EAAYxpB,SAAW3W,KAAK2W,SAC9C,GAAIypB,EAAY,EAEZ,aADMpgC,KAAK4/B,OAAOQ,GACXpgC,KAAKu/B,WAAWrB,EAAY/jB,GAEvC,GAAIimB,EAAY,EACZ,MAAM,IAAItmC,MAAM,yEAEpB,GAA2B,IAAvBqmC,EAAYjnC,OACZ,OAAO,EAEX,MAAMklC,QAAkBp+B,KAAKkgC,aAAa/+B,KAAK+8B,EAAWh3B,SAAS,EAAGi5B,EAAYjnC,QAASinC,EAAYhC,WAEvG,GADAn+B,KAAK2W,UAAYynB,IACXjkB,IAAYA,EAAQgkB,YAAcC,EAAY+B,EAAYjnC,OAC5D,MAAM,IAAIykC,GAEd,OAAOS,CACX,CAOA,gBAAMqB,CAAWvB,EAAY/jB,GACzB,MAAMgmB,EAAcngC,KAAK+/B,iBAAiB7B,EAAY/jB,GACtD,IAAIikB,EAAY,EAChB,GAAI+B,EAAYxpB,SAAU,CACtB,MAAMypB,EAAYD,EAAYxpB,SAAW3W,KAAK2W,SAC9C,GAAIypB,EAAY,EAAG,CACf,MAAMC,EAAa,IAAI1mC,WAAWwmC,EAAYjnC,OAASknC,GAGvD,OAFAhC,QAAkBp+B,KAAKy/B,WAAWY,EAAY,CAAElC,UAAWgC,EAAYhC,YACvED,EAAWp5B,IAAIu7B,EAAWn5B,SAASk5B,IAC5BhC,EAAYgC,CACvB,CACA,GAAIA,EAAY,EACZ,MAAM,IAAItmC,MAAM,iDAExB,CACA,GAAIqmC,EAAYjnC,OAAS,EAAG,CACxB,IACIklC,QAAkBp+B,KAAKkgC,aAAajC,KAAKC,EAAWh3B,SAAS,EAAGi5B,EAAYjnC,QAASinC,EAAYhC,UACrG,OACO3S,GACH,IAAI,MAAArR,OAAA,EAAAA,EAASgkB,YAAa3S,aAAemS,GACrC,OAAO,EAEX,MAAMnS,CACV,CACA,IAAM2U,EAAYhC,WAAcC,EAAY+B,EAAYjnC,OACpD,MAAM,IAAIykC,EAElB,CACA,OAAOS,CACX,CACA,YAAMwB,CAAO1mC,GAET,MAAMonC,EAAUllC,KAAKwH,IA7EP,MA6E0B1J,GAClC+D,EAAM,IAAItD,WAAW2mC,GAC3B,IAAIC,EAAe,EACnB,KAAOA,EAAernC,GAAQ,CAC1B,MAAMwI,EAAYxI,EAASqnC,EACrBnC,QAAkBp+B,KAAKu/B,WAAWtiC,EAAK,CAAE/D,OAAQkC,KAAKwH,IAAI09B,EAAS5+B,KACzE,GAAI08B,EAAY,EACZ,OAAOA,EAEXmC,GAAgBnC,CACpB,CACA,OAAOmC,CACX,CACA,KAAA9T,GACI,OAAOzsB,KAAKkgC,aAAazT,OAC7B,CACA,WAAM2B,GACF,OAAOpuB,KAAKkgC,aAAa9R,OAC7B,CACA,oBAAA4R,GACI,OAAO,CACX,EClGG,MAAMQ,WAAwBtB,GAMjC,WAAAvzB,CAAYuyB,EAAY/jB,GACpBvO,MAAMuO,GACNna,KAAKk+B,WAAaA,EAClBl+B,KAAK6/B,SAAW,KAAK,MAAA1lB,OAAA,EAAAA,EAAS0lB,WAAY,GAASvgC,KAAM4+B,EAAWhlC,OACxE,CAOA,gBAAMqmC,CAAWrB,EAAY/jB,UACrBA,WAASxD,YACT3W,KAAK2W,SAAWwD,EAAQxD,UAE5B,MAAMynB,QAAkBp+B,KAAKy/B,WAAWvB,EAAY/jB,GAEpD,OADAna,KAAK2W,UAAYynB,EACVA,CACX,CAOA,gBAAMqB,CAAWvB,EAAY/jB,GACzB,MAAMgmB,EAAcngC,KAAK+/B,iBAAiB7B,EAAY/jB,GAChDsmB,EAAarlC,KAAKwH,IAAI5C,KAAKk+B,WAAWhlC,OAASinC,EAAYxpB,SAAUwpB,EAAYjnC,QACvF,IAAMinC,EAAYhC,WAAcsC,EAAaN,EAAYjnC,OACrD,MAAM,IAAIykC,GAGd,OADAO,EAAWp5B,IAAI9E,KAAKk+B,WAAWh3B,SAASi5B,EAAYxpB,SAAUwpB,EAAYxpB,SAAW8pB,IAC9EA,CACX,CACA,KAAArS,GACI,OAAOxiB,MAAMwiB,OACjB,CACA,oBAAA4R,GACI,OAAO,CACX,CACA,WAAAU,CAAY/pB,GACR3W,KAAK2W,SAAWA,CACpB,EClBG,SAASgqB,GAAcC,EAAWzmB,GACrC,MAAM0mB,EC/BH,SAA6BrT,GAChC,IACI,MAAME,EAASF,EAAOG,UAAU,CAAEmT,KAAM,SACxC,OAAIpT,aAAkBqT,4BAEX,IAAIjC,GAAuBpR,GAE/B,IAAImR,GAAoBnR,EACnC,OACO3pB,GACH,GAAIA,aAAiBxG,UAEjB,OAAO,IAAIuhC,GAAuBtR,EAAOG,aAE7C,MAAM5pB,CACV,CACJ,CDe4Bi9B,CAAoBJ,GACtCK,EAAW9mB,GAAW,CAAA,EACtB+mB,EAAeD,EAAS7B,QAO9B,OANA6B,EAAS7B,QAAU7R,UAEf,SADMsT,EAAgBzS,QAClB8S,EACA,OAAOA,KAGR,IAAIjB,GAAoBY,EAAiBI,EACpD,CEbA,IAAIE,GAAKxnC,WAAYynC,GAAMC,YAAaC,GAAMC,WAE1CC,GAAO,IAAIL,GAAG,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAgB,EAAG,EAAoB,IAE1IM,GAAO,IAAIN,GAAG,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAiB,EAAG,IAEjIO,GAAO,IAAIP,GAAG,CAAC,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,KAE7EQ,GAAO,SAAUC,EAAI1nC,GAErB,IADA,IAAIyE,EAAI,IAAIyiC,GAAI,IACP3oC,EAAI,EAAGA,EAAI,KAAMA,EACtBkG,EAAElG,GAAKyB,GAAS,GAAK0nC,EAAGnpC,EAAI,GAGhC,IAAIopC,EAAI,IAAIP,GAAI3iC,EAAE,KAClB,IAASlG,EAAI,EAAGA,EAAI,KAAMA,EACtB,IAAA,IAAS8I,EAAI5C,EAAElG,GAAI8I,EAAI5C,EAAElG,EAAI,KAAM8I,EAC/BsgC,EAAEtgC,GAAOA,EAAI5C,EAAElG,IAAO,EAAKA,EAGnC,MAAO,CAAEkG,IAAMkjC,IACnB,EACInH,GAAKiH,GAAKH,GAAM,GAAIM,GAAKpH,GAAG/7B,EAAGojC,GAAQrH,GAAGmH,EAE9CC,GAAG,IAAM,IAAKC,GAAM,KAAO,GAI3B,IAHG,IAAqBC,GAAfL,GAAKF,GAAM,GAAY9iC,EAE5BsjC,GAAM,IAAIb,GAAI,OACT3oC,GAAI,EAAGA,GAAI,QAASA,GAAG,CAE5B,IAAIgM,IAAU,MAAJhM,KAAe,GAAW,MAAJA,KAAe,EAE/CgM,IAAU,OADVA,IAAU,MAAJA,KAAe,GAAW,MAAJA,KAAe,KACtB,GAAW,KAAJA,KAAe,EAC3Cw9B,GAAIxpC,MAAY,MAAJgM,KAAe,GAAW,IAAJA,KAAe,IAAO,CAC5D,CAIA,IAAIy9B,GAAQ,SAAUC,EAAIC,EAAIP,GAO1B,IANA,IAAI5mC,EAAIknC,EAAGjpC,OAEPT,EAAI,EAEJ+Z,EAAI,IAAI4uB,GAAIgB,GAET3pC,EAAIwC,IAAKxC,EACR0pC,EAAG1pC,MACD+Z,EAAE2vB,EAAG1pC,GAAK,GAGpB,IAII4pC,EAJAC,EAAK,IAAIlB,GAAIgB,GACjB,IAAK3pC,EAAI,EAAGA,EAAI2pC,IAAM3pC,EAClB6pC,EAAG7pC,GAAM6pC,EAAG7pC,EAAI,GAAK+Z,EAAE/Z,EAAI,IAAO,EAGtC,GAAIopC,EAAG,CAEHQ,EAAK,IAAIjB,GAAI,GAAKgB,GAElB,IAAIG,EAAM,GAAKH,EACf,IAAK3pC,EAAI,EAAGA,EAAIwC,IAAKxC,EAEjB,GAAI0pC,EAAG1pC,GAQH,IANA,IAAI+pC,EAAM/pC,GAAK,EAAK0pC,EAAG1pC,GAEnBgqC,EAAML,EAAKD,EAAG1pC,GAEdiqC,EAAIJ,EAAGH,EAAG1pC,GAAK,MAAQgqC,EAElB9nC,EAAI+nC,GAAM,GAAKD,GAAO,EAAIC,GAAK/nC,IAAK+nC,EAEzCL,EAAGJ,GAAIS,IAAMH,GAAOC,CAIpC,MAGI,IADAH,EAAK,IAAIjB,GAAInmC,GACRxC,EAAI,EAAGA,EAAIwC,IAAKxC,EACb0pC,EAAG1pC,KACH4pC,EAAG5pC,GAAKwpC,GAAIK,EAAGH,EAAG1pC,GAAK,OAAU,GAAK0pC,EAAG1pC,IAIrD,OAAO4pC,CACX,EAEIM,GAAM,IAAIxB,GAAG,KACjB,IAAS1oC,GAAI,EAAGA,GAAI,MAAOA,GACvBkqC,GAAIlqC,IAAK,EACb,IAASA,GAAI,IAAKA,GAAI,MAAOA,GACzBkqC,GAAIlqC,IAAK,EACb,IAASA,GAAI,IAAKA,GAAI,MAAOA,GACzBkqC,GAAIlqC,IAAK,EACb,IAASA,GAAI,IAAKA,GAAI,MAAOA,GACzBkqC,GAAIlqC,IAAK,EAEb,IAAImqC,GAAM,IAAIzB,GAAG,IACjB,IAAS1oC,GAAI,EAAGA,GAAI,KAAMA,GACtBmqC,GAAInqC,IAAK,EAEV,IAAsCoqC,GAAqBX,GAAKS,GAAK,EAAG,GAElCG,GAAqBZ,GAAKU,GAAK,EAAG,GAEvEv9B,GAAM,SAAUb,GAEhB,IADA,IAAI7J,EAAI6J,EAAE,GACD/L,EAAI,EAAGA,EAAI+L,EAAEtL,SAAUT,EACxB+L,EAAE/L,GAAKkC,IACPA,EAAI6J,EAAE/L,IAEd,OAAOkC,CACX,EAEIooC,GAAO,SAAU/nC,EAAGgoC,EAAGroC,GACvB,IAAIsoC,EAAKD,EAAI,EAAK,EAClB,OAAShoC,EAAEioC,GAAMjoC,EAAEioC,EAAI,IAAM,KAAY,EAAJD,GAAUroC,CACnD,EAEIuoC,GAAS,SAAUloC,EAAGgoC,GACtB,IAAIC,EAAKD,EAAI,EAAK,EAClB,OAAShoC,EAAEioC,GAAMjoC,EAAEioC,EAAI,IAAM,EAAMjoC,EAAEioC,EAAI,IAAM,MAAa,EAAJD,EAC5D,EAEIG,GAAO,SAAUH,GAAK,OAASA,EAAI,GAAK,EAAK,CAAG,EAgChDI,GAAK,CACL,iBACA,qBACA,yBACA,mBACA,kBACA,oBACJ,CACI,cACA,qBACA,uBACA,8BACA,oBACA,mBACA,oBAIA5X,GAAM,SAAU6X,EAAK52B,EAAK62B,GAC1B,IAAI5oC,EAAI,IAAIZ,MAAM2S,GAAO22B,GAAGC,IAI5B,GAHA3oC,EAAEb,KAAOwpC,EACLvpC,MAAMif,mBACNjf,MAAMif,kBAAkBre,EAAG8wB,KAC1B8X,EACD,MAAM5oC,EACV,OAAOA,CACX,EAEI6oC,GAAQ,SAAUC,EAAKC,EAAIxmC,EAAKymC,GAEhC,IAAIC,EAAKH,EAAItqC,OACb,IAAKyqC,GAAMF,EAAGG,IAAMH,EAAGjxB,EACnB,OAAOvV,GAAO,IAAIkkC,GAAG,GACzB,IAAI0C,GAAS5mC,EAET6mC,EAASD,GAAiB,GAARJ,EAAGhrC,EAErBsrC,EAAON,EAAGhrC,EAEVorC,IACA5mC,EAAM,IAAIkkC,GAAQ,EAALwC,IAEjB,IAAIK,EAAO,SAAUxxB,GACjB,IAAIyxB,EAAKhnC,EAAI/D,OAEb,GAAIsZ,EAAIyxB,EAAI,CAER,IAAIC,EAAO,IAAI/C,GAAG/lC,KAAKiK,IAAS,EAAL4+B,EAAQzxB,IACnC0xB,EAAKp/B,IAAI7H,GACTA,EAAMinC,CACV,CACJ,EAEIC,EAAQV,EAAGG,GAAK,EAAG/+B,EAAM4+B,EAAGT,GAAK,EAAGoB,EAAKX,EAAG9kC,GAAK,EAAG0lC,EAAKZ,EAAGjxB,EAAG8xB,EAAKb,EAAGzoC,EAAGupC,EAAMd,EAAG9oC,EAAG6pC,EAAMf,EAAGjjC,EAE/FikC,EAAY,EAALd,EACX,EAAG,CACC,IAAKU,EAAI,CAELF,EAAQpB,GAAKS,EAAK3+B,EAAK,GAEvB,IAAI7F,EAAO+jC,GAAKS,EAAK3+B,EAAM,EAAG,GAE9B,GADAA,GAAO,GACF7F,EAAM,CAEP,IAAuBwT,EAAIgxB,GAAvBvoC,EAAIkoC,GAAKt+B,GAAO,GAAe,GAAM2+B,EAAIvoC,EAAI,IAAM,EAAIypC,EAAIzpC,EAAIuX,EACnE,GAAIkyB,EAAIf,EAAI,CACJI,GACAvY,GAAI,GACR,KACJ,CAEIsY,GACAE,EAAKI,EAAK5xB,GAEdvV,EAAI6H,IAAI0+B,EAAIt8B,SAASjM,EAAGypC,GAAIN,GAE5BX,EAAG9kC,EAAIylC,GAAM5xB,EAAGixB,EAAGT,EAAIn+B,EAAU,EAAJ6/B,EAAOjB,EAAGG,EAAIO,EAC3C,QACJ,IACiB,GAARnlC,EACLqlC,EAAKxB,GAAMyB,EAAKxB,GAAMyB,EAAM,EAAGC,EAAM,OAAA,GACxB,GAARxlC,EAAW,CAEhB,IAAI2lC,EAAO5B,GAAKS,EAAK3+B,EAAK,IAAM,IAAK+/B,EAAQ7B,GAAKS,EAAK3+B,EAAM,GAAI,IAAM,EACnEggC,EAAKF,EAAO5B,GAAKS,EAAK3+B,EAAM,EAAG,IAAM,EACzCA,GAAO,GAKP,IAHA,IAAIigC,EAAM,IAAI3D,GAAG0D,GAEbE,EAAM,IAAI5D,GAAG,IACR1oC,EAAI,EAAGA,EAAImsC,IAASnsC,EAEzBssC,EAAIrD,GAAKjpC,IAAMsqC,GAAKS,EAAK3+B,EAAU,EAAJpM,EAAO,GAE1CoM,GAAe,EAAR+/B,EAEP,IAAII,EAAM3/B,GAAI0/B,GAAME,GAAU,GAAKD,GAAO,EAEtCE,EAAMhD,GAAK6C,EAAKC,EAAK,GACzB,IAASvsC,EAAI,EAAGA,EAAIosC,GAAK,CACrB,IAII5pC,EAJA4mC,EAAIqD,EAAInC,GAAKS,EAAK3+B,EAAKogC,IAM3B,GAJApgC,GAAW,GAAJg9B,GAEH5mC,EAAI4mC,GAAK,GAEL,GACJiD,EAAIrsC,KAAOwC,MAEV,CAED,IAAIM,EAAI,EAAGiF,EAAI,EAOf,IANS,IAALvF,GACAuF,EAAI,EAAIuiC,GAAKS,EAAK3+B,EAAK,GAAIA,GAAO,EAAGtJ,EAAIupC,EAAIrsC,EAAI,IACvC,IAALwC,GACLuF,EAAI,EAAIuiC,GAAKS,EAAK3+B,EAAK,GAAIA,GAAO,GACxB,IAAL5J,IACLuF,EAAI,GAAKuiC,GAAKS,EAAK3+B,EAAK,KAAMA,GAAO,GAClCrE,KACHskC,EAAIrsC,KAAO8C,CACnB,CACJ,CAEA,IAAI4pC,EAAKL,EAAI59B,SAAS,EAAGy9B,GAAOS,EAAKN,EAAI59B,SAASy9B,GAElDJ,EAAMl/B,GAAI8/B,GAEVX,EAAMn/B,GAAI+/B,GACVf,EAAKnC,GAAKiD,EAAIZ,EAAK,GACnBD,EAAKpC,GAAKkD,EAAIZ,EAAK,EACvB,MAEIhZ,GAAI,GACR,GAAI3mB,EAAM4/B,EAAM,CACRV,GACAvY,GAAI,GACR,KACJ,CACJ,CAGIsY,GACAE,EAAKI,EAAK,QAGd,IAFA,IAAIiB,GAAO,GAAKd,GAAO,EAAGe,GAAO,GAAKd,GAAO,EACzCe,EAAO1gC,GACH0gC,EAAO1gC,EAAK,CAEhB,IAAoC2G,GAAhCjQ,EAAI8oC,EAAGnB,GAAOM,EAAK3+B,GAAOwgC,KAAiB,EAE/C,IADAxgC,GAAW,GAAJtJ,GACGkpC,EAAM,CACRV,GACAvY,GAAI,GACR,KACJ,CAGA,GAFKjwB,GACDiwB,GAAI,GACJhgB,EAAM,IACNvO,EAAImnC,KAAQ54B,MAAA,IACA,KAAPA,EAAY,CACjB+5B,EAAO1gC,EAAKw/B,EAAK,KACjB,KACJ,CAEI,IAAImB,EAAMh6B,EAAM,IAEhB,GAAIA,EAAM,IAAK,CAEX,IAAmB7M,EAAI6iC,GAAnB/oC,EAAI+S,EAAM,KACdg6B,EAAMzC,GAAKS,EAAK3+B,GAAM,GAAKlG,GAAK,GAAKmjC,GAAGrpC,GACxCoM,GAAOlG,CACX,CAEA,IAAI3D,EAAIspC,EAAGpB,GAAOM,EAAK3+B,GAAOygC,GAAMG,EAAOzqC,GAAK,EAC3CA,GACDwwB,GAAI,GACR3mB,GAAW,GAAJ7J,EACHoqC,EAAKpD,GAAGyD,GACZ,GAAIA,EAAO,EAAG,CACN9mC,EAAI8iC,GAAKgE,GACbL,GAAMlC,GAAOM,EAAK3+B,IAAQ,GAAKlG,GAAK,EAAGkG,GAAOlG,CAClD,CACA,GAAIkG,EAAM4/B,EAAM,CACRV,GACAvY,GAAI,GACR,KACJ,CACIsY,GACAE,EAAKI,EAAK,QACd,IAAIjqC,EAAMiqC,EAAKoB,EACf,GAAIpB,EAAKgB,EAAI,CACT,IAAI3wB,EAjK2B,EAiKd2wB,EAAIM,EAAOtqC,KAAKwH,IAAIwiC,EAAIjrC,GAGzC,IAFIsa,EAAQ2vB,EAAK,GACb5Y,GAAI,GACD4Y,EAAKsB,IAAQtB,EAChBnnC,EAAImnC,GAAMV,EAAKjvB,EAAQ2vB,EAC/B,CACA,KAAOA,EAAKjqC,IAAOiqC,EACfnnC,EAAImnC,GAAMnnC,EAAImnC,EAAKgB,EAC3B,CACJ,CACA3B,EAAGjxB,EAAI6xB,EAAIZ,EAAGT,EAAIuC,EAAM9B,EAAG9kC,EAAIylC,EAAIX,EAAGG,EAAIO,EACtCE,IACAF,EAAQ,EAAGV,EAAG9oC,EAAI4pC,EAAKd,EAAGzoC,EAAIspC,EAAIb,EAAGjjC,EAAIgkC,EACjD,QAAUL,GAEV,OAAOC,GAAMnnC,EAAI/D,QAAU2qC,EA3OrB,SAAUnB,EAAGznC,EAAGP,GAMtB,OAHS,MAALA,GAAaA,EAAIgoC,EAAExpC,UACnBwB,EAAIgoC,EAAExpC,QAEH,IAAIioC,GAAGuB,EAAEx7B,SAASjM,EAAGP,GAChC,CAoOuCirC,CAAI1oC,EAAK,EAAGmnC,GAAMnnC,EAAIiK,SAAS,EAAGk9B,EACzE,EAoOIwB,GAAmB,IAAIzE,GAAG,GA0uBvB,SAAS0E,GAAW3mC,EAAM2yB,GAC7B,IA5XgB72B,EACZwX,EA2XAixB,EAxYE,SAAUzoC,GACJ,IAARA,EAAE,IAAoB,KAARA,EAAE,IAAqB,GAARA,EAAE,IAC/BwwB,GAAI,EAAG,qBACX,IAAIsa,EAAM9qC,EAAE,GACRyoC,EAAK,GACC,EAANqC,IACArC,GAA6B,GAAtBzoC,EAAE,IAAMA,EAAE,KAAO,IAC5B,IAAA,IAAS+qC,GAAMD,GAAO,EAAI,IAAMA,GAAO,EAAI,GAAIC,EAAK,EAAGA,IAAO/qC,EAAEyoC,MAEhE,OAAOA,GAAY,EAANqC,EACjB,CA8XaE,CAAI9mC,GAGb,OAFIukC,EAAK,EAAIvkC,EAAKhG,QACdsyB,GAAI,EAAG,qBACJ+X,GAAMrkC,EAAKgI,SAASu8B,GAAI,GAAK,CAAEhrC,EAAG,GAAyB,IAAI0oC,IA9XlE3uB,GADYxX,EA+X6DkE,GA9XnEhG,QACF8B,EAAEwX,EAAI,GAAKxX,EAAEwX,EAAI,IAAM,EAAIxX,EAAEwX,EAAI,IAAM,GAAKxX,EAAEwX,EAAI,IAAM,MAAQ,IA6Xaqf,EACzF,CAiJO,SAASoU,GAAW/mC,EAAM2yB,GAC7B,OAAO0R,GAAMrkC,EAAKgI,WA/fC,IAAP,IADIlM,EAggBekE,GA/fxB,KAAkBlE,EAAE,IAAM,EAAK,IAAOA,EAAE,IAAM,EAAIA,EAAE,IAAM,KAC7DwwB,GAAI,EAAG,qBACY,IAAlBxwB,EAAE,IAAM,EAAI,IACbwwB,GAAI,EAAG,uBAAgC,GAAPxwB,EAAE,GAAU,OAAS,cAAgB,eAChD,GAAjBA,EAAE,IAAM,EAAI,KA2f2C,GAAK,CAAEvC,EAAG,GAAKo5B,EAAkBA,GAhgB1F,IAAU72B,CAigBpB,CAyGO,SAASkrC,GAAehnC,EAAM2yB,GACjC,OAAmB,IAAX3yB,EAAK,IAAuB,KAAXA,EAAK,IAAwB,GAAXA,EAAK,GAC1C2mC,GAAW3mC,EAAM2yB,GACE,IAAP,GAAV3yB,EAAK,KAAkBA,EAAK,IAAM,EAAK,IAAOA,EAAK,IAAM,EAAIA,EAAK,IAAM,GAva7E,SAAqBA,EAAM2yB,GAC9B,OAAO0R,GAAMrkC,EAAM,CAAEzG,EAAG,GAAKo5B,EAAkBA,EACnD,CAsacsU,CAAYjnC,EAAM2yB,GAClBoU,GAAW/mC,EAAM2yB,EAC/B,CAkBA,IAAIuU,GAA2B,oBAAf7I,iBAAgDA,YAGhE,IACI6I,GAAG5I,OAAOoI,GAAI,CAAEpY,QAAQ,GAE5B,OACO9yB,IAAK,uECpnDZ,IAAIO,EAAI,IACJN,EAAQ,GAAJM,EACJ8hB,EAAQ,GAAJpiB,EACJK,EAAQ,GAAJ+hB,EACJ8F,EAAQ,EAAJ7nB,EACJ0J,EAAQ,OAAJ1J,EAqJR,SAASqrC,EAAOC,EAAIC,EAAO/lC,EAAGuL,GAC5B,IAAIy6B,EAAWD,GAAa,IAAJ/lC,EACxB,OAAOpF,KAAKuqB,MAAM2gB,EAAK9lC,GAAK,IAAMuL,GAAQy6B,EAAW,IAAM,GAC7D,QAxIAF,GAAiB,SAAU5lC,EAAKyZ,GAC9BA,EAAUA,GAAW,CAAA,EACrB,IAAInb,SAAc0B,EAClB,GAAa,WAAT1B,GAAqB0B,EAAIxH,OAAS,EACpC,OAkBJ,SAAegJ,GAEb,IADAA,EAAMhB,OAAOgB,IACLhJ,OAAS,IACf,OAEF,IAAIuiB,EAAQ,mIAAmInE,KAC7IpV,GAEF,IAAKuZ,EACH,OAEF,IAAIjb,EAAIimC,WAAWhrB,EAAM,IAEzB,QADYA,EAAM,IAAM,MAAM3b,eAE5B,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOU,EAAIkE,EACb,IAAK,QACL,IAAK,OACL,IAAK,IACH,OAAOlE,EAAIqiB,EACb,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOriB,EAAIxF,EACb,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOwF,EAAIuc,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOvc,EAAI7F,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAO6F,EAAIvF,EACb,IAAK,eACL,IAAK,cACL,IAAK,QACL,IAAK,OACL,IAAK,KACH,OAAOuF,EACT,QACE,OAEN,CAzEWsf,CAAMpf,GACjB,GAAsB,WAAT1B,GAAqB8G,SAASpF,GACvC,OAAOyZ,EAAQusB,KA0GnB,SAAiBJ,GACf,IAAIC,EAAQnrC,KAAKK,IAAI6qC,GACrB,GAAIC,GAASvrC,EACX,OAAOqrC,EAAOC,EAAIC,EAAOvrC,EAAG,OAE9B,GAAIurC,GAASxpB,EACX,OAAOspB,EAAOC,EAAIC,EAAOxpB,EAAG,QAE9B,GAAIwpB,GAAS5rC,EACX,OAAO0rC,EAAOC,EAAIC,EAAO5rC,EAAG,UAE9B,GAAI4rC,GAAStrC,EACX,OAAOorC,EAAOC,EAAIC,EAAOtrC,EAAG,UAE9B,OAAOqrC,EAAK,KACd,CAzH0BK,CAAQjmC,GAiFlC,SAAkB4lC,GAChB,IAAIC,EAAQnrC,KAAKK,IAAI6qC,GACrB,GAAIC,GAASvrC,EACX,OAAOI,KAAKuqB,MAAM2gB,EAAKtrC,GAAK,IAE9B,GAAIurC,GAASxpB,EACX,OAAO3hB,KAAKuqB,MAAM2gB,EAAKvpB,GAAK,IAE9B,GAAIwpB,GAAS5rC,EACX,OAAOS,KAAKuqB,MAAM2gB,EAAK3rC,GAAK,IAE9B,GAAI4rC,GAAStrC,EACX,OAAOG,KAAKuqB,MAAM2gB,EAAKrrC,GAAK,IAE9B,OAAOqrC,EAAK,IACd,CAhGyCM,CAASlmC,GAEhD,MAAM,IAAI5G,MACR,wDACE+gB,KAAKC,UAAUpa,GAErB,uCC/BA5E,EAAA+qC,WA8IA,SAAoBx3B,GAQnB,GAPAA,EAAK,IAAMrP,KAAK8mC,UAAY,KAAO,IAClC9mC,KAAK+mC,WACJ/mC,KAAK8mC,UAAY,MAAQ,KAC1Bz3B,EAAK,IACJrP,KAAK8mC,UAAY,MAAQ,KAC1B,IAAME,EAAOlrC,QAAQmrC,SAASjnC,KAAKknC,OAE/BlnC,KAAK8mC,UACT,OAGD,MAAMvrC,EAAI,UAAYyE,KAAKmnC,MAC3B93B,EAAKmpB,OAAO,EAAG,EAAGj9B,EAAG,kBAKrB,IAAI2f,EAAQ,EACRksB,EAAQ,EACZ/3B,EAAK,GAAG/J,QAAQ,cAAemW,IAChB,OAAVA,IAGJP,IACc,OAAVO,IAGH2rB,EAAQlsB,MAIV7L,EAAKmpB,OAAO4O,EAAO,EAAG7rC,EACvB,EA9KAO,EAAAurC,KAgMA,SAAcC,GACb,IACKA,EACHxrC,EAAQyrC,QAAQC,QAAQ,QAASF,GAEjCxrC,EAAQyrC,QAAQE,WAAW,QAE9B,OAAU1jC,GAGV,CACA,EA1MAjI,EAAA4rC,KAkNA,WACC,IAAI7F,EACJ,IACCA,EAAI/lC,EAAQyrC,QAAQI,QAAQ,UAAY7rC,EAAQyrC,QAAQI,QAAQ,QAClE,OAAU5jC,GAGV,CAOC,OAJK89B,QAAwB,IAAZ5zB,GAA2B,QAASA,IACpD4zB,EAAI5zB,EAAQsB,IAAIq4B,OAGV/F,CACR,EAhOA/lC,EAAAgrC,UAyGA,WAIC,GAAsB,oBAAX/zB,QAA0BA,OAAO9E,UAAoC,aAAxB8E,OAAO9E,QAAQjP,MAAuB+T,OAAO9E,QAAQ45B,QAC5G,OAAO,EAIR,GAAyB,oBAAdjqB,WAA6BA,UAAUwJ,WAAaxJ,UAAUwJ,UAAUtnB,cAAc2b,MAAM,yBACtG,OAAO,EAGR,IAAI9gB,EAKJ,MAA4B,oBAAb+iB,UAA4BA,SAASoqB,iBAAmBpqB,SAASoqB,gBAAgBC,OAASrqB,SAASoqB,gBAAgBC,MAAMC,kBAEpH,oBAAXj1B,QAA0BA,OAAOjP,UAAYiP,OAAOjP,QAAQmkC,SAAYl1B,OAAOjP,QAAQokC,WAAan1B,OAAOjP,QAAQsJ,QAGrG,oBAAdwQ,WAA6BA,UAAUwJ,YAAczsB,EAAIijB,UAAUwJ,UAAUtnB,cAAc2b,MAAM,oBAAsB5Z,SAASlH,EAAE,GAAI,KAAO,IAE/H,oBAAdijB,WAA6BA,UAAUwJ,WAAaxJ,UAAUwJ,UAAUtnB,cAAc2b,MAAM,qBACtG,EAlIA3f,EAAAyrC,QA4OA,WACC,IAGC,OAAOY,YACT,OAAUpkC,GAGV,CACA,CArPkBqkC,GAClBtsC,EAAAusC,QAAmB,MAClB,IAAIC,GAAS,EAEb,MAAO,KACDA,IACJA,GAAS,EACTxkC,QAAQiuB,KAAK,0IAGhB,EATmB,GAenBj2B,EAAAysC,OAAiB,CAChB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAyFDzsC,EAAAF,IAAckI,QAAQ01B,OAAS11B,QAAQlI,WAAc,GAkErDorC,EAAAlrC,qBCkCA4kB,GA7RA,SAAenR,GAqDd,SAASi5B,EAAYzB,GACpB,IAAI0B,EAEAC,EACAC,EAFAC,EAAiB,KAIrB,SAASpP,KAASnqB,GAEjB,IAAKmqB,EAAMqP,QACV,OAGD,MAAMn7B,EAAO8rB,EAGPsP,EAAOrnC,OAAO,IAAI8jB,MAClB+gB,EAAKwC,GAAQL,GAAYK,GAC/Bp7B,EAAKw5B,KAAOZ,EACZ54B,EAAKq7B,KAAON,EACZ/6B,EAAKo7B,KAAOA,EACZL,EAAWK,EAEXz5B,EAAK,GAAKm5B,EAAYQ,OAAO35B,EAAK,IAEX,iBAAZA,EAAK,IAEfA,EAAK+jB,QAAQ,MAId,IAAIlY,EAAQ,EACZ7L,EAAK,GAAKA,EAAK,GAAG/J,QAAQ,gBAAiB,CAACmW,EAAOkH,KAElD,GAAc,OAAVlH,EACH,MAAO,IAERP,IACA,MAAM+tB,EAAYT,EAAYU,WAAWvmB,GACzC,GAAyB,mBAAdsmB,EAA0B,CACpC,MAAMvoC,EAAM2O,EAAK6L,GACjBO,EAAQwtB,EAAUpoC,KAAK6M,EAAMhN,GAG7B2O,EAAKmpB,OAAOtd,EAAO,GACnBA,GACL,CACI,OAAOO,IAIR+sB,EAAY3B,WAAWhmC,KAAK6M,EAAM2B,IAEpB3B,EAAK9R,KAAO4sC,EAAY5sC,KAChC4H,MAAMkK,EAAM2B,EACrB,CAgCE,OA9BAmqB,EAAMuN,UAAYA,EAClBvN,EAAMsN,UAAY0B,EAAY1B,YAC9BtN,EAAM2N,MAAQqB,EAAYW,YAAYpC,GACtCvN,EAAM5jB,OAASA,EACf4jB,EAAM6O,QAAUG,EAAYH,QAE5BnrC,OAAO8G,eAAew1B,EAAO,UAAW,CACvCv1B,YAAY,EACZ6H,cAAc,EACd5H,IAAK,IACmB,OAAnB0kC,EACIA,GAEJF,IAAoBF,EAAYlB,aACnCoB,EAAkBF,EAAYlB,WAC9BqB,EAAeH,EAAYK,QAAQ9B,IAG7B4B,GAER7jC,IAAK49B,IACJkG,EAAiBlG,KAKa,mBAArB8F,EAAYY,MACtBZ,EAAYY,KAAK5P,GAGXA,CACT,CAEC,SAAS5jB,EAAOmxB,EAAWpvB,GAC1B,MAAM0xB,EAAWb,EAAYxoC,KAAK+mC,gBAAkC,IAAdpvB,EAA4B,IAAMA,GAAaovB,GAErG,OADAsC,EAASztC,IAAMoE,KAAKpE,IACbytC,CACT,CAuCC,SAASC,EAAgBC,EAAQC,GAChC,IAAIC,EAAc,EACdC,EAAgB,EAChBC,GAAY,EACZC,EAAa,EAEjB,KAAOH,EAAcF,EAAOrwC,QAC3B,GAAIwwC,EAAgBF,EAAStwC,SAAWswC,EAASE,KAAmBH,EAAOE,IAA4C,MAA5BD,EAASE,IAEnE,MAA5BF,EAASE,IACZC,EAAYD,EACZE,EAAaH,EACbC,MAEAD,IACAC,SAEL,KAA4B,IAAdC,EAMV,OAAO,EAJPD,EAAgBC,EAAY,EAC5BC,IACAH,EAAcG,CAGlB,CAIE,KAAOF,EAAgBF,EAAStwC,QAAsC,MAA5BswC,EAASE,IAClDA,IAGD,OAAOA,IAAkBF,EAAStwC,MACpC,CAgEC,OAzRAsvC,EAAYhP,MAAQgP,EACpBA,EAAYtP,QAAUsP,EACtBA,EAAYQ,OAsQZ,SAAgBtoC,GACf,OAAIA,aAAe5G,MACX4G,EAAIsL,OAAStL,EAAIuL,QAElBvL,CACT,EA1QC8nC,EAAYqB,QA8NZ,WACC,MAAMvC,EAAa,IACfkB,EAAYsB,SACZtB,EAAYuB,MAAM13B,IAAI00B,GAAa,IAAMA,IAC3CrtC,KAAK,KAEP,OADA8uC,EAAYwB,OAAO,IACZ1C,CACT,EApOCkB,EAAYwB,OAsJZ,SAAgB1C,GACfkB,EAAYnB,KAAKC,GACjBkB,EAAYlB,WAAaA,EAEzBkB,EAAYsB,MAAQ,GACpBtB,EAAYuB,MAAQ,GAEpB,MAAMh9B,GAA+B,iBAAfu6B,EAA0BA,EAAa,IAC3D/hC,OACAD,QAAQ,OAAQ,KAChByH,MAAM,KACNuJ,OAAO+T,SAET,IAAA,MAAW4f,KAAMl9B,EACF,MAAVk9B,EAAG,GACNzB,EAAYuB,MAAMxwC,KAAK0wC,EAAGjsC,MAAM,IAEhCwqC,EAAYsB,MAAMvwC,KAAK0wC,EAG3B,EAzKCzB,EAAYK,QA4OZ,SAAiB98B,GAChB,IAAA,MAAWm+B,KAAQ1B,EAAYuB,MAC9B,GAAIT,EAAgBv9B,EAAMm+B,GACzB,OAAO,EAIT,IAAA,MAAWD,KAAMzB,EAAYsB,MAC5B,GAAIR,EAAgBv9B,EAAMk+B,GACzB,OAAO,EAIT,OAAO,CACT,EAzPCzB,EAAYvB,SAAWkD,KACvB3B,EAAYH,QA4QZ,WACCvkC,QAAQiuB,KAAK,wIACf,EA5QC70B,OAAOuV,KAAKlD,GAAK+C,QAAQK,IACxB61B,EAAY71B,GAAOpD,EAAIoD,KAOxB61B,EAAYsB,MAAQ,GACpBtB,EAAYuB,MAAQ,GAOpBvB,EAAYU,WAAa,CAAA,EAkBzBV,EAAYW,YAVZ,SAAqBpC,GACpB,IAAIqD,EAAO,EAEX,IAAA,IAAS3xC,EAAI,EAAGA,EAAIsuC,EAAU7tC,OAAQT,IACrC2xC,GAASA,GAAQ,GAAKA,EAAQrD,EAAU/tC,WAAWP,GACnD2xC,GAAQ,EAGT,OAAO5B,EAAYD,OAAOntC,KAAKK,IAAI2uC,GAAQ5B,EAAYD,OAAOrvC,OAChE,EA6OCsvC,EAAYwB,OAAOxB,EAAYd,QAExBc,CACR,IDhCqC1sC,GAErC,MAAMotC,WAACA,GAAclC,EAAOlrC,QAM5BotC,EAAW3nC,EAAI,SAAUmhC,GACxB,IACC,OAAO7nB,KAAKC,UAAU4nB,EACxB,OAAU3+B,GACR,MAAO,+BAAiCA,EAAMkI,OAChD,CACA,gCE3Qao+B,GACQ,SADRA,GAEO,UAFPA,GAGU,SAHVA,GAIc,UAEdC,GAAiB,CAC1BpmC,IAAI3E,IACc88B,GAAUn4B,IAAI3E,EAAO,GAC5B,CACHo7B,UAAW8B,GAAUv4B,IAAI3E,EAAO,GAChCgrC,eAAgB9N,GAAUv4B,IAAI3E,EAAO,GACrCirC,iBAAkB/N,GAAUv4B,IAAI3E,EAAO,MAE5CzG,IAAK,IAoBC2xC,GAAuB,CAChC,GAAAvmC,CAAI3E,GACA,MAAMmrC,EAAQrO,GAAUn4B,IAAI3E,EAAO,GACnC,MAAO,CACHo7B,UAAW8B,GAAUv4B,IAAI3E,EAAO,GAChCorC,WAAYtO,GAAUn4B,IAAI3E,EAAO,GACjCqrC,kBAA2B,EAARF,GACnBG,iBAAkBxO,GAAUn4B,IAAI3E,EAAO,GACvCgrC,eAAgB9N,GAAUv4B,IAAI3E,EAAO,IACrCirC,iBAAkB/N,GAAUv4B,IAAI3E,EAAO,IACvCurC,eAAgBzO,GAAUn4B,IAAI3E,EAAO,IACrCwrC,iBAAkB1O,GAAUn4B,IAAI3E,EAAO,IACvCyrC,SAAU,KAElB,EAAGlyC,IAAK,IAcCmyC,GAAmC,CAC5C/mC,IAAI3E,IACO,CACHo7B,UAAW8B,GAAUv4B,IAAI3E,EAAO,GAChC2rC,aAAc7O,GAAUn4B,IAAI3E,EAAO,GACnC4rC,yBAA0B9O,GAAUn4B,IAAI3E,EAAO,GAC/C6rC,sBAAuB/O,GAAUn4B,IAAI3E,EAAO,GAC5C8rC,kBAAmBhP,GAAUn4B,IAAI3E,EAAO,IACxC+rC,SAAU7O,GAAUv4B,IAAI3E,EAAO,IAC/BgsC,kBAAmB9O,GAAUv4B,IAAI3E,EAAO,IACxCisC,qBAAsBnP,GAAUn4B,IAAI3E,EAAO,MAEhDzG,IAAK,IAsBC2yC,GAAa,CACtB,GAAAvnC,CAAI3E,GACA,MAAMmrC,EAAQrO,GAAUn4B,IAAI3E,EAAO,GACnC,MAAO,CACHo7B,UAAW8B,GAAUv4B,IAAI3E,EAAO,GAChCorC,WAAYtO,GAAUn4B,IAAI3E,EAAO,GACjCqrC,kBAA2B,EAARF,GACnBG,iBAAkBxO,GAAUn4B,IAAI3E,EAAO,IACvCgrC,eAAgB9N,GAAUv4B,IAAI3E,EAAO,IACrCirC,iBAAkB/N,GAAUv4B,IAAI3E,EAAO,IACvCurC,eAAgBzO,GAAUn4B,IAAI3E,EAAO,IACrCwrC,iBAAkB1O,GAAUn4B,IAAI3E,EAAO,IACvCmsC,kBAAmBrP,GAAUn4B,IAAI3E,EAAO,IACxCosC,4BAA6BlP,GAAUv4B,IAAI3E,EAAO,IAClDyrC,SAAU,KAElB,EAAGlyC,IAAK,IChHZ,SAAS8yC,GAAiBjR,GACtB,MAAMY,EAAiB,IAAI5hC,WAAW8iC,GAAU3jC,KAEhD,OADA2jC,GAAUN,IAAIZ,EAAgB,EAAGZ,GAC1BY,CACX,CACA,MAAM/B,GAAQqS,GAAU,qBAClBC,GAAiB,OACjBC,GAAmBH,GAAiBvB,IACpC2B,GAAqBJ,GAAiBvB,IACrC,MAAM4B,GACT,WAAAtgC,CAAYugC,GACRlsC,KAAKksC,UAAYA,EACjBlsC,KAAKmsC,WAAa,IAAIxyC,WAAWmyC,GACrC,CACA,WAAMM,GACF,aAAapsC,KAAKqsC,kBAAoBhC,EAC1C,CACA,aAAAgC,GACI,OAAOrsC,KAAKksC,UAAU1M,UAAU/C,GACpC,CACA,sCAAM6P,GACF,MAAMC,EAAsBvsC,KAAKksC,UAC3B7mB,EAAcjqB,KAAKwH,IAAI,MAAW2pC,EAAoB1M,SAASvgC,MAC/DrH,EAAS+H,KAAKmsC,WAAWjlC,SAAS,EAAGme,SACrCrlB,KAAKksC,UAAU3M,WAAWtnC,EAAQ,CAAE0e,SAAU41B,EAAoB1M,SAASvgC,KAAO+lB,IAGxF,IAAA,IAAS5sB,EAAIR,EAAOiB,OAAS,EAAGT,GAAK,EAAGA,IAEpC,GAAIR,EAAOQ,KAAOuzC,GAAmB,IACjC/zC,EAAOQ,EAAI,KAAOuzC,GAAmB,IACrC/zC,EAAOQ,EAAI,KAAOuzC,GAAmB,IACrC/zC,EAAOQ,EAAI,KAAOuzC,GAAmB,GACrC,OAAOO,EAAoB1M,SAASvgC,KAAO+lB,EAAc5sB,EAGjE,OAAO,CACX,CACA,0BAAM+zC,GACF,IAAKxsC,KAAKksC,UAAUlM,uBAEhB,YADAxG,GAAM,gEAGVA,GAAM,gCACN,MAAM30B,EAAM7E,KAAKksC,UAAUv1B,SACrBrc,QAAe0F,KAAKssC,mCAC1B,GAAIhyC,EAAS,EAAG,CACZk/B,GAAM,4CACN,MAAMiT,QAAmBzsC,KAAKksC,UAAU5M,UAAU2L,GAAkC3wC,GAC9EoyC,EAAQ,GACd1sC,KAAKksC,UAAUxL,YAAY+L,EAAWlB,mBACtC,IAAA,IAAS/qC,EAAI,EAAGA,EAAIisC,EAAWpB,oBAAqB7qC,EAAG,CACnD,MAAM0hB,QAAcliB,KAAKksC,UAAU5M,UAAUmM,IAC7C,GAAIvpB,EAAMyY,YAAc0P,GACpB,MAAM,IAAIvwC,MAAM,0CAEpBooB,EAAM8oB,eAAiBhrC,KAAKksC,UAAU5M,UAAU,IAAInC,GAAWjb,EAAM4oB,eAAgB,gBAC/E9qC,KAAKksC,UAAUtM,OAAO1d,EAAM6oB,wBAC5B/qC,KAAKksC,UAAUtM,OAAO1d,EAAMwpB,mBAClCgB,EAAMnzC,KAAK2oB,GACXsX,GAAM,uCAAuCh5B,EAAI,KAAKksC,EAAMxzC,oBAAoBwzC,EAAMlsC,GAAGwqC,WAC7F,CAEA,OADAhrC,KAAKksC,UAAUxL,YAAY77B,GACpB6nC,CACX,CACA1sC,KAAKksC,UAAUxL,YAAY77B,EAC/B,CACA,WAAM8nC,CAAMC,GACR,MAAMjuB,QAAgB3e,KAAKwsC,uBAC3B,GAAI7tB,EAEA,OAAO3e,KAAK6sC,4BAA4BluB,EAASiuB,GAGrD,IAAIE,GAAO,EACX,EAAG,CACC,MAAMC,QAAkB/sC,KAAKgtC,sBAC7B,IAAKD,EACD,MACJ,MAAM/1B,EAAO41B,EAAOG,GAEpB,IAAIE,EAEJ,GAHAH,IAAS91B,EAAK81B,WAER9sC,KAAKksC,UAAUtM,OAAOmN,EAAUhC,kBAClCgC,EAAUnC,gBAA+C,IAA7BmC,EAAUxC,eAAsB,CAC5D,MAAM2C,EAAS,GACf,IAAIp0C,EAAMgzC,GACVtS,GAAM,iFACN,IAAI2T,GAAkB,EACtB,KAAOA,EAAkB,GAAKr0C,IAAQgzC,IAAgB,CAClDhzC,QAAYkH,KAAKksC,UAAUzM,WAAWz/B,KAAKmsC,WAAY,CAAEhO,WAAW,IACpEgP,EAAkBpzC,GAAQiG,KAAKmsC,WAAWjlC,SAAS,EAAGpO,GAAMizC,IAC5D,MAAMzsC,EAAO6tC,GAAmB,EAAIA,EAAkBr0C,EACtD,GAAIke,EAAKo2B,QAAS,CACd,MAAMluC,EAAO,IAAIvF,WAAW2F,SACtBU,KAAKksC,UAAU3M,WAAWrgC,GAChCguC,EAAO3zC,KAAK2F,EAChB,YAGUc,KAAKksC,UAAUtM,OAAOtgC,EAEpC,CACAk6B,GAAM,0CAA0Cx5B,KAAKksC,UAAUv1B,YAC3DK,EAAKo2B,eACCptC,KAAKqtC,QAAQN,EAAWO,GAAYJ,GAASl2B,EAAKo2B,QAEhE,MAEQp2B,EAAKo2B,SACL5T,GAAM,iCAAiCuT,EAAUxC,wBACjD0C,EAAW,IAAItzC,WAAWozC,EAAUxC,sBAC9BvqC,KAAKksC,UAAU3M,WAAW0N,SAC1BjtC,KAAKqtC,QAAQN,EAAWE,EAAUj2B,EAAKo2B,WAG7C5T,GAAM,kCAAkCuT,EAAUxC,8BAC5CvqC,KAAKksC,UAAUtM,OAAOmN,EAAUxC,iBAI9C,GADA/Q,GAAM,kCAAkCx5B,KAAKksC,UAAUv1B,YACnDo2B,EAAUnC,eAAgB,CAG1B,GAAiC,mBADJ5qC,KAAKksC,UAAU5M,UAAUgL,KACnC3P,UACf,MAAM,IAAI7gC,MAAM,mDAAkDkG,KAAKksC,UAAUv1B,SAAW2zB,GAAexxC,KAEnH,CACJ,QAAUg0C,EACd,CACA,iCAAMD,CAA4BluB,EAASiuB,GACvC,IAAA,MAAWW,KAAc5uB,EAAS,CAC9B,MAAM3H,EAAO41B,EAAOW,GACpB,GAAIv2B,EAAKo2B,QAAS,CACdptC,KAAKksC,UAAUxL,YAAY6M,EAAW5B,6BACtC,MAAMoB,QAAkB/sC,KAAKgtC,sBAC7B,GAAID,EAAW,OACL/sC,KAAKksC,UAAUtM,OAAOmN,EAAUhC,kBACtC,MAAMkC,EAAW,IAAItzC,WAAW4zC,EAAWhD,sBACrCvqC,KAAKksC,UAAU3M,WAAW0N,SAC1BjtC,KAAKqtC,QAAQN,EAAWE,EAAUj2B,EAAKo2B,QACjD,CACJ,CACA,GAAIp2B,EAAK81B,KACL,KACR,CACJ,CACA,OAAAO,CAAQN,EAAWE,EAAUv4B,GACzB,GAAmC,IAA/Bq4B,EAAUlC,iBACV,OAAOn2B,EAAGu4B,GAEdzT,GAAM,uBAAuBuT,EAAU/B,6BAA6BiC,EAAS/zC,UAE7E,OAAOwb,EADkBwxB,GAAe+G,GAE5C,CACA,yBAAMD,GACF,MAAMrS,QAAkB36B,KAAKksC,UAAU1M,UAAU/C,IACjD,GAAI9B,IAAc0P,GAA2B,CACzC,MAAMrpB,QAAehhB,KAAKksC,UAAU5M,UAAUmL,IAE9C,OADAzpB,EAAOgqB,eAAiBhrC,KAAKksC,UAAU5M,UAAU,IAAInC,GAAWnc,EAAO8pB,eAAgB,UAChF9pB,CACX,CACA,GAAI2Z,IAAc0P,GACd,OAAO,EAEX,GAAkB,aAAd1P,EACA,MAAM,IAAI7gC,MAAM,iBAEpB,MAAM,IAAIA,MAAM,uBACpB,EAEJ,SAASC,GAAQ9B,EAAQu1C,GACrB,MAAMC,EAAex1C,EAAOiB,OACtBw0C,EAAgBF,EAAQt0C,OAE9B,GAAIw0C,EAAgBD,EAChB,OAAO,EAEX,IAAA,IAASh1C,EAAI,EAAGA,GAAKg1C,EAAeC,EAAej1C,IAAK,CACpD,IAAI6I,GAAQ,EACZ,IAAA,IAASC,EAAI,EAAGA,EAAImsC,EAAensC,IAC/B,GAAItJ,EAAOQ,EAAI8I,KAAOisC,EAAQjsC,GAAI,CAC9BD,GAAQ,EACR,KACJ,CAEJ,GAAIA,EACA,OAAO7I,CAEf,CACA,OAAO,CACX,CACA,SAAS60C,GAAYJ,GAEjB,MAAMS,EAAcT,EAAOU,OAAO,CAACC,EAAK/E,IAAS+E,EAAM/E,EAAK5vC,OAAQ,GAC9D40C,EAAc,IAAIn0C,WAAWg0C,GACnC,IAAIrzC,EAAS,EACb,IAAA,MAAW8yB,KAAS8f,EAChBY,EAAYhpC,IAAIsoB,EAAO9yB,GACvBA,GAAU8yB,EAAMl0B,OAEpB,OAAO40C,CACX,CC4CO,SAASC,GAAUC,GACzB,MAAOnwC,WAAAA,GAAcmwC,EAErB,OAAmB,IAAfnwC,EACKmwC,EAAK1R,UAAU,GAAM,GAAK,GAAO0R,EAAKtR,UAAU,GAGtC,IAAf7+B,EACKmwC,EAAK9R,SAAS,GAAM,GAAK,GAAO8R,EAAKtR,UAAU,GAGrC,IAAf7+B,EACImwC,EAAKtR,UAAU,GAGJ,IAAf7+B,EACyB,MAApBmwC,EAAK9R,SAAS,GAAkB8R,EAAK1R,UAAU,GAGrC,IAAfz+B,EACImwC,EAAK1R,UAAU,GAGJ,IAAfz+B,EACImwC,EAAK9R,SAAS,QADtB,CAGD,CAnKO,IAAIp/B,WAAWygC,YAAY,QAeZ,IAAIzgC,WAAWiyB,YAqDRn1B,MAAM6D,KAAK,CAACvE,OAAQ,KAAM,CAACs2B,EAAGtU,IAAUA,EAAM1b,SAAS,IAAIyuC,SAAS,EAAG,MChJ7F,MAAMC,GAAsB,CAClChqC,IAAK,CAACjM,EAAQqC,IAAiC,IAArBrC,EAAOqC,EAAS,GAAerC,EAAOqC,EAAS,IAAO,EAAOrC,EAAOqC,EAAS,IAAO,GAAQrC,EAAOqC,IAAY,GACzIxB,IAAK,GCvBOq1C,GAAiC,KAc9C,SAASC,GAAwBC,GAEhC,OADAA,EAAWA,EAASvuC,eAEnB,IAAK,uBACJ,MAAO,CACNwG,IAAK,OACLgoC,KAAMD,GAER,IAAK,0CACJ,MAAO,CACN/nC,IAAK,MACLgoC,KAAMD,GAER,IAAK,mDACJ,MAAO,CACN/nC,IAAK,MACLgoC,KAAMD,GAER,IAAK,iDACJ,MAAO,CACN/nC,IAAK,MACLgoC,KAAMD,GAER,IAAK,0DACJ,MAAO,CACN/nC,IAAK,MACLgoC,KAAMD,GAER,IAAK,kDACJ,MAAO,CACN/nC,IAAK,MACLgoC,KAAMD,GAER,IAAK,2DACJ,MAAO,CACN/nC,IAAK,MACLgoC,KAAMD,GAER,IAAK,8CACJ,MAAO,CACN/nC,IAAK,MACLgoC,KAAMD,GAER,IAAK,uDACJ,MAAO,CACN/nC,IAAK,MACLgoC,KAAMD,GAER,IAAK,yEACJ,MAAO,CACN/nC,IAAK,OACLgoC,KAAMD,GAER,IAAK,oEACJ,MAAO,CACN/nC,IAAK,OACLgoC,KAAMD,GAER,IAAK,8CACJ,MAAO,CACN/nC,IAAK,OACLgoC,KAAM,kDAER,IAAK,uEACJ,MAAO,CACNhoC,IAAK,OACLgoC,KAAMD,GAER,IAAK,iDACJ,MAAO,CACN/nC,IAAK,OACLgoC,KAAM,qDAER,IAAK,uDACJ,MAAO,CACNhoC,IAAK,OACLgoC,KAAM,2DAER,IAAK,0EACJ,MAAO,CACNhoC,IAAK,OACLgoC,KAAMD,GAER,IAAK,gDACJ,MAAO,CACN/nC,IAAK,OACLgoC,KAAM,oDAER,IAAK,0EACJ,MAAO,CACNhoC,IAAK,OACLgoC,KAAMD,GAER,IAAK,wDACJ,MAAO,CACN/nC,IAAK,OACLgoC,KAAM,oDAER,IAAK,wEACJ,MAAO,CACNhoC,IAAK,OACLgoC,KAAMD,GAER,IAAK,sDACJ,MAAO,CACN/nC,IAAK,OACLgoC,KAAM,0DAER,IAAK,4EACJ,MAAO,CACNhoC,IAAK,OACLgoC,KAAMD,GAER,IAAK,0DACJ,MAAO,CACN/nC,IAAK,OACLgoC,KAAM,8DAER,IAAK,mCACJ,MAAO,CACNhoC,IAAK,OACLgoC,KAAM,yBAER,IAAK,yDACJ,MAAO,CACNhoC,IAAK,MACLgoC,KAAM,aAIV,CAEA,SAASC,GAAOt2C,EAAQgnB,EAAS9E,GAChCA,EAAU,CACT7f,OAAQ,KACL6f,GAGJ,IAAA,MAAYe,EAAO8F,KAAW/B,EAAQN,UAErC,GAAIxE,EAAQq0B,MAEX,GAAIxtB,KAAY7G,EAAQq0B,KAAKtzB,GAASjjB,EAAOijB,EAAQf,EAAQ7f,SAC5D,OAAO,UAEE0mB,IAAW/oB,EAAOijB,EAAQf,EAAQ7f,QAC5C,OAAO,EAIT,OAAO,CACR,CAUO,MAAMm0C,GACZ,WAAA9iC,CAAYwO,GA+GZif,EAAAp5B,KAAA,kBAAkButB,MAAM2e,IAcvB,GAbAlsC,KAAK/H,OAAS,IAAI0B,WAAWw0C,SAGG,IAA5BjC,EAAUrM,SAASvgC,OACtB4sC,EAAUrM,SAASvgC,KAAOmC,OAAOitC,kBAGlC1uC,KAAKksC,UAAYA,QAEXA,EAAUzM,WAAWz/B,KAAK/H,OAAQ,CAACiB,OAAQ,GAAIilC,WAAW,IAI5Dn+B,KAAK2uC,MAAM,CAAC,GAAM,KACrB,MAAO,CACNroC,IAAK,MACLgoC,KAAM,aAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,MACrB,MAAO,CACNroC,IAAK,MACLgoC,KAAM,0BAIR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,IACrB,MAAO,CACNroC,IAAK,MACLgoC,KAAM,iCAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,KACrB,MAAO,CACNroC,IAAK,MACLgoC,KAAM,4BAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,KAGrB,aAFMzC,EAAUzM,WAAWz/B,KAAK/H,OAAQ,CAACiB,OAAQ,GAAIilC,WAAW,IAG/Dn+B,KAAK4uC,YAAY,YAAa,CAACt0C,OAAQ,KACpC0F,KAAK4uC,YAAY,SAAU,CAACt0C,OAAQ,KAEhC,CACNgM,IAAK,MACLgoC,KAAM,mBAID,CACNhoC,IAAK,KACLgoC,KAAM,0BAIR,GACCtuC,KAAK2uC,MAAM,CAAC,GAAM,OACf3uC,KAAK2uC,MAAM,CAAC,GAAM,MAErB,MAAO,CACNroC,IAAK,IACLgoC,KAAM,0BAIR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,MACrB,MAAO,CACNroC,IAAK,OACLgoC,KAAM,sBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,MACrB,MAAO,CACNroC,IAAK,MACLgoC,KAAM,qBAMR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,IAAM,MAG3B,OADA3uC,KAAKksC,UAAUtM,OAAO,GACf5/B,KAAK6uC,gBAAgB3C,GAG7B,GAAIlsC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,KAC3B,MAAO,CACNroC,IAAK,MACLgoC,KAAM,aAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,MAC3B,MAAO,CACNroC,IAAK,MACLgoC,KAAM,sBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,IAAM,IAC3B,MAAO,CACNroC,IAAK,KACLgoC,KAAM,oBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,MAC3B,MAAO,CACNroC,IAAK,MACLgoC,KAAM,uBAIR,GAAItuC,KAAK4uC,YAAY,OAAQ,OACtB1C,EAAUtM,OAAO,GACvB,MAAMkP,QAAwB5C,EAAU5M,UAAU4O,IAClD,OAAIhC,EAAUv1B,SAAWm4B,EAAkB5C,EAAUrM,SAASvgC,KAEtD,CACNgH,IAAK,MACLgoC,KAAM,qBAIFpC,EAAUtM,OAAOkP,GAChB9uC,KAAK+uC,cAAc7C,GAC3B,CAGA,GAAIlsC,KAAK4uC,YAAY,OACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,oBAIR,IACqB,KAAnBtuC,KAAK/H,OAAO,IAAkC,KAAnB+H,KAAK/H,OAAO,KACrC+H,KAAK2uC,MAAM,CAAC,GAAM,IAAO,CAACr0C,OAAQ,IAErC,MAAO,CACNgM,IAAK,MACLgoC,KAAM,iCAOR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,IAAM,MAC3B,OAAI3uC,KAAK2uC,MAAM,CAAC,KAAO,CAACr0C,OAAQ,IACxB,CACNgM,IAAK,MACLgoC,KAAM,aAID,CACNhoC,IAAK,MACLgoC,KAAM,cAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,IAAM,IACjC,MAAO,CACNroC,IAAK,OACLgoC,KAAM,oBAIR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,OACLgoC,KAAM,cAIR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,6BAKR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,oBAIR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,cAIR,GAAItuC,KAAK4uC,YAAY,OAAQ,CAACt0C,OAAQ,IACrC,MAAO,CACNgM,IAAK,OACLgoC,KAAM,cAMR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,EAAK,IAAO,CACvC,IAAIK,EA8DJ,aA7DM,IAAI/C,GAAWC,GAAWS,MAAMI,IACrC,OAAQA,EAAU/B,UACjB,IAAK,uBAKJ,OAJAgE,EAAW,CACV1oC,IAAK,MACLgoC,KAAM,2BAEA,CACNxB,MAAM,GAER,IAAK,uBAKJ,OAJAkC,EAAW,CACV1oC,IAAK,MACLgoC,KAAM,4BAEA,CACNxB,MAAM,GAER,IAAK,WACJ,MAAO,CACN,aAAMM,CAAQH,GAEb,MAAMoB,EAAW,IAAI9Q,YAAY,SAASC,OAAOyP,GAAU1nC,OAC3DypC,EAAWZ,GAAwBC,EACpC,EACAvB,MAAM,GAGR,IAAK,sBACJ,MAAO,CACN,aAAMM,CAAQH,GAEb,IAAIgC,EAAa,IAAI1R,YAAY,SAASC,OAAOyP,GACjD,MAAMiC,EAASD,EAAWl1C,QAAQ,cAClC,IAAe,IAAXm1C,EAAe,CAClB,MAAMb,EAAW,yDACbY,EAAWppC,SAAS,gBAAgBwoC,QACvCW,EAAWZ,GAAwBC,GAErC,KAAO,CACNY,EAAaA,EAAWjxC,MAAM,EAAG5C,KAAKiK,IAAI,EAAG6pC,IAC7C,MAAMC,EAAWF,EAAWnuC,YAAY,KAClCutC,EAAWY,EAAWjxC,MAAM5C,KAAKiK,IAAI,EAAG8pC,EAAW,IACzDH,EAAWZ,GAAwBC,EACpC,CACD,EACAvB,MAAM,GAER,QACC,MAAI,kBAAkB9yB,KAAK+yB,EAAU/B,WACpCgE,EAAW,CACV1oC,IAAK,MACLgoC,KAAM,2CAEA,CAACxB,MAAM,IAGR,CAAA,KAIHkC,GAAY,CAClB1oC,IAAK,MACLgoC,KAAM,kBAER,CAEA,GAAItuC,KAAK4uC,YAAY,QAAS,OAEvB1C,EAAUtM,OAAO,IACvB,MAAM5gC,EAAO,IAAIrF,WAAW,GAI5B,aAHMuyC,EAAU3M,WAAWvgC,GAGvBuvC,GAAOvvC,EAAM,CAAC,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,MACpD,CACNsH,IAAK,OACLgoC,KAAM,0BAKJC,GAAOvvC,EAAM,CAAC,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,KAC9C,CACNsH,IAAK,MACLgoC,KAAM,aAKJC,GAAOvvC,EAAM,CAAC,EAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC9C,CACNsH,IAAK,MACLgoC,KAAM,aAKJC,GAAOvvC,EAAM,CAAC,IAAM,GAAM,GAAM,GAAM,KAClC,CACNsH,IAAK,MACLgoC,KAAM,aAKJC,GAAOvvC,EAAM,CAAC,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,KAC9C,CACNsH,IAAK,MACLgoC,KAAM,aAKJC,GAAOvvC,EAAM,CAAC,EAAM,IAAM,IAAM,IAAM,GAAM,IAAM,MAC9C,CACNsH,IAAK,MACLgoC,KAAM,aAKD,CACNhoC,IAAK,MACLgoC,KAAM,kBAER,CAEA,GACCtuC,KAAK2uC,MAAM,CAAC,GAAM,OACK,IAAnB3uC,KAAK/H,OAAO,IAAiC,IAAnB+H,KAAK/H,OAAO,IAAiC,IAAnB+H,KAAK/H,OAAO,MAC7C,IAAnB+H,KAAK/H,OAAO,IAAiC,IAAnB+H,KAAK/H,OAAO,IAAiC,IAAnB+H,KAAK/H,OAAO,IAEpE,MAAO,CACNqO,IAAK,MACLgoC,KAAM,mBAIR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,cAIR,GACCtuC,KAAK4uC,YAAY,UAEhB5uC,KAAK2uC,MAAM,CAAC,EAAM,EAAM,EAAM,GAAO,CAACr0C,OAAQ,KAC3C0F,KAAK4uC,YAAY,OAAQ,CAACt0C,OAAQ,KAGtC,MAAO,CACNgM,IAAK,OACLgoC,KAAM,aAIR,GACCtuC,KAAK4uC,YAAY,UAEhB5uC,KAAK2uC,MAAM,CAAC,EAAM,EAAM,EAAM,GAAO,CAACr0C,OAAQ,KAC3C0F,KAAK4uC,YAAY,OAAQ,CAACt0C,OAAQ,KAGtC,MAAO,CACNgM,IAAK,QACLgoC,KAAM,cAIR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,IAAM,IAAM,OAAU3uC,KAAK2uC,MAAM,CAAC,IAAM,IAAM,IAAM,MACzE,MAAO,CACNroC,IAAK,OACLgoC,KAAM,gCAKR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,eAIR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,KACLgoC,KAAM,sBAIR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,OACLgoC,KAAM,cAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,MACjC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,aAIR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,KACLgoC,KAAM,iBAIR,GAAItuC,KAAK4uC,YAAY,QAEpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,mBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,EAAM,GAAM,IAAM,MACjC,MAAO,CACNroC,IAAK,OACLgoC,KAAM,oBAKR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,KAAQ,CAC7B,MAAMK,QAAiBhvC,KAAKovC,gBAAe,GAC3C,GAAIJ,EACH,OAAOA,CAET,CAGA,GAAIhvC,KAAK2uC,MAAM,CAAC,GAAM,KAAQ,CAC7B,MAAMK,QAAiBhvC,KAAKovC,gBAAe,GAC3C,GAAIJ,EACH,OAAOA,CAET,CAEA,GAAIhvC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,aAKR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,IAAM,MAAQ,CACzCphB,eAAe8hB,IACd,MAAMC,QAAYpD,EAAUvM,WAAW4P,IACvC,IAAIf,EAAO,IACPgB,EAAK,EAET,KAAwB,KAAhBF,EAAMd,IAAwB,IAATA,KAC1BgB,EACFhB,IAAS,EAGV,MAAM3xB,EAAK,IAAIljB,WAAW61C,EAAK,GAE/B,aADMtD,EAAU3M,WAAW1iB,GACpBA,CACR,CAEA0Q,eAAekiB,IACd,MAAMC,QAAgBL,IAChBM,QAAoBN,IAE1BM,EAAY,IAAM,KAASA,EAAYz2C,OAAS,EAChD,MAAM02C,EAAWx0C,KAAKwH,IAAI,EAAG+sC,EAAYz2C,QAEnC22C,EAAS,IAAI7T,SAAS0T,EAAQz3C,QAC9B63C,EAAa,IAAI9T,SAAS2T,EAAY13C,OAAQ03C,EAAYz2C,OAAS02C,EAAUA,GAEnF,MAAO,CACN/yB,GAAIkxB,GAAU8B,GACd/2C,IAAKi1C,GAAU+B,GAEjB,CAEAviB,eAAewiB,EAAaC,GAC3B,KAAOA,EAAW,GAAG,CACpB,MAAMC,QAAgBR,IACtB,GAAmB,QAAfQ,EAAQpzB,GAAgB,CAE3B,aADuBqvB,EAAU5M,UAAU,IAAI4Q,GAAiBD,EAAQn3C,OACxDq3C,WAAW,UAAW,GACvC,OAEMjE,EAAUtM,OAAOqQ,EAAQn3C,OAC7Bk3C,CACH,CACD,CAEA,MAAMI,QAAWX,IAGjB,aAF2BM,EAAaK,EAAGt3C,MAG1C,IAAK,OACJ,MAAO,CACNwN,IAAK,OACLgoC,KAAM,cAGR,IAAK,WACJ,MAAO,CACNhoC,IAAK,MACLgoC,KAAM,kBAGR,QACC,OAEH,CAEA,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,SACLgoC,KAAM,yBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,KACjC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,kCAIR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,yCAIR,GACCtuC,KAAK4uC,YAAY,SACd5uC,KAAK4uC,YAAY,QAEpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,qCAIR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,IAAM,IAAM,MACjC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,qBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,IAAM,IAAM,MACjC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,mBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,IAAM,GAAM,MACjC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,oBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,GAAM,GAAM,KACjC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,qBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,KACjC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,8BAIR,GAAItuC,KAAK4uC,YAAY,SAAW5uC,KAAK4uC,YAAY,QAChD,MAAO,CACNtoC,IAAK,UACLgoC,KAAM,kCAIR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,mBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,IAAM,IAAM,MACjC,MAAO,CACNroC,IAAK,QACLgoC,KAAM,6BAIR,GAAItuC,KAAK2uC,MAAM,CAAC,EAAM,GAAM,GAAM,KACjC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,qBAMR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,GAAM,IACvC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,YAIR,GAAItuC,KAAK4uC,YAAY,SACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,aAIR,GAAItuC,KAAK4uC,YAAY,UACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,mBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,IACjC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,eAIR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,KACLgoC,KAAM,cAIR,GACCtuC,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,KAChC0F,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,KACnC0F,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,KACnC0F,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,KACnC0F,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,KACnC0F,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,KACnC0F,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,KACnC0F,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,KACnC0F,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,KACnC0F,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,KACnC0F,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,KACnC0F,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,IAEtC,MAAO,CACNgM,IAAK,MACLgoC,KAAM,gCAKR,GAAItuC,KAAK2uC,MAAM,CAAC,EAAM,EAAM,EAAM,MAAQ,CAEzC,GAAI3uC,KAAK2uC,MAAM,CAAC,IAAO,CAACr0C,OAAQ,EAAGk0C,KAAM,CAAC,OACzC,MAAO,CACNloC,IAAK,MACLgoC,KAAM,cAKR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAO,CAACr0C,OAAQ,EAAGk0C,KAAM,CAAC,OACzC,MAAO,CACNloC,IAAK,MACLgoC,KAAM,aAGT,CAEA,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,+BAIR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,IAAM,IAAM,MACjC,MAAO,CACNroC,IAAK,QACLgoC,KAAM,uBAIR,GAAItuC,KAAK4uC,YAAY,QACpB,MAAO,CACNtoC,IAAK,KACLgoC,KAAM,gCAMR,GAAItuC,KAAK4uC,YAAY,SACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,gCAMR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,GAAM,IAAM,GAAM,GAAM,IAC7C,MAAO,CACNroC,IAAK,KACLgoC,KAAM,oBAIR,GAAItuC,KAAK4uC,YAAY,UACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,mBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,IAAM,IAAM,IAAM,GAAM,KAC7C,MAAO,CACNroC,IAAK,KACLgoC,KAAM,+BAIR,GACCtuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,IAAM,GAAM,GAAM,MACnB,IAAnB3uC,KAAK/H,OAAO,IAAiC,IAAnB+H,KAAK/H,OAAO,IAE1C,MAAO,CACNqO,IAAK,MACLgoC,KAAM,gCAIR,GAAItuC,KAAK4uC,YAAY,UACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,aAIR,GAAItuC,KAAK4uC,YAAY,MAAO,CAC3B,MAAMn/B,EAAU,IAAIygC,GAAiB,EAAG,UAAUhsC,IAAIlE,KAAK/H,OAAQ,GACnE,GAAIwX,EAAQgM,MAAM,QAAUhM,GAAW,KAAQA,GAAW,KACzD,MAAO,CACNnJ,IAAK,MACLgoC,KAAM,gBAGT,CAEA,GAAItuC,KAAK4uC,YAAY,UACpB,MAAO,CACNtoC,IAAK,OACLgoC,KAAM,sBAMR,GAAItuC,KAAK4uC,YAAY,WACpB,MAAO,CACNtoC,IAAK,QACLgoC,KAAM,yBAIR,GAAItuC,KAAK4uC,YAAY,WAAY,OAC1B1C,EAAUtM,OAAO,GAEvB,MAAe,wBADMsM,EAAU5M,UAAU,IAAI4Q,GAAiB,GAAI,UAE1D,CACN5pC,IAAK,MACLgoC,KAAM,qBAID,CACNhoC,IAAK,KACLgoC,KAAM,6BAER,CAEA,GACCtuC,KAAK4uC,YAAY,WAGf,CAAC,KAAM,KAAM,KAAM,IAAK,MAAM7zB,KAAKs1B,GAASrwC,KAAK4uC,YAAYyB,EAAO,CAAC/1C,OAAQ,KAE/E,MAAO,CACNgM,IAAK,MACLgoC,KAAM,YAMR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,KAAQ,CAWjEphB,eAAe+iB,IACd,MAAO,CACNp3C,aAAcgzC,EAAU5M,UAAUiR,IAClCvxC,WAAYktC,EAAU5M,UAAU,IAAI4Q,GAAiB,EAAG,WAE1D,OAPMhE,EAAUtM,OAAO,GASvB,EAAG,CACF,MAAMxS,QAAckjB,IACpB,GAAIljB,EAAMl0B,OAAS,EAClB,OAGD,OAAQk0B,EAAMpuB,MACb,IAAK,OACJ,MAAO,CACNsH,IAAK,MACLgoC,KAAM,aAER,IAAK,OACJ,MAAO,CACNhoC,IAAK,OACLgoC,KAAM,cAER,cACOpC,EAAUtM,OAAOxS,EAAMl0B,OAAS,GAEzC,OAASgzC,EAAUv1B,SAAW,EAAIu1B,EAAUrM,SAASvgC,MAErD,MAAO,CACNgH,IAAK,MACLgoC,KAAM,YAER,CAEA,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,EAAM,IACzD,MAAO,CACNroC,IAAK,QACLgoC,KAAM,qCAIR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,IAAM,GAAM,GAAM,EAAM,EAAM,EAAM,IACzD,MAAO,CACNroC,IAAK,MACLgoC,KAAM,qBAKR,GACCtuC,KAAK2uC,MAAM,CAAC,IAAM,IAAM,IAAM,KAAO,CAACr0C,OAAQ,KAC3C0F,KAAK2uC,MAAM,CAAC,IAAM,IAAM,GAAM,KAAO,CAACr0C,OAAQ,KAC9C0F,KAAK2uC,MAAM,CAAC,IAAM,IAAM,IAAM,KAAO,CAACr0C,OAAQ,KAC9C0F,KAAK2uC,MAAM,CAAC,IAAM,IAAM,IAAM,KAAO,CAACr0C,OAAQ,IAEjD,MAAO,CACNgM,IAAK,MACLgoC,KAAM,mBAMR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,KAC/D,MAAO,CACNroC,IAAK,MACLgoC,KAAM,uBAIR,GAAItuC,KAAK4uC,YAAY,aACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,eAQR,GACCtuC,KAAK4uC,YAAY,OAAQ,CAACt0C,OAAQ,KACb,GAAjB0F,KAAK/H,OAAO,GACf,CAGD,MAAMu4C,EAAa,IAAIN,GAAiB,EAAG,UAAUhsC,IAAIlE,KAAK/H,OAAQ,GAAGqN,QAAQ,KAAM,KAAKC,OAC5F,OAAQirC,GACP,IAAK,OACL,IAAK,OACJ,MAAO,CAAClqC,IAAK,OAAQgoC,KAAM,cAC5B,IAAK,OACJ,MAAO,CAAChoC,IAAK,OAAQgoC,KAAM,cAC5B,IAAK,OACJ,MAAO,CAAChoC,IAAK,OAAQgoC,KAAM,uBAC5B,IAAK,OACL,IAAK,OACJ,MAAO,CAAChoC,IAAK,OAAQgoC,KAAM,cAC5B,IAAK,OACL,IAAK,OACJ,MAAO,CAAChoC,IAAK,OAAQgoC,KAAM,uBAC5B,IAAK,KACJ,MAAO,CAAChoC,IAAK,MAAOgoC,KAAM,mBAC3B,IAAK,MACL,IAAK,OACL,IAAK,OACJ,MAAO,CAAChoC,IAAK,MAAOgoC,KAAM,eAC3B,IAAK,MACJ,MAAO,CAAChoC,IAAK,MAAOgoC,KAAM,aAC3B,IAAK,MACJ,MAAO,CAAChoC,IAAK,MAAOgoC,KAAM,aAC3B,IAAK,MACJ,MAAO,CAAChoC,IAAK,MAAOgoC,KAAM,eAC3B,IAAK,MACJ,MAAO,CAAChoC,IAAK,MAAOgoC,KAAM,aAC3B,IAAK,MACJ,MAAO,CAAChoC,IAAK,MAAOgoC,KAAM,aAC3B,IAAK,MACJ,MAAO,CAAChoC,IAAK,MAAOgoC,KAAM,aAC3B,IAAK,MACJ,MAAO,CAAChoC,IAAK,MAAOgoC,KAAM,aAC3B,IAAK,MACJ,MAAO,CAAChoC,IAAK,MAAOgoC,KAAM,qBAC3B,QACC,OAAIkC,EAAWC,WAAW,MACrBD,EAAWC,WAAW,OAClB,CAACnqC,IAAK,MAAOgoC,KAAM,eAGpB,CAAChoC,IAAK,MAAOgoC,KAAM,cAGpB,CAAChoC,IAAK,MAAOgoC,KAAM,aAE7B,CAKA,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,KAAQ,CACzC,GAAI3uC,KAAK4uC,YAAY,OAAQ,CAACt0C,OAAQ,IACrC,MAAO,CACNgM,IAAK,OACLgoC,KAAM,cAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,IAAO,CAACr0C,OAAQ,IAC3C,MAAO,CACNgM,IAAK,MACLgoC,KAAM,iBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,IAAO,CAACr0C,OAAQ,IACjD,MAAO,CACNgM,IAAK,MACLgoC,KAAM,aAKR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,IAAO,CAACr0C,OAAQ,IACjD,MAAO,CACNgM,IAAK,MACLgoC,KAAM,cAGT,CAEA,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,EAAM,GAAM,EAAM,EAAM,EAAM,IAAM,IAAM,IAAM,MACjF,MAAO,CACNroC,IAAK,MACLgoC,KAAM,yBAKR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,MAAQ,CAC7EphB,eAAemjB,IACd,MAAMC,EAAO,IAAIh3C,WAAW,IAE5B,aADMuyC,EAAU3M,WAAWoR,GACpB,CACN9zB,GAAI8zB,EACJrxC,KAAMmC,aAAayqC,EAAU5M,UAAUsR,KAEzC,CAIA,UAFM1E,EAAUtM,OAAO,IAEhBsM,EAAUv1B,SAAW,GAAKu1B,EAAUrM,SAASvgC,MAAM,CACzD,MAAM0hB,QAAe0vB,IACrB,IAAI3X,EAAU/X,EAAO1hB,KAAO,GAC5B,GAAIivC,GAAOvtB,EAAOnE,GAAI,CAAC,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,EAAM,IAAM,GAAM,GAAM,GAAM,MAAQ,CAExH,MAAMg0B,EAAS,IAAIl3C,WAAW,IAG9B,GAFAo/B,SAAiBmT,EAAU3M,WAAWsR,GAElCtC,GAAOsC,EAAQ,CAAC,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,EAAM,IAAM,GAAM,GAAM,GAAM,KAE7G,MAAO,CACNvqC,IAAK,MACLgoC,KAAM,kBAIR,GAAIC,GAAOsC,EAAQ,CAAC,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,EAAM,IAAM,GAAM,GAAM,GAAM,KAE7G,MAAO,CACNvqC,IAAK,MACLgoC,KAAM,kBAIR,KACD,OAEMpC,EAAUtM,OAAO7G,EACxB,CAGA,MAAO,CACNzyB,IAAK,MACLgoC,KAAM,yBAER,CAEA,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,KACjF,MAAO,CACNroC,IAAK,MACLgoC,KAAM,aAIR,IAAKtuC,KAAK2uC,MAAM,CAAC,IAAM,GAAM,KAAU3uC,KAAK2uC,MAAM,CAAC,IAAM,GAAM,MAAW3uC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,IAAO,CAACr0C,OAAQ,IACvH,MAAO,CACNgM,IAAK,MACLgoC,KAAM,qBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GAAO,CAACr0C,OAAQ,IACjG,MAAO,CACNgM,IAAK,MACLgoC,KAAM,4BAIR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,GAAM,IAAM,KACjC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,aAIR,GAAItuC,KAAK2uC,MAAM,CAAC,EAAM,EAAM,EAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,KAAQ,OAGnFzC,EAAUtM,OAAO,IAEvB,aADmBsM,EAAU5M,UAAU,IAAI4Q,GAAiB,EAAG,WAE9D,IAAK,OACJ,MAAO,CACN5pC,IAAK,MACLgoC,KAAM,aAER,IAAK,OACJ,MAAO,CACNhoC,IAAK,MACLgoC,KAAM,aAER,IAAK,OACJ,MAAO,CACNhoC,IAAK,MACLgoC,KAAM,aAER,IAAK,OACJ,MAAO,CACNhoC,IAAK,MACLgoC,KAAM,aAER,QACC,OAEH,CAEA,GACCtuC,KAAK2uC,MAAM,CAAC,IAAM,MACf3uC,KAAK2uC,MAAM,CAAC,EAAM,EAAM,EAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,KAEjF,MAAO,CACNroC,IAAK,MACLgoC,KAAM,aAIR,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,MACrB,OAAI3uC,KAAK2uC,MAAM,CAAC,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,EAAG,IAAK,EAAG,KAAM,CAACr0C,OAAQ,IACxD,CACNgM,IAAK,MACLgoC,KAAM,wBAIR,EAGD,GAAItuC,KAAK2uC,MAAM,CAAC,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,MAEzD,MAAO,CACNroC,IAAK,MACLgoC,KAAM,qBAOR,SAFMpC,EAAUzM,WAAWz/B,KAAK/H,OAAQ,CAACiB,OAAQkC,KAAKwH,IAAI,IAAKspC,EAAUrM,SAASvgC,MAAO6+B,WAAW,IAEhGn+B,KAAK2uC,MAAM,CAAC,GAAM,GAAM,IAAM,KAAO,CAACr0C,OAAQ,KACjD,MAAO,CACNgM,IAAK,MACLgoC,KAAM,8BAKR,GAAItuC,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,KAAO0F,KAAK4uC,YAAY,KAAM,CAACt0C,OAAQ,KAC7E,MAAO,CACNgM,IAAK,MACLgoC,KAAM,gCAMR,GAAItuC,KAAK4uC,YAAY,UAAW,CAC/B,GAAI5uC,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,IACtC,MAAO,CACNgM,IAAK,MACLgoC,KAAM,cAIR,GAAItuC,KAAK4uC,YAAY,YAAa,CAACt0C,OAAQ,IAC1C,MAAO,CACNgM,IAAK,MACLgoC,KAAM,gBAGT,CAGA,GAAItuC,KAAK4uC,YAAY,mBACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,wBAIR,GAAItuC,KAAK4uC,YAAY,oBACpB,MAAO,CACNtoC,IAAK,KACLgoC,KAAM,cAIR,GAAItuC,KAAK4uC,YAAY,uBACpB,MAAO,CACNtoC,IAAK,MACLgoC,KAAM,eAIR,GAAItuC,KAAK2uC,MAAM,CAAC,EAAM,EAAM,EAAM,KAAU3uC,KAAK/H,OAAOiB,QAAU,GAAI,CACrE,MAAM43C,EAAW,IAAI9U,SAASh8B,KAAK/H,OAAOA,QAAQykC,UAAU,IAAI,GAEhE,GAAIoU,EAAW,IAAM9wC,KAAK/H,OAAOiB,QAAU43C,EAAW,GACrD,IACC,MAAM9vB,GAAS,IAAIuc,aAAcC,OAAOx9B,KAAK/H,OAAOiP,SAAS,GAAI4pC,EAAW,KAG5E,GAFaj2B,KAAKiF,MAAMkB,GAEf0rB,MACR,MAAO,CACNpmC,IAAK,OACLgoC,KAAM,qBAGT,CAAA,MAAS,CAEX,CAEA,OAAItuC,KAAK2uC,MAAM,CAAC,EAAM,GAAM,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAM,EAAM,EAAM,EAAM,EAAM,IACtF,CACNroC,IAAK,MACLgoC,KAAM,mBAIJtuC,KAAK4uC,YAAY,OAAQ,CAACt0C,OAAQ,KAC9B,CACNgM,IAAK,MACLgoC,KAAM,eAKJtuC,KAAK2uC,MAAM,CAAC,MAAU3uC,KAAK2uC,MAAM,CAAC,IAAO,CAACr0C,OAAQ,OAQlD0F,KAAK2uC,MAAM,CAAC,IAAO,CAACr0C,OAAQ,KAAO0F,KAAK2uC,MAAM,CAAC,IAAO,CAACr0C,OAAQ,MAP3D,CACNgM,IAAK,MACLgoC,KAAM,cAYJtuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAO,CAACr0C,OAAQ,KAClE,CACNgM,IAAK,OACLgoC,KAAM,kCAIJtuC,KAAK2uC,MAAM,CAAC,GAAM,GAAM,GAAM,IAAO,CAACr0C,OAAQ,MAC1C,CACNgM,IAAK,MACLgoC,KAAM,qBAIJtuC,KAAK2uC,MAAM,CAAC,GAAM,EAAM,EAAM,EAAM,EAAM,GAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,KAC1H,CACNroC,IAAK,MACLgoC,KAAM,6BAIJtuC,KAAK2uC,MAAM,CAAC,GAAM,IAAM,IAAM,IAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GAAM,IAAM,IAAM,EAAM,EAAM,EAAM,IAClG,CACNroC,IAAK,QACLgoC,KAAM,6BAIJtuC,KAAK4uC,YAAY,0BACb,CACNtoC,IAAK,MACLgoC,KAAM,8BAKPtuC,KAAK2uC,MAAM,CAAC,GAAM,IAAO,CAACr0C,OAAQ,OAEjC0F,KAAK2uC,MAAM,CAAC,EAAM,EAAM,GAAO,CAACr0C,OAAQ,KACrC0F,KAAK2uC,MAAM,CAAC,EAAM,EAAM,GAAO,CAACr0C,OAAQ,KACxC0F,KAAK2uC,MAAM,CAAC,EAAM,EAAM,GAAO,CAACr0C,OAAQ,KAGrC,CACNgM,IAAK,MACLgoC,KAAM,iCAIJtuC,KAAK2uC,MAAM,CAAC,EAAM,EAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,KAClG,CACNroC,IAAK,OACLgoC,KAAM,iCAKFpC,EAAUzM,WAAWz/B,KAAK/H,OAAQ,CAACiB,OAAQkC,KAAKwH,IAAI,IAAKspC,EAAUrM,SAASvgC,MAAO6+B,WAAW,IAG/Fn+B,KAAK4uC,YAAY,QAAS,CAACt0C,OAAQ,QAAU0F,KAAK4uC,YAAY,KAAM,CAACt0C,OAAQ,OAAS0F,KAAK4uC,YAAY,IAAK,CAACt0C,OAAQ,QACrH0F,KAAK2uC,MAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAACr0C,OAAQ,ODllDxC,SAAkC00B,EAAa10B,EAAS,GAC9D,MAAMy2C,EAAUtvC,OAAOI,SAAS,IAAIs7B,GAAW,GAAGj5B,IAAI8qB,EAAa,KAAK1pB,QAAQ,QAAS,IAAIC,OAAQ,GACrG,GAAI9D,OAAO/F,MAAMq1C,GAChB,OAAO,EAGR,IAAIC,EAAM,IAEV,IAAA,IAAS91B,EAAQ5gB,EAAQ4gB,EAAQ5gB,EAAS,IAAK4gB,IAC9C81B,GAAOhiB,EAAY9T,GAGpB,IAAA,IAASA,EAAQ5gB,EAAS,IAAK4gB,EAAQ5gB,EAAS,IAAK4gB,IACpD81B,GAAOhiB,EAAY9T,GAGpB,OAAO61B,IAAYC,CACpB,CCikDwDC,CAAyBjxC,KAAK/H,QAC5E,CACNqO,IAAK,MACLgoC,KAAM,qBAIJtuC,KAAK2uC,MAAM,CAAC,IAAM,MACjB3uC,KAAK2uC,MAAM,CAAC,GAAI,EAAG,GAAI,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,GAAI,CAACr0C,OAAQ,IACxD,CACNgM,IAAK,MACLgoC,KAAM,mBAIJtuC,KAAK2uC,MAAM,CAAC,IAAM,GAAM,GAAM,EAAM,IAAM,EAAM,IAAM,EAAM,IAAM,EAAM,GAAM,EAAM,IAAM,EAAM,GAAM,EAAM,IAAM,EAAM,GAAM,EAAM,GAAM,EAAM,IAAM,EAAM,IAAM,EAAM,IAAM,EAAM,IAAM,GAAO,CAACr0C,OAAQ,IACtM,CACNgM,IAAK,MACLgoC,KAAM,qCAIR,EAGGtuC,KAAK4uC,YAAY,+BACb,CACNtoC,IAAK,MACLgoC,KAAM,kCAHR,KAQDlV,EAAAp5B,KAAA,kBAAkButB,MAAM2e,IAMvB,GALAlsC,KAAK/H,OAAS,IAAI0B,WAAWw0C,UAGvBjC,EAAUzM,WAAWz/B,KAAK/H,OAAQ,CAACiB,OAAQkC,KAAKwH,IAAI,EAAGspC,EAAUrM,SAASvgC,MAAO6+B,WAAW,IAGjGn+B,KAAK2uC,MAAM,CAAC,EAAK,EAAK,EAAK,OACxB3uC,KAAK2uC,MAAM,CAAC,EAAK,EAAK,EAAK,MAE9B,MAAO,CACNroC,IAAK,MACLgoC,KAAM,cAIR,GAAItuC,KAAK2uC,MAAM,CAAC,EAAM,EAAM,EAAM,EAAM,IACvC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,YAIR,GAAItuC,KAAK2uC,MAAM,CAAC,EAAM,EAAM,EAAM,IACjC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,gBAIR,GAAItuC,KAAK2uC,MAAM,CAAC,EAAM,EAAM,EAAM,IACjC,MAAO,CACNroC,IAAK,MACLgoC,KAAM,gBAQR,SAHMpC,EAAUzM,WAAWz/B,KAAK/H,OAAQ,CAACiB,OAAQkC,KAAKwH,IAAI,EAAI5C,KAAKma,QAAQ+2B,oBAAqBhF,EAAUrM,SAASvgC,MAAO6+B,WAAW,IAGjIn+B,KAAK/H,OAAOiB,QAAW,EAAI8G,KAAKma,QAAQ+2B,oBAC3C,IAAA,IAASC,EAAQ,EAAGA,GAASnxC,KAAKma,QAAQ+2B,sBAAuBC,EAAO,CACvE,MAAMnyC,EAAOgB,KAAKoxC,SAASD,GAC3B,GAAInyC,EACH,OAAOA,CAET,IA/+CDgB,KAAKma,QAAU,CACd+2B,oBAAqB,KAClB/2B,GAGJna,KAAKqxC,UAAY,KAAK,MAAAl3B,OAAA,EAAAA,EAASm3B,kBAAmB,GACjD,CAACz0B,GAAI,OAAQ00B,OAAQvxC,KAAK6uC,iBAC1B,CAAChyB,GAAI,iBAAkB00B,OAAQvxC,KAAKwxC,kBACrCxxC,KAAKyxC,iBAAmB,CACvBpS,YAAa,MAAAllB,OAAA,EAAAA,EAASgR,OAExB,CAEA,mBAAM4jB,CAAc7C,GACnB,MAAMwF,EAAkBxF,EAAUv1B,SAGlC,IAAA,MAAWg7B,KAAY3xC,KAAKqxC,UAAW,CACtC,MAAMrC,QAAiB2C,EAASJ,OAAOrF,GACvC,GAAI8C,EACH,OAAOA,EAGR,GAAI0C,IAAoBxF,EAAUv1B,SACjC,MAEF,CACD,CAEA,gBAAMi7B,CAAWplC,GAChB,KAAMA,aAAiB7S,YAAc6S,aAAiB9P,aACrD,MAAM,IAAIa,UAAU,iGAAiGiP,OAGtH,MAAMvU,EAASuU,aAAiB7S,WAAa6S,EAAQ,IAAI7S,WAAW6S,GVhL/D,IAAoB0xB,EAAY/jB,EUkLrC,IAAM,MAAAliB,OAAA,EAAAA,EAAQiB,QAAS,EAIvB,OAAO8G,KAAK+uC,eVtLa7Q,EUsLoBjmC,EVtLRkiB,EUsLgBna,KAAKyxC,iBVrLjD,IAAIjR,GAAgBtC,EAAY/jB,IUsL1C,CAEA,cAAM03B,CAASC,GACd,OAAO9xC,KAAK+xC,WAAWD,EAAKtkB,SAC7B,CAEA,gBAAMukB,CAAWvkB,GAChB,MAAM0e,QAAkB8F,GAAsBxkB,EAAQxtB,KAAKyxC,kBAC3D,IACC,aAAazxC,KAAK+uC,cAAc7C,EACjC,CAAA,cACOA,EAAU9d,OACjB,CACD,CAEA,uBAAM6jB,CAAkBzkB,EAAQrT,GAC/B,MAAM+3B,WAACA,EAAa/D,IAAkCh0B,EACtD,IAAIg4B,EACAC,EAEJ,MAAM1kB,EAASF,EAAOG,UAAU,CAACmT,KAAM,SACvC,IAEC,MAAOxlC,MAAO8xB,EAAAnW,KAAOA,SAAcyW,EAAOvsB,KAAK,IAAIxH,WAAWu4C,IAE9D,GADAE,EAAahlB,GACRnW,GAAQmW,EACZ,IAEC+kB,QAAyBnyC,KAAK4xC,WAAWxkB,EAAMlmB,SAAS,EAAGgrC,GAC5D,OAASnuC,GACR,KAAMA,aAAiBsuC,IACtB,MAAMtuC,EAGPouC,OAAmB,CACpB,CAGDC,EAAahlB,CACd,CAAA,QACCM,EAAOkR,aACR,CAGA,MAAM0T,EAAkB,IAAIC,gBAAgB,CAC3C,WAAMr4C,CAAM8yB,GACXA,EAAWsB,QAAQ8jB,EACpB,EACA,SAAAI,CAAUplB,EAAOJ,GAEhBA,EAAWsB,QAAQlB,EACpB,IAGKqlB,EAAYjlB,EAAOklB,YAAYJ,GAGrC,OAFAG,EAAUzD,SAAWmD,EAEdM,CACR,CAEA,KAAA9D,CAAM3tB,EAAQ7G,GACb,OAAOo0B,GAAOvuC,KAAK/H,OAAQ+oB,EAAQ7G,EACpC,CAEA,WAAAy0B,CAAY5tB,EAAQ7G,GACnB,OAAOna,KAAK2uC,ODxSgBjxC,ECwSIsjB,EDvS1B,IAAItjB,GAAQ2U,IAAIsgC,GAAaA,EAAU35C,WAAW,KCuSfmhB,GDxSpC,IAAuBzc,CCyS7B,CAw4CA,iBAAMk1C,CAAYC,GACjB,MAAMC,QAAc9yC,KAAKksC,UAAU5M,UAAUuT,EAAYE,GAAkBC,IAE3E,OADAhzC,KAAKksC,UAAUtM,OAAO,IACdkT,GACP,KAAK,MACJ,MAAO,CACNxsC,IAAK,MACLgoC,KAAM,oBAER,KAAK,MACJ,MAAO,CACNhoC,IAAK,MACLgoC,KAAM,qBAIV,CAEA,iBAAM2E,CAAYJ,GACjB,MAAMK,QAAqBlzC,KAAKksC,UAAU5M,UAAUuT,EAAYE,GAAkBC,IAClF,IAAA,IAASxyC,EAAI,EAAGA,EAAI0yC,IAAgB1yC,EAAG,CACtC,MAAMwuC,QAAiBhvC,KAAK4yC,YAAYC,GACxC,GAAI7D,EACH,OAAOA,CAET,CACD,CAEA,oBAAMI,CAAeyD,GACpB,MAAMpjC,GAAWojC,EAAYE,GAAkBC,IAAiB9uC,IAAIlE,KAAK/H,OAAQ,GAC3Ek7C,GAAaN,EAAYO,GAAkBC,IAAiBnvC,IAAIlE,KAAK/H,OAAQ,GAEnF,GAAgB,KAAZwX,EAAgB,CAEnB,GAAI0jC,GAAa,EAAG,CACnB,GAAInzC,KAAK4uC,YAAY,KAAM,CAACt0C,OAAQ,IACnC,MAAO,CACNgM,IAAK,MACLgoC,KAAM,qBAIR,GAAI6E,GAAa,EAAG,CACnB,MAAMG,GAAWT,EAAYE,GAAkBC,IAAiB9uC,IAAIlE,KAAK/H,OAAQ,GAC3Es7C,GAAWV,EAAYE,GAAkBC,IAAiB9uC,IAAIlE,KAAK/H,OAAQ,IAEjF,GACc,KAAZq7C,GAAgC,MAAZC,GACL,KAAZD,GAAgC,KAAZC,EACxB,MAAO,CACNjtC,IAAK,MACLgoC,KAAM,oBAGT,CACD,OAEMtuC,KAAKksC,UAAUtM,OAAOuT,GAE5B,aADuBnzC,KAAKizC,YAAYJ,IACrB,CAClBvsC,IAAK,MACLgoC,KAAM,aAER,CAEA,GAAgB,KAAZ7+B,EACH,MAAO,CACNnJ,IAAK,MACLgoC,KAAM,aAGT,CAQA,QAAA8C,CAAS92C,GACR,GAAI0F,KAAK2uC,MAAM,CAAC,IAAM,KAAO,CAACr0C,SAAQk0C,KAAM,CAAC,IAAM,OAAS,CAC3D,GAAIxuC,KAAK2uC,MAAM,CAAC,IAAO,CAACr0C,OAAQA,EAAS,EAAGk0C,KAAM,CAAC,MAElD,OAAIxuC,KAAK2uC,MAAM,CAAC,GAAO,CAACr0C,OAAQA,EAAS,EAAGk0C,KAAM,CAAC,KAC3C,CACNloC,IAAK,MACLgoC,KAAM,aAaT,GAAItuC,KAAK2uC,MAAM,CAAC,GAAO,CAACr0C,OAAQA,EAAS,EAAGk0C,KAAM,CAAC,KAClD,MAAO,CACNloC,IAAK,MACLgoC,KAAM,cAKR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAO,CAACr0C,OAAQA,EAAS,EAAGk0C,KAAM,CAAC,KAClD,MAAO,CACNloC,IAAK,MACLgoC,KAAM,cAKR,GAAItuC,KAAK2uC,MAAM,CAAC,GAAO,CAACr0C,OAAQA,EAAS,EAAGk0C,KAAM,CAAC,KAClD,MAAO,CACNloC,IAAK,MACLgoC,KAAM,aAGT,CACD,EAGkC,IAAIkF,IChzDb,CACzB,MACA,MACA,OACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,OACA,MACA,MACA,MACA,KACA,MACA,KACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,OACA,MACA,QACA,MACA,MACA,MACA,OACA,OACA,QACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,SACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,IACA,KACA,MACA,MACA,MACA,QACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,OACA,MACA,MACA,QACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,QACA,MACA,MACA,MACA,KACA,MACA,KACA,MACA,OACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,UACA,QACA,MACA,OACA,MACA,OACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,KACA,OACA,SDkoDiC,IAAIA,IC/nDb,CACxB,aACA,YACA,YACA,aACA,aACA,cACA,oBACA,oBACA,aACA,YACA,qBACA,4BACA,yBACA,uBACA,0BACA,0DACA,0CACA,iDACA,kDACA,0EACA,4EACA,oEACA,yEACA,kBACA,oBACA,+BACA,mBACA,sBACA,8BACA,gCACA,oCACA,YACA,aACA,iBACA,aACA,kBACA,gBACA,YACA,cACA,iBACA,iBACA,yBACA,aACA,aACA,aACA,YACA,YACA,YACA,yBACA,kBACA,aACA,YACA,gBACA,YACA,kBACA,oBACA,4BACA,2BACA,gCACA,kBACA,mBACA,YACA,aACA,gCACA,WACA,WACA,kBACA,eACA,cACA,yBACA,kBACA,mBACA,wBACA,iCACA,wCACA,oCACA,oBACA,6BACA,oBACA,yBACA,qBACA,oBACA,oBACA,kBACA,aACA,wBACA,YACA,YACA,YACA,YACA,YACA,YACA,aACA,kBACA,iCACA,aACA,sBACA,aACA,sBACA,aACA,YACA,oBACA,mBACA,gBACA,aACA,WACA,oBACA,+BACA,cACA,4BACA,4BACA,cACA,yBACA,cACA,aACA,sBACA,mBACA,oBACA,oBACA,wBACA,uBACA,cACA,cACA,2BACA,YACA,aACA,cACA,aACA,aACA,aACA,+BACA,aACA,+BACA,4BACA,qBACA,YACA,8BACA,YACA,YACA,mBACA,YACA,6BACA,gBACA,iCACA,sBACA,oBACA,qBACA,+BACA,mBACA,6BACA,6BACA,wBACA,0CACA,+BACA,oBACA,wEACA,uEACA,0EACA,oDACA,mDACA,0DACA,2DACA,8CACA,uDACA,iDACA,mDACA,mDACA,yDACA,6DACA,2BACA,iCC7VD,MAAMC,GAAev2C,OAAOgU,OAAO,MACnCuiC,GAAmB,KAAI,IACvBA,GAAoB,MAAI,IACxBA,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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107]}